<!doctype html><html class="antialiased scroll-smooth scroll-pt-14" lang=vi><meta charset=utf-8><title>Tìm hiểu Python decorators | manhhomienbienthuy</title><meta content="width=device-width,initial-scale=1" name=viewport><link href=https://manhhomienbienthuy.github.io/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://manhhomienbienthuy.github.io/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://manhhomienbienthuy.github.io/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=https://manhhomienbienthuy.github.io/site.webmanifest rel=manifest><link color=#5bbad5 href=https://manhhomienbienthuy.github.io/safari-pinned-tab.svg rel=mask-icon><meta content=#da532c name=msapplication-TileColor><meta content=#ffffff name=theme-color><link href=https://manhhomienbienthuy.github.io/2015/12/22/tim-hieu-python-decorators.html rel=canonical><meta content=https://manhhomienbienthuy.github.io/icon-tile.png name=msapplication-TileImage><meta content=on name=twitter:dnt><meta content=manhhomienbienthuy name=Author><meta content=general name=rating><meta content=product name=twitter:card><meta content=@_naa_4f name=twitter:site><meta content=@_naa_4f name=twitter:creator><link title="manhhomienbienthuy Full RSS Feed" href=https://manhhomienbienthuy.github.io/feeds/rss.xml rel=alternate type=application/rss+xml><link title="manhhomienbienthuy Full Atom Feed" href=https://manhhomienbienthuy.github.io/feeds/atom.xml rel=alternate type=application/atom+xml><meta content="Decorator trong Python được sử dụng khá nhiều, tuy nhiên nó cũng hơi khó hiểu một chút. Decorator cho chúng ta một cú pháp đơn giản để gọi các hàm bậc cao (higher-order functions). Về mặt lý thuyết, một decorator là một hàm nhận tham số đầu vào là một […]" name=description><meta content="Tìm hiểu Python decorators | manhhomienbienthuy" name=twitter:title><meta content="Decorator trong Python được sử dụng khá nhiều, tuy nhiên nó cũng hơi khó hiểu một chút. Decorator cho chúng ta một cú pháp đơn giản để gọi các hàm bậc cao (higher-order functions). Về mặt lý thuyết, một decorator là một hàm nhận tham số đầu vào là một […]" name=twitter:description><meta content=https://cdn.pixabay.com/photo/2013/03/23/23/10/brush-96240_1280.jpg name=twitter:image><link href=https://manhhomienbienthuy.github.io/theme/css/syntax.css rel=stylesheet><link href=https://manhhomienbienthuy.github.io/theme/css/app.css rel=stylesheet><script>document.documentElement.classList.toggle(`dark`,localStorage.theme===`dark`||!(`theme`in localStorage)&&window.matchMedia(`(prefers-color-scheme: dark)`).matches);</script><body class="text-slate-600 bg-slate-100 dark:bg-slate-700 dark:text-slate-300"><header class=mb-8><div class="fixed z-50 top-0 left-0 right-0 text-white bg-slate-900"><div class="relative flex flex-wrap justify-between items-center gap-x-4 container mx-auto px-4"><a class="my-2.5 rounded-full" href=https://manhhomienbienthuy.github.io> <img class="size-5 rounded-full" alt=manhhomienbienthuy height=20 src=https://manhhomienbienthuy.github.io/meow.webp width=20> </a><input class="hidden peer" id=menu-toggle type=checkbox><label class="grow flex items-center gap-x-0.5 md:hidden text-xs cursor-pointer" for=menu-toggle><svg viewbox="0 0 24 24" class=size-5 fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M4 6h16M4 12h16M4 18h16" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> <span class=uppercase>Menu</span></label><nav class="hidden peer-checked:block md:block grow order-last md:order-none w-full md:w-auto text-xs uppercase bg-slate-900 divide-y md:divide-y-0"><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io> Trang chủ </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/cuoc-song.html> Cuộc sống </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/du-lich.html> Du lịch </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/lap-trinh.html> Lập trình </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/tong-hop.html> Tổng hợp </a></nav><div><input class="hidden peer" id=theme-toggle type=checkbox><label class="size-5 text-slate-400 dark:text-slate-500 cursor-pointer" for=theme-toggle><span class=dark:hidden> <svg viewbox="0 0 24 24" class=size-5 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/><path d="M12 4v1M17.66 6.344l-.828.828M20.005 12.004h-1M17.66 17.664l-.828-.828M12 20.01V19M6.34 17.664l.835-.836M3.995 12.004h1.01M6 6l.835.836"/></svg> </span> <span class="hidden dark:inline"> <svg viewbox="0 0 24 24" class=size-5 fill=currentColor><path d="m17.715 15.15.95.316a1 1 0 0 0-1.445-1.185l.495.869ZM9 6.035l.846.534a1 1 0 0 0-1.14-1.49L9 6.035Zm8.221 8.246a5.47 5.47 0 0 1-2.72.718v2a7.47 7.47 0 0 0 3.71-.98l-.99-1.738Zm-2.72.718A5.5 5.5 0 0 1 9 9.5H7a7.5 7.5 0 0 0 7.5 7.5v-2ZM9 9.5c0-1.079.31-2.082.845-2.93L8.153 5.5A7.47 7.47 0 0 0 7 9.5h2Zm-4 3.368C5 10.089 6.815 7.75 9.292 6.99L8.706 5.08C5.397 6.094 3 9.201 3 12.867h2Zm6.042 6.136C7.718 19.003 5 16.268 5 12.867H3c0 4.48 3.588 8.136 8.042 8.136v-2Zm5.725-4.17c-.81 2.433-3.074 4.17-5.725 4.17v2c3.552 0 6.553-2.327 7.622-5.537l-1.897-.632Z"/><path d="M17 3a1 1 0 0 1 1 1 2 2 0 0 0 2 2 1 1 0 1 1 0 2 2 2 0 0 0-2 2 1 1 0 1 1-2 0 2 2 0 0 0-2-2 1 1 0 1 1 0-2 2 2 0 0 0 2-2 1 1 0 0 1 1-1Z" clip-rule=evenodd fill-rule=evenodd /></svg> </span></label><ul class="hidden peer-checked:block absolute z-50 top-full right-2 w-36 mt-2 py-1 text-sm font-semibold bg-slate-100 dark:bg-slate-900 text-slate-400 dark:text-slate-500 rounded-lg shadow-lg overflow-hidden cursor-pointer"><li class="py-1 px-2 flex items-center" data-mode=light><svg class="size-6 mr-2" viewbox="0 0 24 24" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/><path d="M12 4v1M17.66 6.344l-.828.828M20.005 12.004h-1M17.66 17.664l-.828-.828M12 20.01V19M6.34 17.664l.835-.836M3.995 12.004h1.01M6 6l.835.836"/></svg> Light<li class="py-1 px-2 flex items-center cursor-pointer" data-mode=dark><svg class="size-6 mr-2" viewbox="0 0 24 24" fill=currentColor><path d="m17.715 15.15.95.316a1 1 0 0 0-1.445-1.185l.495.869ZM9 6.035l.846.534a1 1 0 0 0-1.14-1.49L9 6.035Zm8.221 8.246a5.47 5.47 0 0 1-2.72.718v2a7.47 7.47 0 0 0 3.71-.98l-.99-1.738Zm-2.72.718A5.5 5.5 0 0 1 9 9.5H7a7.5 7.5 0 0 0 7.5 7.5v-2ZM9 9.5c0-1.079.31-2.082.845-2.93L8.153 5.5A7.47 7.47 0 0 0 7 9.5h2Zm-4 3.368C5 10.089 6.815 7.75 9.292 6.99L8.706 5.08C5.397 6.094 3 9.201 3 12.867h2Zm6.042 6.136C7.718 19.003 5 16.268 5 12.867H3c0 4.48 3.588 8.136 8.042 8.136v-2Zm5.725-4.17c-.81 2.433-3.074 4.17-5.725 4.17v2c3.552 0 6.553-2.327 7.622-5.537l-1.897-.632Z"/><path d="M17 3a1 1 0 0 1 1 1 2 2 0 0 0 2 2 1 1 0 1 1 0 2 2 2 0 0 0-2 2 1 1 0 1 1-2 0 2 2 0 0 0-2-2 1 1 0 1 1 0-2 2 2 0 0 0 2-2 1 1 0 0 1 1-1Z" clip-rule=evenodd fill-rule=evenodd /></svg> Dark<li class="py-1 px-2 flex items-center cursor-pointer text-sky-500" data-mode=system><svg class="size-6 mr-2 text-slate-400 dark:text-slate-500" viewbox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" stroke-linecap=round stroke-linejoin=round /><path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke-linecap=round stroke-linejoin=round /></svg> System</ul></div></div></div><div class="pt-10 md:pt-12 bg-white shadow-sm dark:bg-slate-800 dark:text-slate-100"><div class="flex justify-center container mx-auto px-6 py-4"><a href=https://manhhomienbienthuy.github.io title=manhhomienbienthuy> <svg class="max-w-full max-h-24 w-auto h-auto text-slate-900 dark:text-slate-100" viewbox="0 0 1000 165" fill=currentColor height=165 version=1.0 width=1000 xmlns=http://www.w3.org/2000/svg><path d="M651.5 14.7c-10.4 1-11.6 1.4-11 3.3.9 2.9-1.2 7-17.6 34.2-8.4 13.9-17.6 30.2-20.4 36.3-3.5 7.4-6.7 12.4-9.6 15.4-6.1 6.1-13.9 9.2-13.9 5.6 0-2.6 4.7-11 12.7-22.8C600.3 74 602 70.5 602 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C500.2 71 505.5 60.6 504.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.2-3.6 4.8-2 6.7-19.5 35.4-25 41.1-5.1 5.1-8.7 6.6-9.8 3.8-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8c13.2-20.9 20.3-29.9 25.2-31.7 7-2.7 5.7 3-5 21-7.7 12.9-11.6 21.6-11.6 25.8 0 2 5.5 7.2 7.7 7.2 3.9 0 9.5-2.2 13.8-5.5 2.5-1.9 4.7-3.5 5-3.5s.5 1.3.5 2.8c0 1.7 1 3.8 2.5 5.2 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-5 7.7-10 15.9-11.2 18.2-2.7 5.4-2.9 11.8-.4 14.6 4.4 4.8 16.5 1.1 25.6-8l4.8-4.8.6 3.8c1.3 8.3 8.3 12.4 17.3 10.2 18.5-4.6 39.3-28 39.3-44.3 0-14-8.6-18.8-20-11.1-5.5 3.7-5.5 3.7-3.6.8 5.6-8.5 23.6-41 24.1-43.6.8-3.7 0-4.6-4-4.2zM542.6 62.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zm101 3c1.9 7.8-15.7 39.6-25.6 46.3-2.2 1.4-4.6 2.2-6.5 2-2.6-.3-3-.7-3.3-3.6-.8-8.1 8.8-27.5 19.7-39.5 7-7.8 14.4-10.2 15.7-5.2zM821 16c-1.1 1.1-2 2.7-2 3.5 0 2.1-5.3 12.5-9.7 19.2l-3.6 5.3h-5.8c-5.6 0-5.9.1-5.9 2.4 0 2.2.5 2.5 4.4 2.8l4.4.3-11 18c-6 9.9-13 22-15.4 27-4.7 9.9-7.3 13-12.1 15.1-4.2 1.8-6.3 1.8-6.3-.1 0-2.6 4.7-11 12.7-22.8C779.3 74 781 70.5 781 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C679.2 71 684.5 60.6 683.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.3-3.6 4.9-.7 2.2-4.9 10-9.3 17.3-10.4 17-12.9 22.7-12.9 28.8 0 3.8.5 5.2 2.5 7.1 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 10.4 11 11.4 23.4 2l3.5-2.7.8 3c2.1 8.2 12.3 8.2 22.8 0 4.4-3.5 5.6-3.7 3.5-.7-3.1 4.4-2.2 5.8 3.7 5.8 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-9.8 15.5-12.8 21.7-12.8 26.5 0 4.4 3.3 7.9 7.6 7.9 4.5 0 12.6-4.5 18.6-10.3l5.4-5.2-.4 5.2c-.5 6.3 1.3 9.8 5.7 10.8s9.5-1.7 17.1-9.1l6.9-6.6-.2 5.5c-.2 4.2.3 6 1.7 7.6 2.8 3.1 8.3 2.8 13.2-.7l3.9-2.8 2 3c1.1 1.6 3.1 3.3 4.5 3.6 3.8 1 11.1-1.5 15.8-5.5 2.3-2 4.2-3.4 4.2-3.1 0 1.2-10.4 19.3-13.5 23.6-4.7 6.4-14.3 15.4-19.3 17.9-4.7 2.4-10.9 2.7-13.7.8-1.6-1.2-1.6-1.8-.7-4.7 1.6-4.4 1.5-5.6-.4-7.4-3.8-3.8-10.4.2-10.4 6.3 0 11 18.9 13.3 36.9 4.5 11.2-5.5 20.6-15.4 29.7-31.4 3.9-6.9 10.6-18.4 14.9-25.5 16.8-28.2 19.1-32.6 18-34.5-.4-.6-3.5-1-7.1-1-5.3 0-6.6.3-7 1.7-.8 2.9-12.5 25.4-16.1 31.2-6.9 10.8-18.9 21.2-22.8 19.7-2.8-1 1.4-11 11-26.7 7.3-11.8 12.7-22.8 12.1-24.5-.6-1.5-4.4-1.8-9.5-.8-2.7.6-3.6 1.5-5.5 5.8-1.3 2.8-5.8 10.6-10 17.4-7.7 12.2-12.6 21.5-12.6 23.9 0 1.7-4.6 4.6-6 3.8-3.2-2 .2-11 10.4-27.8 7.7-12.8 11.5-20.1 11.6-22.5 0-.8-1.4-1.2-4.2-1.1-9.3.3-9.7.6-13.8 10.2-6.6 15.4-24.1 39.3-30.4 41.7-2.9 1-4.6.2-4.6-2.4 0-1.2 3.9-8.7 8.6-16.7C900 63.4 901.8 58 894.5 58c-6.7 0-9.5 1.1-10 3.9-2.4 12.1-24.9 42.1-34.6 46.1-7.4 3.1-5.5-3.2 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-1-1.2-2.4-1.5-6.1-1-6.7.9-7.5 1.4-8.3 4.4-.3 1.5-2.3 5.6-4.5 9.2-2.1 3.6-7.5 13-12 21-28.3 50.1-35.9 60.5-43.8 59.8-5-.4-5.2-2.6-1.2-12.1 3.3-8.1 16.2-30.6 24.2-42.5l4.9-7.2h5.4c5.2 0 5.5-.1 5.5-2.5 0-2.3-.4-2.5-4-2.5-2.2 0-4-.2-4-.6 0-.3 1.8-3.2 4-6.4 5-7.4 11-18.9 11-21.3 0-2.7-12.2-2.5-15 .3zm-99.4 46.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zM271.5 16.5c-.5.2-2.2.6-3.7.9-1.6.4-2.8 1.2-2.8 1.9 0 1.7-2.4 6.2-12.9 24.7-18.8 33.1-33.6 57.7-36.5 60.9-4.7 5.1-12.6 8-12.6 4.6 0-2.6 4.7-11 12.7-22.8C224.3 74 226 70.5 226 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 5.5-20.8 38.1-29.4 46-4.8 4.4-7 5.2-7.9 2.8-1-2.5 1-7.5 7.2-18 8.4-14.3 18.1-31.8 18.1-32.8 0-.4-2.9-.8-6.5-.8s-6.5.4-6.5.8c0 .5-.6 1.6-1.3 2.6-1.3 1.8-1.5 1.7-4.1-.9-2.4-2.4-3.4-2.7-7-2.3-13.6 1.6-31.1 16.8-39.7 34.5-5.8 11.8-16.5 21-18.5 15.9-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8C79.6 74.8 86.7 65.8 91.6 64c7-2.7 5.7 3-5 21C78.9 97.9 75 106.6 75 110.8c0 .7 1.4 2.7 3 4.4 2.8 2.7 3.5 3 7.1 2.4 5.4-.9 9.2-2.9 14.4-7.7l4.3-3.9.7 3.6c.3 2.1 2 5 3.6 6.7 2.5 2.5 3.6 2.9 6.4 2.4 3.8-.6 9.8-4.5 16.4-10.6 2.4-2.3 4.5-4.1 4.7-4.1s.4 2.2.4 5c0 6.2 2.7 9.6 6.8 8.5 3.5-.9 8.2-3.1 11.1-5.2 2.4-1.7 2.4-1.7 1.3.4-2.1 3.8-1.5 4.3 5.1 4.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 8.3 7.1 10.9 16.7 6 4.4-2.2 4.7-2.2 4.7-.5 0 1.6.8 1.9 5.3 1.9 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.4 21.3-15.4 27.6-10.3 32.4 4.2 3.9 12 1.6 22.4-6.7l3.5-2.8-2.7 4c-4.2 6.2-3.7 7.5 2.6 7.5 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.3 21.1-15.4 27.6-10.5 32.2 4.5 4.3 12 2 22.5-6.7 5.6-4.7 6.2-5 6.2-2.9 0 3.7 3.4 8.3 7.6 10.3 14.4 7 36.7-6.2 47.5-28 4-8 4.4-9.5 4.4-16.1 0-6.3-.3-7.6-2.4-9.8-8.4-8.9-26.6-4-42.2 11.5-6.3 6.2-8.5 9.2-12.2 17-3.4 7.1-5.7 10.3-9.1 13.1-5.7 4.8-9.3 6.5-10.7 5.1-1.6-1.6 1.6-8.1 10.1-20.8 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-2-2.4-13.9-.7-13.9 2S293.2 74.5 284 88c-5 7.3-16 18.3-20.1 20-7.4 3.1-5.6-3.1 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13-21.5 16.4-28.5 14.8-30.5-1.1-1.4-4.9-1.9-7.5-1zM151.8 62.2c3.2 3.2-.1 12.6-10.1 28.1-8.9 13.8-16.1 20.7-21.6 20.7-2.7 0-4.4-3.4-3.5-7.3 2.3-11.1 21.5-37.5 29.9-41.3 3.7-1.7 3.8-1.7 5.3-.2zm232 0c3.5 3.5-1 17.8-9.8 31.1-10.1 15.4-20.3 22.2-25.5 17-6.8-6.7 12.9-39 29-47.6 3.7-2 4.7-2.1 6.3-.5z"/><path d="M505.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8zM684.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8z"/></svg> </a></div></div></header><main><div class="grid grid-cols-1 md:grid-cols-7 items-start gap-6 container mx-auto px-6"><div class=md:col-span-5><div class="bg-white p-8 shadow-lg dark:bg-slate-800"><h1 class="mb-4 text-3xl leading-relaxed font-bold text-slate-900 uppercase dark:text-slate-100 after:block after:h-px after:w-8 after:mb-4 after:bg-slate-900 after:shadow-heading dark:after:bg-slate-100 dark:after:shadow-heading-dark">Tìm hiểu Python decorators</h1><div class="flex flex-wrap gap-x-4 mb-4 py-2 text-sm leading-relaxed text-slate-400"><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" stroke-linecap=round stroke-linejoin=round /></svg><a href=https://manhhomienbienthuy.github.io/category/lap-trinh.html> Lập trình </a></div><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap=round stroke-linejoin=round /></svg><a href=https://manhhomienbienthuy.github.io/2015> 2015-12-22 </a></div><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap=round stroke-linejoin=round /></svg><a href=https://manhhomienbienthuy.github.io/pages/gioi-thieu.html> manhhomienbienthuy </a></div><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" stroke-linecap=round stroke-linejoin=round /></svg> 2025-06-05 09:22:54 (UTC)</div></div><figure class=mb-10><img alt="Tìm hiểu Python decorators" class="w-full mb-4" decoding=async height=270 loading=lazy src=https://cdn.pixabay.com/photo/2013/03/23/23/10/brush-96240_1280.jpg width=360><figcaption class="pb-2 text-sm text-slate-400 border-b border-slate-100 dark:border-slate-700">Ảnh của <a class="text-crimson hover:text-slate-400" rel="noopener noreferrer" href=https://pixabay.com/users/weinstock-25534/ target=_blank>Uwe Baumann</a> từ <a class="text-crimson hover:text-slate-400" rel="noopener noreferrer" href=https://pixabay.com/photos/brush-paint-color-watercolor-art-96240/ target=_blank>Pixabay</a></figcaption></figure><div class="md:text-lg leading-loose md:leading-loose text-justify"><p class=my-4><a class="text-crimson border-b border-dotted border-crimson hover:text-slate-600 hover:border-slate-600 dark:hover:text-slate-300 dark:hover:border-slate-300" rel="noopener noreferrer" href=https://www.python.org/dev/peps/pep-0318/ target=_blank>Decorator</a> trong Python được sử dụng khá nhiều, tuy nhiên nó cũng hơi khó hiểu một chút. Decorator cho chúng ta một cú pháp đơn giản để gọi các hàm bậc cao (<a class="text-crimson border-b border-dotted border-crimson hover:text-slate-600 hover:border-slate-600 dark:hover:text-slate-300 dark:hover:border-slate-300" rel="noopener noreferrer" href=http://en.wikipedia.org/wiki/Higher-order_function target=_blank>higher-order functions</a>). Về mặt lý thuyết, một decorator là một hàm nhận tham số đầu vào là một hàm khác và mở rộng tính năng cho hàm đó mà không thay đổi nội dung của nó. Tuy nhiên, decorator không chỉ có vậy, nó thực sự còn làm nhiều việc khác nữa. Chúng ta sẽ dần dần khám phá trong bài viết này.<p class=my-4>Trong bài viết này, tôi sẽ giới thiệu một cách ngắn gọn và dễ hiểu về decorator, cách sử dụng chúng và cách tự viết một decorator cho riêng mình.<blockquote class="my-4 py-1 px-4 bg-slate-100 text-slate-500 border-l-4 border-slate-300 dark:border-slate-600 dark:bg-slate-900 dark:text-slate-400"><p class="my-4 mt-2 mb-2">Từ “decorator” được sử dụng trong Python có một chút biến đổi. Bạn hãy cẩn thận vì nó rất dễ gây nhầm lẫn với một design pattern cũng tên là <a class="text-crimson border-b border-dotted border-crimson hover:text-slate-600 hover:border-slate-600 dark:hover:text-slate-300 dark:hover:border-slate-300" rel="noopener noreferrer" href=https://en.wikipedia.org/wiki/Decorator_pattern target=_blank>decorator</a>. Thực ra, chúng ta có thể sử dụng decorator trong Python để cài đặt decorator pattern. Nhưng có rất nhiều hạn chế trong cách làm này. Theo tôi thấy thì decorator của Python có nhiều nét giống với macro hơn.</blockquote><div class="p-2 text-xs leading-relaxed bg-slate-100 whitespace-nowrap overflow-auto dark:bg-slate-900"><span class="font-semibold text-sm text-slate-900 mb-4 dark:text-slate-100">Mục lục</span><ul><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#co-so-ly-thuyet>Cơ sở lý thuyết</a><ul class=ml-5><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#ham>Hàm</a><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#ham-cung-la-oi-tuong>Hàm cũng là đối tượng</a><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#cac-ham-long-nhau>Các hàm lồng nhau</a><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#mot-ham-tra-ket-qua-la-mot-ham-khac>Một hàm trả kết quả là một hàm khác</a></ul><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#python-decorator-co-ban>Python decorator cơ bản</a><ul class=ml-5><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#lam-bang-tay>Làm bằng tay</a><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#decorator>Decorator</a></ul><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#python-decorator-nang-cao>Python decorator nâng cao</a><ul class=ml-5><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#truyen-tham-so-vao-ham-uoc-decorate>Truyền tham số vào hàm được decorate</a></ul><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#decorate-mot-phuong-thuc>Decorate một phương thức</a><ul class=ml-5><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#decorator-tong-quat>Decorator tổng quát</a><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#truyen-tham-so-cho-chinh-decorator>Truyền tham số cho chính decorator</a><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#decorate-mot-decorator>Decorate một decorator</a><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#luu-y>Lưu ý</a><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#decorator-co-thuc-su-can-thiet-hay-khong>Decorator có thực sự cần thiết hay không?</a><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#bonus-decorator-ma-van-giu-uoc-ham-goc>Bonus: Decorator mà vẫn giữ được hàm gốc</a></ul><li><a class="text-crimson hover:text-slate-600 dark:hover:text-slate-300" href=#ket-luan>Kết luận</a></ul></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-3xl text-slate-900 dark:text-slate-100" id=co-so-ly-thuyet><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#co-so-ly-thuyet> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Cơ sở lý thuyết</h2><p class=my-4>Trước khi bạn có thể hiểu các decorator, thì bạn cần hiểu một số khái niệm cơ bản của Python trước, trong phần này, chúng ta sẽ dần dần tìm hiểu những khái niệm đó.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=ham><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#ham> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Hàm</h3><p class=my-4>Hàm là một khái niệm rất cơ bản trong lập trình nói chung và Python nói riêng, nên tôi nghĩ không cần nói nhiều về nó. Đương nhiên các hàm sẽ trả về kết quả dựa trên tham số đầu vào của nó:<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>def</span> <span class=nf>greet</span><span class=p>(</span><span class=n>word</span><span class=o>=</span><span class=s2>"Hello"</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>word</span><span class=p>)</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=n>greet</span><span class=p>()</span>
<span class=go>Hello</span>
<span class=gp>>>> </span><span class=n>greet</span><span class=p>(</span><span class=s2>"Hello, world"</span><span class=p>)</span>
<span class=go>Hello, world</span>
<span class=gp>>>></span>
</code></pre></div><p class=my-4>Tôi nghĩ không cần phải nói nhiều về khái niệm này nữa, nó rất dễ hiểu. Nên chúng ta sẽ chuyển sang khái niệm tiếp theo.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=ham-cung-la-oi-tuong><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#ham-cung-la-oi-tuong> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Hàm cũng là đối tượng</h3><p class=my-4>Trong Python, hàm cũng là đối tượng, hơn nữa nó còn là đối tượng <a class="text-crimson border-b border-dotted border-crimson hover:text-slate-600 hover:border-slate-600 dark:hover:text-slate-300 dark:hover:border-slate-300" rel="noopener noreferrer" href=http://python-history.blogspot.com/2009/02/first-class-everything.html target=_blank>first-class</a>. Điều đó cho rất nhiều kết quả quan trọng. Chúng ta sẽ tìm hiểu thông qua một số ví dụ sau:<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>shout</span><span class=p>(</span><span class=n>word</span><span class=o>=</span><span class=s2>"aaa"</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>word</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span> <span class=o>+</span> <span class=s2>"!"</span>

<span class=nb>print</span><span class=p>(</span><span class=n>shout</span><span class=p>())</span> <span class=c1># output: AAA!</span>

<span class=c1># Bởi vì hàm cũng là đối tượng nên chúng ta có thể gán nó cho các</span>
<span class=c1># biến như những đối tượng khác.</span>
<span class=n>scream</span> <span class=o>=</span> <span class=n>shout</span>

<span class=c1># Như bạn đã thấy rằng, chúng ta không dùng dấu ngoặc, bởi vì</span>
<span class=c1># chúng ta không gọi hàm, mà chúng ta đang gán hàm cho biến khác</span>
<span class=c1># (scream).  Sau khi gán, chúng ta có thể gọi hàm shout từ biến</span>
<span class=c1># scream.</span>
<span class=nb>print</span><span class=p>(</span><span class=n>scream</span><span class=p>())</span> <span class=c1># output: AAA!</span>

<span class=c1># Không chỉ gán biến, chúng ta còn có thể xoá hàm như xoá những</span>
<span class=c1># đối tượng thông thường khác.</span>
<span class=k>del</span> <span class=n>shout</span>
<span class=k>try</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>shout</span><span class=p>())</span>
<span class=k>except</span> <span class=ne>NameError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
<span class=c1># output: name 'shout' is not defined</span>

<span class=c1># Tuy nhiên, chúng ta vẫn có thể gọi hàm thông qua biến scream.</span>
<span class=nb>print</span><span class=p>(</span><span class=n>scream</span><span class=p>())</span> <span class=c1># output: AAA!</span>
</code></pre></div><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=cac-ham-long-nhau><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#cac-ham-long-nhau> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Các hàm lồng nhau</h3><p class=my-4>Vì hàm là các đối tượng first-class (thực ra trong Python, mọi thứ đều là đối tượng first-class) nên nó có một đặc tính khá thú vị là nó có thể được định nghĩa bên trong một hàm khác. Các hàm như vậy gọi là các hàm lồng nhau.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>talk</span><span class=p>():</span>

    <span class=c1># Bạn có thể định nghĩa các hàm bên trong hàm `talk`</span>
    <span class=k>def</span> <span class=nf>whisper</span><span class=p>(</span><span class=n>word</span><span class=o>=</span><span class=s2>"aaa"</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>word</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>+</span> <span class=s2>"..."</span>

    <span class=c1># Và sau đó sử dụng hàm này</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>whisper</span><span class=p>())</span>

<span class=c1># Bạn có thể gọi hàm talk, mỗi lần bạn gọi hàm này, hàm whisper</span>
<span class=c1># sẽ được định nghĩa sau đó thực thi ở bên trong hàm talk.</span>
<span class=n>talk</span><span class=p>()</span> <span class=c1># output: aaa...</span>

<span class=c1># Nhưng bạn không thể gọi hàm whisper từ bên ngoài.</span>
<span class=k>try</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>whisper</span><span class=p>())</span>
<span class=k>except</span> <span class=ne>NameError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
<span class=c1># output: name 'whisper' is not defined</span>
</code></pre></div><p class=my-4><strong>Bài học rút ra</strong><p class=my-4>Hàm là các đối tượng (hơn nữa là đối tượng first-class), vì vậy:<ul class="list-[revert] ml-5 my-4"><li>Hàm có thể được gán cho các biến.<li>Hàm có thể được định nghĩa trong một hàm khác.</ul><p class=my-4>Vì những đặc điểm trên hàm còn <strong>có thể trả kết quả (<code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">return</code>) là một hàm khác</strong>.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=mot-ham-tra-ket-qua-la-mot-ham-khac><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#mot-ham-tra-ket-qua-la-mot-ham-khac> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Một hàm trả kết quả là một hàm khác</h3><p class=my-4>Python cho phép bạn viết một hàm mà hàm đó trả kết quả về là một hàm khác. Ví dụ:<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>get_talk</span><span class=p>(</span><span class=n>kind</span><span class=o>=</span><span class=s2>"shout"</span><span class=p>):</span>

    <span class=c1># Trước hết, chúng ta định nghĩa các hàm</span>
    <span class=k>def</span> <span class=nf>shout</span><span class=p>(</span><span class=n>word</span><span class=o>=</span><span class=s2>"aaa"</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>word</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span> <span class=o>+</span> <span class=s2>"!"</span>

    <span class=k>def</span> <span class=nf>whisper</span><span class=p>(</span><span class=n>word</span><span class=o>=</span><span class=s2>"aaa"</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>word</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>+</span> <span class=s2>"..."</span>

    <span class=c1># Bây giờ, chúng ta sẽ trả kết quả về những hàm này</span>
    <span class=k>if</span> <span class=n>kind</span> <span class=o>==</span> <span class=s2>"shout"</span><span class=p>:</span>
        <span class=c1># Chúng ta không sử dụng dấu ngoặc (), bởi vì chúng ta</span>
        <span class=c1># không gọi những hàm này, mà chúng ta return đối tượng</span>
        <span class=c1># tương ứng với các hàm.</span>
        <span class=k>return</span> <span class=n>shout</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>whisper</span>

<span class=c1># Gọi những thứ trên như thế nào?</span>

<span class=c1># Chúng ta gọi hàm và gán kết quả cho một biến</span>
<span class=n>talk</span> <span class=o>=</span> <span class=n>get_talk</span><span class=p>()</span>

<span class=c1># Bạn có thể thấy talk bây giờ là một đối tượng hàm</span>
<span class=nb>print</span><span class=p>(</span><span class=n>talk</span><span class=p>)</span> <span class=c1># output: &lt;function get_talk.&lt;locals>.shout at 0x101bdbae8></span>

<span class=c1># Đối tượng hàm này là một trong hai hàm con của get_talk</span>
<span class=nb>print</span><span class=p>(</span><span class=n>talk</span><span class=p>())</span> <span class=c1># output: AAA!</span>

<span class=c1># Bạn có thể dùng cách gọi ngắn gọn hơn nếu đã thành thạo</span>
<span class=nb>print</span><span class=p>(</span><span class=n>get_talk</span><span class=p>(</span><span class=s2>"whisper"</span><span class=p>)())</span> <span class=c1># output: aaa...</span>
</code></pre></div><p class=my-4>Không chỉ có thể trả kết quả là một hàm, hàm còn thể được truyền vào hàm khác như là một tham số.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>do_smth_before</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"Something before calling function"</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>func</span><span class=p>())</span>

<span class=nb>print</span><span class=p>(</span><span class=n>scream</span><span class=p>)</span>
<span class=c1># output:</span>
<span class=c1># Something before calling function</span>
<span class=c1># AAA!</span>
</code></pre></div><p class=my-4>Trên đây là những thứ cần thiết để hiểu về decorator của Python. Bạn sẽ thấy rằng, decorator là “wrapper” cho phép bạn chạy một số đoạn code trước hoặc sau hàm chính mà không thay đổi nội dung của nó.<h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-3xl text-slate-900 dark:text-slate-100" id=python-decorator-co-ban><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#python-decorator-co-ban> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Python decorator cơ bản</h2><p class=my-4>Khi có một hàm mà bạn muốn chạy một số code trước, hoặc sau hàm đó, bạn sẽ làm thế nào?<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=lam-bang-tay><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#lam-bang-tay> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Làm bằng tay</h3><p class=my-4>Chúng ta có thể sử dụng kiến thức về các hàm lồng nhau ở trên, để giải quyết bài toán này.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=c1># Decorator là hàm nhận hàm khác làm tham số</span>
<span class=k>def</span> <span class=nf>decorator_function</span><span class=p>(</span><span class=n>function_to_decorate</span><span class=p>):</span>

    <span class=c1># Bên trong, chúng ta sẽ định nghĩa một "wrapper".  Hàm này sẽ</span>
    <span class=c1># bao bọc xung quanh hàm gốc, vì thế chúng ta có thể chạy</span>
    <span class=c1># code trước hoặc sau hàm gốc đó</span>
    <span class=k>def</span> <span class=nf>wrapper_to_original_function</span><span class=p>():</span>
        <span class=c1># Đây là code được thực thi TRƯỚC hàm gốc</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"Before calling function"</span><span class=p>)</span>

        <span class=c1># Gọi hàm gốc, đây là gọi và thực thi hàm nên chúng ta sẽ</span>
        <span class=c1># dùng dấu ngoặc</span>
        <span class=n>function_to_decorate</span><span class=p>()</span>

        <span class=c1># Đây là code được thực thi SAU hàm gốc</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"After calling function"</span><span class=p>)</span>

    <span class=c1># Vào thời điểm này, hàm gốc vẫn CHƯA thực sự được thực thi,</span>
    <span class=c1># chúng ta sẽ return hàm wrapper mà chúng ta vừa tạo.  Hàm này</span>
    <span class=c1># chứa code được thực thi trước và sau hàm gốc, đặc biệt là</span>
    <span class=c1># nó có thể được thực thi.</span>
    <span class=k>return</span> <span class=n>wrapper_to_original_function</span>

<span class=c1># Giả sử bạn có một hàm mà không muốn ai thay đổi nó</span>
<span class=k>def</span> <span class=nf>a_function</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"Do not modify it"</span><span class=p>)</span>

<span class=n>a_function</span><span class=p>()</span> <span class=c1># output: Do not modify it</span>

<span class=c1># Bây giờ, bạn muốn mở rộng hành vi của hàm này, chạy một số code</span>
<span class=c1># trước và sau nó, hãy sử dụng decorator_function.  Truyền hàm này</span>
<span class=c1># như là tham số của hàm decorator, nó sẽ tự động bao bọc hàm, và</span>
<span class=c1># trả kết quả về là một hàm khác bạn có thể thực thi</span>
<span class=n>a_decorated_function</span> <span class=o>=</span> <span class=n>decorator_function</span><span class=p>(</span><span class=n>a_function</span><span class=p>)</span>

<span class=c1># Có thể bạn sẽ muốn chạy hàm a_decorated_function mỗi khi thực</span>
<span class=c1># thi hàm a_function.  Rất đơn giản, bạn chỉ cần override nó bằng</span>
<span class=c1># hàm trả về của decorator_function</span>
<span class=n>a_function</span> <span class=o>=</span> <span class=n>decorator_function</span><span class=p>(</span><span class=n>a_function</span><span class=p>)</span>

<span class=n>a_function</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># Before calling function</span>
<span class=c1># Do not modify it</span>
<span class=c1># After calling function</span>

<span class=c1># Đây chính là những gì mà decorator có thể làm</span>
</code></pre></div><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=decorator><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#decorator> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Decorator</h3><p class=my-4>Chúng có thể sử dụng cú pháp decorator của Python với ví dụ trên như sau:<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=nd>@decorator_function</span>
<span class=k>def</span> <span class=nf>a_function</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"Do not modify it"</span><span class=p>)</span>

<span class=n>a_function</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># Before calling function</span>
<span class=c1># Do not modify it</span>
<span class=c1># After calling function</span>
</code></pre></div><p class=my-4>Rất dễ hiểu phải không? Cú pháp <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">@decorator</code> (còn gọi là pie syntax) là cách viết ngắn gọn của:<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=n>a_function</span> <span class=o>=</span> <span class=n>decorator_function</span><span class=p>(</span><span class=n>a_function</span><span class=p>)</span>
</code></pre></div><p class=my-4>Thậm chí, bạn có thể sử dụng nhiều decorator cho một hàm, bởi kết quả trả về của decorator cũng là một hàm và nó hoàn toàn có thể được decorate bởi những decorator khác.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>decorator1</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>():</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"*"</span> <span class=o>*</span> <span class=mi>10</span><span class=p>)</span>
        <span class=n>func</span><span class=p>()</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"*"</span> <span class=o>*</span> <span class=mi>10</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=k>def</span> <span class=nf>decorator2</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>():</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"="</span> <span class=o>*</span> <span class=mi>10</span><span class=p>)</span>
        <span class=n>func</span><span class=p>()</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"="</span> <span class=o>*</span> <span class=mi>10</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=k>def</span> <span class=nf>some_func</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"hello"</span><span class=p>)</span>

<span class=n>some_func</span><span class=p>()</span> <span class=c1># output: hello</span>
<span class=n>some_func</span> <span class=o>=</span> <span class=n>decorator1</span><span class=p>(</span><span class=n>decorator2</span><span class=p>(</span><span class=n>some_func</span><span class=p>))</span>
<span class=n>some_func</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># **********</span>
<span class=c1># ==========</span>
<span class=c1># hello</span>
<span class=c1># ==========</span>
<span class=c1># **********</span>
</code></pre></div><p class=my-4>Sử dụng cú pháp decorator của Python<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=nd>@decorator1</span>
<span class=nd>@decorator2</span>
<span class=k>def</span> <span class=nf>some_func</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"hello"</span><span class=p>)</span>

<span class=n>some_func</span><span class=p>()</span>
<span class=c1># output giống như lúc trước</span>
<span class=c1># **********</span>
<span class=c1># ==========</span>
<span class=c1># hello</span>
<span class=c1># ==========</span>
<span class=c1># **********</span>

<span class=c1># Thứ tự của decorator cũng CÓ ảnh hưởng đến kết quả</span>
<span class=nd>@decorator2</span>
<span class=nd>@decorator1</span>
<span class=k>def</span> <span class=nf>some_func</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"hello"</span><span class=p>)</span>
<span class=n>some_func</span><span class=p>()</span>
<span class=c1># output lần này đã khác</span>
<span class=c1># ==========</span>
<span class=c1># **********</span>
<span class=c1># hello</span>
<span class=c1># **********</span>
<span class=c1># ==========</span>
</code></pre></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-3xl text-slate-900 dark:text-slate-100" id=python-decorator-nang-cao><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#python-decorator-nang-cao> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Python decorator nâng cao</h2><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=truyen-tham-so-vao-ham-uoc-decorate><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#truyen-tham-so-vao-ham-uoc-decorate> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Truyền tham số vào hàm được decorate</h3><div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=c1># Không có bí mật gì ở đây.  Chúng ta chỉ cần cho hàm wrapper nhận</span>
<span class=c1># tham số là được</span>

<span class=k>def</span> <span class=nf>a_decorator_passing_arguments</span><span class=p>(</span><span class=n>function_to_decorate</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>a_wrapper_accepting_arguments</span><span class=p>(</span><span class=n>arg1</span><span class=p>,</span> <span class=n>arg2</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"I got args!"</span><span class=p>,</span> <span class=n>arg1</span><span class=p>,</span> <span class=n>arg2</span><span class=p>)</span>
        <span class=n>function_to_decorate</span><span class=p>(</span><span class=n>arg1</span><span class=p>,</span> <span class=n>arg2</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>a_wrapper_accepting_arguments</span>

<span class=c1># Bởi vì khi chúng ta gọi hàm, thực ra là chúng ta gọi hàm được</span>
<span class=c1># trả về bởi decorator (hàm wrapper), nên nếu chúng ta truyền</span>
<span class=c1># tham số cho hàm này thì nó sẽ truyền cho hàm được decorate.</span>

<span class=nd>@a_decorator_passing_arguments</span>
<span class=k>def</span> <span class=nf>print_full_name</span><span class=p>(</span><span class=n>first_name</span><span class=p>,</span> <span class=n>last_name</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"My name is"</span><span class=p>,</span> <span class=n>first_name</span><span class=p>,</span> <span class=n>last_name</span><span class=p>)</span>

<span class=n>print_full_name</span><span class=p>(</span><span class=s2>"naa"</span><span class=p>,</span> <span class=s2>"manhhomienbienthuy"</span><span class=p>)</span>
<span class=c1># outputs:</span>
<span class=c1># I got args! naa manhhomienbienthuy</span>
<span class=c1># My name is naa manhhomienbienthuy</span>
</code></pre></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-3xl text-slate-900 dark:text-slate-100" id=decorate-mot-phuong-thuc><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#decorate-mot-phuong-thuc> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Decorate một phương thức</h2><p class=my-4>Hàm và phương thức của Python rất giống nhau, ngoại trừ một điểm, phương thức thuộc về một class mà nó luôn luôn có tham số đầu tiên là <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">self</code> (đối tượng hiện tại).<p class=my-4>Vì vậy, chúng ta có thể viết decorator cho phương thức giống như decorator cho hàm, chỉ với lưu ý rằng cần truyền tham số <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">self</code> cho wrapper.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>method_friendly_decorator</span><span class=p>(</span><span class=n>method_to_decorate</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>lie</span><span class=p>):</span>
        <span class=n>lie</span> <span class=o>=</span> <span class=n>lie</span> <span class=o>-</span> <span class=mi>3</span> <span class=c1># very friendly, decrease age even more :-)</span>
        <span class=k>return</span> <span class=n>method_to_decorate</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>lie</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span>


<span class=k>class</span> <span class=nc>Wife</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=mi>24</span>

    <span class=nd>@method_friendly_decorator</span>
    <span class=k>def</span> <span class=nf>say_your_age</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>lie</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"I am </span><span class=si>%s</span><span class=s2>, what did you think?"</span> <span class=o>%</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>+</span> <span class=n>lie</span><span class=p>))</span>

<span class=n>vp</span> <span class=o>=</span> <span class=n>Wife</span><span class=p>()</span>
<span class=n>vp</span><span class=o>.</span><span class=n>say_your_age</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>)</span>
<span class=c1># outputs: I am 18, what did you think?</span>
</code></pre></div><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=decorator-tong-quat><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#decorator-tong-quat> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Decorator tổng quát</h3><p class=my-4>Nếu bạn muốn xây dựng một decorator một cách tổng quát, có thể áp dụng cho mọi hàm với số lượng tham số khác nhau. Bạn chỉ cần sử dụng cú pháp <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">*args</code> và <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">**kwargs</code><div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>decorator_passing_arbitrary_arguments</span><span class=p>(</span><span class=n>function_to_decorate</span><span class=p>):</span>
    <span class=c1># Wrapper nhận mọi tham số đầu vào</span>
    <span class=k>def</span> <span class=nf>wrapper_accepting_arbitrary_arguments</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"Do I have args?:"</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>args</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=c1># Bây giờ truyền những tham số này cho hàm được decorate,</span>
        <span class=c1># nhớ unpack chúng.</span>
        <span class=n>function_to_decorate</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper_accepting_arbitrary_arguments</span>


<span class=nd>@decorator_passing_arbitrary_arguments</span>
<span class=k>def</span> <span class=nf>function_with_no_argument</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"No arguments here"</span><span class=p>)</span>

<span class=n>function_with_no_argument</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># Do I have args?:</span>
<span class=c1># ()</span>
<span class=c1># {}</span>
<span class=c1># No arguments here</span>

<span class=nd>@decorator_passing_arbitrary_arguments</span>
<span class=k>def</span> <span class=nf>function_with_arguments</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>

<span class=n>function_with_arguments</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=c1># output:</span>
<span class=c1># Do I have args?:</span>
<span class=c1># (1, 2, 3)</span>
<span class=c1># {}</span>
<span class=c1># 1 2 3</span>

<span class=nd>@decorator_passing_arbitrary_arguments</span>
<span class=k>def</span> <span class=nf>function_with_named_arguments</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>occupation</span><span class=o>=</span><span class=s2>"programmer"</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"</span><span class=si>%s</span><span class=s2> is a </span><span class=si>%s</span><span class=s2>"</span> <span class=o>%</span> <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>occupation</span><span class=p>))</span>

<span class=n>function_with_named_arguments</span><span class=p>(</span><span class=s2>"Ngoc Anh"</span><span class=p>,</span> <span class=n>occupation</span><span class=o>=</span><span class=s2>"developer"</span><span class=p>)</span>
<span class=c1># output:</span>
<span class=c1># Do I have args?:</span>
<span class=c1># ('Ngoc Anh',)</span>
<span class=c1># {'occupation': 'developer'}</span>
<span class=c1># Ngoc Anh is a developer</span>

<span class=k>class</span> <span class=nc>Husband</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=mi>25</span>

    <span class=nd>@decorator_passing_arbitrary_arguments</span>
    <span class=k>def</span> <span class=nf>say_your_age</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>lie</span><span class=o>=-</span><span class=mi>3</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"I am </span><span class=si>%s</span><span class=s2>, what did you think ?"</span> <span class=o>%</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>+</span> <span class=n>lie</span><span class=p>))</span>

<span class=n>na</span> <span class=o>=</span> <span class=n>Husband</span><span class=p>()</span>
<span class=n>na</span><span class=o>.</span><span class=n>say_your_age</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># Do I have args?:</span>
<span class=c1># (&lt;__main__.Husband object at 0x7f1244b65278>,)</span>
<span class=c1># {}</span>
<span class=c1># I am 22, what did you think ?</span>
</code></pre></div><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=truyen-tham-so-cho-chinh-decorator><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#truyen-tham-so-cho-chinh-decorator> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Truyền tham số cho chính decorator</h3><p class=my-4>Bây giờ, nếu bạn muốn truyền tham số cho chính decorator thì phải làm thế nào? Bởi vì decorator nhận tham số là một hàm nên bạn không thể truyền tham số cho nó được.<p class=my-4>Trước khi đến với giải pháp, chúng ta xem qua ví dụ sau:<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=c1># Decorator cũng là hàm THÔNG THƯỜNG</span>
<span class=k>def</span> <span class=nf>my_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"This is an ordinary function"</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>():</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"This is function return by decorator"</span><span class=p>)</span>
        <span class=n>func</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=c1># Do đó, bạn có thể gọi chúng là không cần dùng cú pháp `@`</span>
<span class=k>def</span> <span class=nf>lazy_function</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"lllllaaaaazzzzzyyyyy"</span><span class=p>)</span>

<span class=n>decorated_function</span> <span class=o>=</span> <span class=n>my_decorator</span><span class=p>(</span><span class=n>lazy_function</span><span class=p>)</span>
<span class=c1># outputs: This is an ordinary function</span>

<span class=c1># Output của đoạn code trên là "This is an ordinary function" bởi</span>
<span class=c1># vì đơn giản là bạn vừa gọi hàm nên nó có kết quả như vậy.  Không</span>
<span class=c1># có gì khó hiểu ở đây cả.</span>

<span class=nd>@my_decorator</span>
<span class=k>def</span> <span class=nf>lazy_function</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"lllllaaaaazzzzzyyyyy"</span><span class=p>)</span>

<span class=c1># outputs: This is an ordinary function</span>
</code></pre></div><p class=my-4>Hai cách làm cho kết quả giống hệt nhau. Đó là bởi vì khi bạn sử dụng cú pháp <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">@</code> thì Python sẽ gọi và thực thi hàm có tên là tên của decorator như thực thi một hàm thông thường.<p class=my-4>Điều này rất quan trọng, bởi vì bạn có thể dùng tên của decorator để <strong>trỏ tới chính hàm decorator đó hay không</strong>.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>decorator_maker</span><span class=p>():</span>

    <span class=nb>print</span><span class=p>(</span><span class=s2>"Make decorator and execute only once"</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>my_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"I am a decorator!"</span><span class=p>)</span>

        <span class=k>def</span> <span class=nf>wrapped</span><span class=p>():</span>
            <span class=nb>print</span> <span class=p>(</span><span class=s2>"I am the wrapper around the decorated function."</span><span class=p>)</span>
            <span class=n>func</span><span class=p>()</span>

        <span class=nb>print</span><span class=p>(</span><span class=s2>"As the decorator, I return the wrapped function."</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>wrapped</span>

    <span class=nb>print</span><span class=p>(</span><span class=s2>"As a decorator maker, I return a decorator"</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>my_decorator</span>

<span class=c1># Bây giờ, chúng ta sẽ tạo ra một decorator, đơn giản chỉ là gọi</span>
<span class=c1># các hàm</span>
<span class=n>new_decorator</span> <span class=o>=</span> <span class=n>decorator_maker</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># Make decorator and execute only once</span>
<span class=c1># As a decorator maker, I return a decorator</span>

<span class=c1># Sau đó là decorate hàm mà chúng ta muốn</span>
<span class=k>def</span> <span class=nf>decorated_function</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"I am the decorated function."</span><span class=p>)</span>

<span class=n>decorated_function</span> <span class=o>=</span> <span class=n>new_decorator</span><span class=p>(</span><span class=n>decorated_function</span><span class=p>)</span>
<span class=c1># output:</span>
<span class=c1># I am a decorator!</span>
<span class=c1># As the decorator, I return the wrapped function.</span>

<span class=c1># Thử gọi hàm được decorate xem sao</span>
<span class=n>decorated_function</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># I am the wrapper around the decorated function.</span>
<span class=c1># I am the decorated function.</span>
</code></pre></div><p class=my-4>Chúng ta có thể làm điều tương tự bằng cách bỏ qua các biến trung gian<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>decorated_function</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"I am the decorated function."</span><span class=p>)</span>
<span class=n>decorated_function</span> <span class=o>=</span> <span class=n>decorator_maker</span><span class=p>()(</span><span class=n>decorated_function</span><span class=p>)</span>
<span class=c1># output:</span>
<span class=c1># Make decorator and execute only once</span>
<span class=c1># As a decorator maker, I return a decorator</span>
<span class=c1># I am a decorator!</span>
<span class=c1># As the decorator, I return the wrapped function.</span>

<span class=c1># Gọi hàm được decorate</span>
<span class=n>decorated_function</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># I am the wrapper around the decorated function.</span>
<span class=c1># I am the decorated function.</span>
</code></pre></div><p class=my-4>Thậm chí chúng ta có thể dùng cú pháp ngắn gọn hơn:<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=nd>@decorator_maker</span><span class=p>()</span>
<span class=k>def</span> <span class=nf>decorated_function</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"I am the decorated function."</span><span class=p>)</span>
<span class=c1># output:</span>
<span class=c1># Make decorator and execute only once</span>
<span class=c1># As a decorator maker, I return a decorator</span>
<span class=c1># I am a decorator!</span>
<span class=c1># As the decorator, I return the wrapped function</span>

<span class=c1># Thử gọi hàm xem sao</span>
<span class=n>decorated_function</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># I am the wrapper around the decorated function.</span>
<span class=c1># I am the decorated function.</span>
</code></pre></div><p class=my-4>Rất đơn giản, chúng ta có thể gọi và thực thi hàm trong chính cú pháp <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">@</code>.<p class=my-4>Quay trở lại với bài toán của chúng ta, nếu chúng ta xây dựng một hàm trả kết quả về là một decorator thì chúng ta có thể truyền tham số cho hàm đó.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>decorator_maker_with_arguments</span><span class=p>(</span><span class=n>decorator_arg1</span><span class=p>,</span> <span class=n>decorator_arg2</span><span class=p>):</span>

    <span class=nb>print</span><span class=p>(</span><span class=s2>"I make decorators! And I accept arguments:"</span><span class=p>,</span>
          <span class=n>decorator_arg1</span><span class=p>,</span> <span class=n>decorator_arg2</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>my_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"I am the decorator.  You passed me arguments:"</span><span class=p>,</span>
              <span class=n>decorator_arg1</span><span class=p>,</span> <span class=n>decorator_arg2</span><span class=p>)</span>

        <span class=c1># Don't confuse decorator arguments and function arguments!</span>
        <span class=k>def</span> <span class=nf>wrapped</span><span class=p>(</span><span class=n>function_arg1</span><span class=p>,</span> <span class=n>function_arg2</span><span class=p>):</span>
            <span class=nb>print</span><span class=p>(</span><span class=s2>"I am the wrapper around the decorated function.</span><span class=se>\n</span><span class=s2>"</span>
                  <span class=s2>"I can access all the variables</span><span class=se>\n</span><span class=s2>"</span>
                  <span class=s2>"</span><span class=se>\t</span><span class=s2>- from the decorator: </span><span class=si>{0}</span><span class=s2> </span><span class=si>{1}</span><span class=se>\n</span><span class=s2>"</span>
                  <span class=s2>"</span><span class=se>\t</span><span class=s2>- from the function call: </span><span class=si>{2}</span><span class=s2> </span><span class=si>{3}</span><span class=se>\n</span><span class=s2>"</span>
                  <span class=s2>"Then I can pass them to the decorated function"</span>
                  <span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>decorator_arg1</span><span class=p>,</span> <span class=n>decorator_arg2</span><span class=p>,</span>
                          <span class=n>function_arg1</span><span class=p>,</span> <span class=n>function_arg2</span><span class=p>))</span>
            <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=n>function_arg1</span><span class=p>,</span> <span class=n>function_arg2</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>wrapped</span>

    <span class=k>return</span> <span class=n>my_decorator</span>


<span class=nd>@decorator_maker_with_arguments</span><span class=p>(</span><span class=s2>"foo"</span><span class=p>,</span> <span class=s2>"bar"</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>decorated_function_with_arguments</span><span class=p>(</span><span class=n>function_arg1</span><span class=p>,</span> <span class=n>function_arg2</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"I am the decorated function with arguments"</span><span class=p>,</span>
          <span class=n>function_arg1</span><span class=p>,</span> <span class=n>function_arg2</span><span class=p>)</span>

<span class=n>decorated_function_with_arguments</span><span class=p>(</span><span class=s2>"wife"</span><span class=p>,</span> <span class=s2>"husband"</span><span class=p>)</span>
<span class=c1># output:</span>
<span class=c1># I make decorators! And I accept arguments: foo bar</span>
<span class=c1># I am the decorator.  You passed me arguments: foo bar</span>
<span class=c1># I am the wrapper around the decorated function.</span>
<span class=c1># I can access all the variables</span>
<span class=c1>#   - from the decorator: foo bar</span>
<span class=c1>#   - from the function call: wife husband</span>
<span class=c1># Then I can pass them to the decorated function</span>
<span class=c1># I am the decorated function with arguments wife husband</span>
</code></pre></div><p class=my-4>Việc truyền tham số vào các hàm lồng nhau như vậy có sự giúp đỡ của closure. Bạn có thể tìm hiểu thêm về closure ở <a class="text-crimson border-b border-dotted border-crimson hover:text-slate-600 hover:border-slate-600 dark:hover:text-slate-300 dark:hover:border-slate-300" rel="noopener noreferrer" href=http://mrevelle.blogspot.com/2006/10/closure-on-closures.html target=_blank>bài viết này</a><p class=my-4>Vậy là chúng ta đã có một hàm, và chúng ta có thể truyền tham số cho hàm đó và sử dụng nó làm decorator. Thậm chí chúng ta có thể dùng biến để truyền tham số.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=n>var1</span> <span class=o>=</span> <span class=s2>"foo"</span>
<span class=n>var2</span> <span class=o>=</span> <span class=s2>"bar"</span>

<span class=nd>@decorator_maker_with_arguments</span><span class=p>(</span><span class=n>var1</span><span class=p>,</span> <span class=n>var2</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>decorated_function_with_arguments</span><span class=p>(</span><span class=n>function_arg1</span><span class=p>,</span> <span class=n>function_arg2</span><span class=p>):</span>
    <span class=nb>print</span> <span class=p>(</span><span class=s2>"I am the decorated function with arguments:"</span>
           <span class=n>function_arg1</span><span class=p>,</span> <span class=n>function_arg2</span><span class=p>)</span>

<span class=n>var3</span> <span class=o>=</span> <span class=s2>"wife"</span>
<span class=n>var4</span> <span class=o>=</span> <span class=s2>"husband"</span>
<span class=n>decorated_function_with_arguments</span><span class=p>(</span><span class=n>var3</span><span class=p>,</span> <span class=n>var4</span><span class=p>)</span>
<span class=c1># output:</span>
<span class=c1># I make decorators! And I accept arguments: foo bar</span>
<span class=c1># I am the decorator.  You passed me arguments: foo bar</span>
<span class=c1># I am the wrapper around the decorated function.</span>
<span class=c1># I can access all the variables</span>
<span class=c1>#   - from the decorator: foo bar</span>
<span class=c1>#   - from the function call: wife husband</span>
<span class=c1># Then I can pass them to the decorated function</span>
<span class=c1># I am the decorated function with arguments wife husband</span>
</code></pre></div><p class=my-4>Với cách làm như trên, bạn có thể xây dựng decorator nhận tham số như những hàm thông thường khác. Bạn cũng có thể sử dụng <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">*args</code> và <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">**kwargs</code> nếu muốn. Tuy nhiên, cần lưu ý rằng, decorator chỉ được gọi <strong>duy nhất một lần</strong>. Khi một hàm đã được decorate rồi, bạn không thể thay đổi nó nữa. Bạn cũng không thể truyền tham số động được.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=decorate-mot-decorator><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#decorate-mot-decorator> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Decorate một decorator</h3><p class=my-4>Trong phần trước, tôi đã trình bày cách xây dựng một decorator nhận tham số đầu vào. Biện pháp là sử dụng thêm một hàm lồng nhau nữa. Tức là chúng ta đã bao bọc decorator bằng một hàm khác. Nghe quen thế nhỉ? Chính xác, đây chính là cách xây dựng một decorator.<p class=my-4>Đây là một trick khá thú vị, decorate một decorator. Bởi vì decorator cũng là hàm nên nó hoàn toàn có thể được decorate bởi những decorator khác.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>decorator_with_args</span><span class=p>(</span><span class=n>decorator_to_enhance</span><span class=p>):</span>
<span class=w>    </span><span class=sd>"""</span>
<span class=sd>    Hàm này sẽ được dùng làm decorator.  Nó sẽ decorate một hàm mà</span>
<span class=sd>    hàm đó cũng sẽ trở thành decorator.  Decorator này cho phép</span>
<span class=sd>    bạn xây dựng decorator có thể nhận bất kỳ tham số nào, mà</span>
<span class=sd>    không cần nhớ cách thực hiện chúng.</span>
<span class=sd>    """</span>

    <span class=c1># We use the same trick we did to pass arguments</span>
    <span class=k>def</span> <span class=nf>decorator_maker</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>

        <span class=c1># Chúng ta tạo ra một decorator nhận đầu vào là một hàm,</span>
        <span class=c1># nhưng có thể truyền tham số từ maker.</span>
        <span class=k>def</span> <span class=nf>decorator_wrapper</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>

            <span class=c1># Chúng ta return kết quả của decorator gốc, thực ra</span>
            <span class=c1># nó cũng là hàm THÔNG THƯỜNG (nhưng return một hàm</span>
            <span class=c1># khác).  Lưu ý rằng, decorator phải sử dụng đúng</span>
            <span class=c1># nguyên mẫu mới có thể chạy được.</span>
            <span class=k>return</span> <span class=n>decorator_to_enhance</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>decorator_wrapper</span>

    <span class=k>return</span> <span class=n>decorator_maker</span>
</code></pre></div><p class=my-4>Chúng ta có thể sử dụng nó như sau:<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=c1># Chúng ta sẽ tạo ra một hàm dùng làm decorator.  Và dùng</span>
<span class=c1># decorator đã tạo ra ở trên cho hàm này.  Nguyên mẫu hàm phải là</span>
<span class=c1># decorator(func, *args, **kwargs) thì mới hoạt động được.</span>
<span class=nd>@decorator_with_args</span>
<span class=k>def</span> <span class=nf>decorated_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=n>function_arg1</span><span class=p>,</span> <span class=n>function_arg2</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"Decorated with"</span><span class=p>,</span> <span class=n>args</span><span class=p>,</span> <span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=n>function_arg1</span><span class=p>,</span> <span class=n>function_arg2</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=c1># Sau đó chúng ta có thể dùng decorator này với các hàm chúng a</span>
<span class=c1># muốn và có thể truyền tham số tùy ý.</span>

<span class=nd>@decorated_decorator</span><span class=p>(</span><span class=mi>42</span><span class=p>,</span> <span class=mi>404</span><span class=p>,</span> <span class=mi>1024</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>decorated_function</span><span class=p>(</span><span class=n>function_arg1</span><span class=p>,</span> <span class=n>function_arg2</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"Hello"</span><span class=p>,</span> <span class=n>function_arg1</span><span class=p>,</span> <span class=n>function_arg2</span><span class=p>)</span>

<span class=n>decorated_function</span><span class=p>(</span><span class=s2>"Universe and"</span><span class=p>,</span> <span class=s2>"everything"</span><span class=p>)</span>
<span class=c1># output:</span>
<span class=c1># Decorated with (42, 404, 1024) {}</span>
<span class=c1># Hello Universe and everything</span>
</code></pre></div><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=luu-y><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#luu-y> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Lưu ý</h3><ul class="list-[revert] ml-5 my-4"><li>Decorator được giới thiệu từ phiên bản Python 2.4 nên bạn cần sử dụng Python đúng phiên bản mới có thể dùng được.<li>Mặc dù cú pháp đơn giản, nhưng decorator không làm hàm nhanh hơn, thậm chí nó còn làm hàm chậm đi.<li>Bạn không thể bỏ decorator cho một hàm. Một khi hàm đã được decorate rồi, thì nó sẽ được decorate mãi mãi.<li>Vì decorator bao bọc các hàm nên rất khó để debug. Tuy nhiên, đã có giải pháp nếu bạn sử dụng Python 2.5 trở nên.</ul><p class=my-4>Từ phiên bản 2.5 trở nên, Python có module <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">functools</code> trong đó có hàm <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">functools.wraps</code> giúp chúng ta copy tên, module, docstring, v.v. của hàm được decorate vào hàm wrapper của chúng ta.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=c1># Để debug, chúng a in ra tên của hàm</span>
<span class=k>def</span> <span class=nf>foo</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"foo"</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>foo</span><span class=o>.</span><span class=vm>__name__</span><span class=p>)</span> <span class=c1># output: foo</span>

<span class=c1># Nếu dùng decorator, mọi thứ khác đi nhiều.</span>
<span class=k>def</span> <span class=nf>bar</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>():</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"bar"</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>func</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@bar</span>
<span class=k>def</span> <span class=nf>foo</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"foo"</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>foo</span><span class=o>.</span><span class=vm>__name__</span><span class=p>)</span> <span class=c1># output: wrapper</span>

<span class=c1># "functools" có thể giúp chúng ta</span>

<span class=kn>import</span> <span class=nn>functools</span>

<span class=k>def</span> <span class=nf>bar</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=c1># Đây là wrapper bao bọc hàm được decorator.  Tuy nhiên, sự kỳ</span>
    <span class=c1># diệu ở đây là nhờ functools.</span>
    <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>():</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"bar"</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>func</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@bar</span>
<span class=k>def</span> <span class=nf>foo</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"foo"</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>foo</span><span class=o>.</span><span class=vm>__name__</span><span class=p>)</span> <span class=c1># output: foo</span>
</code></pre></div><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=decorator-co-thuc-su-can-thiet-hay-khong><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#decorator-co-thuc-su-can-thiet-hay-khong> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Decorator có thực sự cần thiết hay không?</h3><p class=my-4>Tất nhiên là cần thiết thì người ta mới có cú pháp cho decorator. Tuy nhiên, câu hỏi đặt ra là khi nào thì sử dụng decorator.<p class=my-4>Decorator có thể được sử dụng để debug mà không cần thay đổi hàm hay thư viện. Ví dụ chúng ta có thể dùng decorator để debug và đánh giá hiệu năng các tính năng mà không cần thay đổi code của chúng.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>benchmark</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>"""</span>
<span class=sd>    Decorator in ra thời gian thực thi hàm</span>
<span class=sd>    """</span>
    <span class=kn>import</span> <span class=nn>time</span>

    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>t</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>clock</span><span class=p>()</span>
        <span class=n>res</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>time</span><span class=o>.</span><span class=n>clock</span><span class=p>()</span> <span class=o>-</span> <span class=n>t</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>res</span>
    <span class=k>return</span> <span class=n>wrapper</span>


<span class=k>def</span> <span class=nf>logging</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>"""</span>
<span class=sd>    Decorator ghi log về hoạt động của code. Ở đây chỉ đơn giản</span>
<span class=sd>    là in ra tên hàm nào đang được gọi.</span>
<span class=sd>    """</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>res</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>args</span><span class=p>,</span> <span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>res</span>
    <span class=k>return</span> <span class=n>wrapper</span>


<span class=k>def</span> <span class=nf>counter</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>"""</span>
<span class=sd>    Decorator đếm và in ra số lần hàm được gọi trong chương</span>
<span class=sd>    trình.</span>
<span class=sd>    """</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>wrapper</span><span class=o>.</span><span class=n>count</span> <span class=o>=</span> <span class=n>wrapper</span><span class=o>.</span><span class=n>count</span> <span class=o>+</span> <span class=mi>1</span>
        <span class=n>res</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"</span><span class=si>{0}</span><span class=s2> has been used: </span><span class=si>{1}</span><span class=s2>x"</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
            <span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>wrapper</span><span class=o>.</span><span class=n>count</span><span class=p>))</span>
        <span class=k>return</span> <span class=n>res</span>
    <span class=n>wrapper</span><span class=o>.</span><span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>return</span> <span class=n>wrapper</span>


<span class=nd>@counter</span>
<span class=nd>@benchmark</span>
<span class=nd>@logging</span>
<span class=k>def</span> <span class=nf>reverse_string</span><span class=p>(</span><span class=n>string</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>string</span><span class=p>[::</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

<span class=nb>print</span><span class=p>(</span><span class=n>reverse_string</span><span class=p>(</span><span class=s2>"Able was I ere I saw Elba"</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>reverse_string</span><span class=p>(</span><span class=s2>"Lorem ipsum dolor sit amet, et cetero complectitur "</span>
                     <span class=s2>"mel, sea mundi delectus gubergren et.  In pro postea "</span>
                     <span class=s2>"ullamcorper, per dissentias vituperatoribus et.  Sed "</span>
                     <span class=s2>"saepe quaeque voluptaria et, et quod dolores "</span>
                     <span class=s2>"voluptaria vel.  An cum causae mediocritatem "</span>
                     <span class=s2>"vituperatoribus.  Est an nobis adversarium.  Probo "</span>
                     <span class=s2>"scripta omnesque ne sed, delicata volutpat no per."</span><span class=p>))</span>

<span class=c1># output:</span>
<span class=c1># reverse_string ('Able was I ere I saw Elba',) {}</span>
<span class=c1># wrapper 2.6999999999999247e-05</span>
<span class=c1># wrapper has been used: 1x</span>
<span class=c1># ablE was I ere I saw elbA</span>
<span class=c1># reverse_string ('Lorem ipsum dolor sit amet, et cetero complectitur mel, sea mundi delectus gubergren et.  In pro postea ullamcorper, per dissentias vituperatoribus et.  Sed saepe quaeque voluptaria et, et quod dolores voluptaria vel.  An cum causae mediocritatem vituperatoribus.  Est an nobis adversarium.  Probo scripta omnesque ne sed, delicata volutpat no per.',) {}</span>
<span class=c1># wrapper 1.2999999999999123e-05</span>
<span class=c1># wrapper has been used: 2x</span>
<span class=c1># .rep on taptulov ataciled ,des en euqsenmo atpircs oborP .muirasrevda sibon na tsE .subirotareputiv metatircoidem easuac muc nA .lev airatpulov serolod douq te ,te airatpulov euqeauq epeas deS .te subirotareputiv saitnessid rep ,reprocmallu aetsop orp nI .te nergrebug sutceled idnum aes ,lem rutitcelpmoc oretec te ,tema tis rolod muspi meroL</span>
</code></pre></div><p class=my-4>Điều tuyệt vời của decorator là bạn có thể dùng nó với bất cứ thứ gì mà không cần thay đổi nội dung.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=nd>@counter</span>
<span class=nd>@benchmark</span>
<span class=nd>@logging</span>
<span class=k>def</span> <span class=nf>get_an_excuse</span><span class=p>():</span>
    <span class=kn>import</span> <span class=nn>urllib.request</span>
    <span class=kn>import</span> <span class=nn>re</span>
    <span class=n>handle</span> <span class=o>=</span> <span class=n>urllib</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>urlopen</span><span class=p>(</span><span class=s2>"http://programmingexcuses.com/"</span><span class=p>)</span>
    <span class=n>response</span> <span class=o>=</span> <span class=n>handle</span><span class=o>.</span><span class=n>read</span><span class=p>()</span><span class=o>.</span><span class=n>decode</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=s2>"</span><span class=se>\n</span><span class=s2>.+>([,'.?!\w\s]+)&lt;/a>"</span><span class=p>,</span> <span class=n>response</span><span class=p>)</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>get_an_excuse</span><span class=p>())</span>
<span class=nb>print</span><span class=p>(</span><span class=n>get_an_excuse</span><span class=p>())</span>
<span class=c1># output:</span>
<span class=c1># get_an_excuse () {}</span>
<span class=c1># wrapper 0.07300399999999999</span>
<span class=c1># wrapper has been used: 1x</span>
<span class=c1># Our internet connection must not be working</span>
<span class=c1># get_an_excuse () {}</span>
<span class=c1># wrapper 0.0027760000000000007</span>
<span class=c1># wrapper has been used: 2x</span>
<span class=c1># That process requires human oversight that nobody was providing</span>
</code></pre></div><p class=my-4>Python bản thân nó cũng có sẵn rất nhiều decorator như <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">@property</code>, <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">@classmethod</code>, v.v… Django cũng thường xuyên sử dụng decorator, nhất là khi phân quyền cho người dùng.<p class=my-4>Decorator là một công cụ rất mạnh mẽ, nên nếu sử dụng đúng, nó sẽ cho chúng ta những tiện ích tuyệt vời.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-2xl text-slate-900 dark:text-slate-100" id=bonus-decorator-ma-van-giu-uoc-ham-goc><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#bonus-decorator-ma-van-giu-uoc-ham-goc> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Bonus: Decorator mà vẫn giữ được hàm gốc</h3><p class=my-4>Như phần trước tôi đã nói, một hàm khi đã được decorate rồi thì chúng ta không thể bỏ decorator đi được. Bất cứ khi nào bạn gọi hàm, thực ra bạn đang gọi hàm đã được decorate.<p class=my-4>Nhưng nhiều trường hợp, bạn chỉ muốn thực thi hàm gốc thôi. Vậy phải làm thế nào? Không lẽ phải định nghĩa lại hàm.<p class=my-4>Thực ra có một trick để làm việc này. Nói chung nó rất dễ hiểu nên chắc chỉ cần nhìn code là hiểu ngay.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>decorator_keep_original_function</span><span class=p>(</span><span class=n>function_to_decorate</span><span class=p>):</span>

    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"This is decorated function"</span><span class=p>)</span>
        <span class=n>function_to_decorate</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>

    <span class=c1># Chúng ta sẽ lưu hàm gốc chưa được decorate như là một</span>
    <span class=c1># thuộc tính của hàm mới.</span>
    <span class=n>wrapper</span><span class=o>.</span><span class=n>_original_function</span> <span class=o>=</span> <span class=n>function_to_decorate</span>
    <span class=k>return</span> <span class=n>wrapper</span>


<span class=nd>@decorator_keep_original_function</span>
<span class=k>def</span> <span class=nf>some_function</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"This is original function"</span><span class=p>)</span>

<span class=c1># Gọi hàm đã được decorate</span>
<span class=n>some_function</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># This is decorated function</span>
<span class=c1># This is original function</span>

<span class=c1># Chúng ta vẫn có thể gọi hàm gốc chứa decorate</span>
<span class=n>some_function</span><span class=o>.</span><span class=n>_original_function</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># This is original function</span>
</code></pre></div><p class=my-4>Có một cách khác, đó là sử dụng <code class="bg-slate-100 p-0.5 dark:bg-slate-900 text-[90%]">__closure__</code> để lấy lại nội dung của hàm gốc. Cách này chỉ hoạt động nếu chúng ta có sử dụng closure. Lưu ý rằng, không phải tất cả các hàm lồng nhau đều là closure.<div class="chl my-4 p-4 bg-slate-100 dark:bg-slate-900 overflow-auto"><pre class=text-sm><code><span class=k>def</span> <span class=nf>undecorator</span><span class=p>(</span><span class=n>decorated_function</span><span class=p>):</span>
    <span class=c1># Python &lt; 2.6 sử dụng `func_closure` thay thế cho</span>
    <span class=c1># `__closure__`</span>
    <span class=k>return</span> <span class=n>decorated_function</span><span class=o>.</span><span class=vm>__closure__</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>cell_contents</span>


<span class=k>def</span> <span class=nf>decorator_to_undo</span><span class=p>(</span><span class=n>function_to_decorate</span><span class=p>):</span>

    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>"This is decorated function"</span><span class=p>)</span>
        <span class=n>function_to_decorate</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>wrapper</span>


<span class=nd>@decorator_to_undo</span>
<span class=k>def</span> <span class=nf>some_function</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"This is original function"</span><span class=p>)</span>

<span class=c1># Hàm đã được decorate</span>
<span class=n>some_function</span><span class=p>()</span>
<span class=c1># output:</span>
<span class=c1># This is decorated function</span>
<span class=c1># This is original function</span>

<span class=c1># Thử undecorate xem sao</span>
<span class=n>undecorator</span><span class=p>(</span><span class=n>some_function</span><span class=p>)()</span>
<span class=c1># output:</span>
<span class=c1># This is original function</span>
<span class=c1># => Đây chính là điều chúng ta mong đợi.</span>
</code></pre></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-slate-100 dark:border-slate-700 text-3xl text-slate-900 dark:text-slate-100" id=ket-luan><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#ket-luan> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Kết luận</h2><p class=my-4>Trên đây là những hiểu biết của tôi về decorator được dùng trong Python. Decorator là một công cụ rất hữu dụng và được sử dụng khá thường xuyên. Hy vọng bài viết cho bạn phần nào hiểu biết về decorator, cách viết và sử dụng chúng.</div><div class="mt-8 text-sm leading-relaxed"><svg class="inline size-4" viewbox="0 0 24 24" fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg><a class="text-crimson hover:text-slate-600 cursor-pointer dark:hover:text-slate-300" href=https://manhhomienbienthuy.github.io/tag/python.html> #Python </a><a class="text-crimson hover:text-slate-600 cursor-pointer dark:hover:text-slate-300" href=https://manhhomienbienthuy.github.io/tag/decorator.html> #decorator </a><a class="text-crimson hover:text-slate-600 cursor-pointer dark:hover:text-slate-300" href=https://manhhomienbienthuy.github.io/tag/fundamental.html> #fundamental </a></div></div><div class="flex justify-between items-center my-10 text-sm"><div class="grow text-left"><a class="p-2 text-white bg-crimson" href=https://manhhomienbienthuy.github.io/2015/12/31/nam-2015-nhin-lai.html> <svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M10 19l-7-7m0 0l7-7m-7 7h18" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> Bài viết sau </a></div><div class="grow text-right"><a class="p-2 text-white bg-crimson" href=https://manhhomienbienthuy.github.io/2015/12/20/editor-war-cuoc-canh-tranh-lau-doi-nhat-trong-the-gioi-it.html> Bài viết trước <svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M14 5l7 7m0 0l-7 7m7-7H3" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> </a></div></div><div class="mb-8 p-8 text-justify bg-white shadow-lg dark:bg-slate-800"><p class="mb-2 italic leading-relaxed">Tôi xin lỗi nếu bài viết có bất kỳ typo nào. Nếu bạn nhận thấy điều gì bất thường, xin hãy cho tôi biết.<p class="mb-8 leading-relaxed">Nếu có bất điều gì muốn nói, bạn có thể liên hệ với tôi qua các mạng xã hội, tạo discussion hoặc report issue trên Github.<div class="flex justify-between mb-4 text-slate-900 dark:text-slate-100"><a rel="noopener noreferrer" href=https://x.com/_naa_4f target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>X</title><path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"/></svg> </a><a rel="noopener noreferrer" href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg> </a><a rel="noopener noreferrer" href=https://www.facebook.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank> <svg viewbox="0 0 24 24" class=size-6 fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><title>Discussion</title><path d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Issue</title><path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/></svg> </a></div></div></div><div class="md:col-span-2 shrink-0 p-6 bg-white text-sm leading-relaxed shadow-[0_2px_20px_-10px_#000] dark:bg-slate-800"><h2 class="mb-2 font-semibold text-slate-900 uppercase dark:text-slate-100 after:block after:h-px after:w-8 after:mb-4 after:bg-slate-900 after:shadow-heading dark:after:bg-slate-100 dark:after:shadow-heading-dark">Welcome</h2><img class="w-3/4 mx-auto mb-4 rounded-full" alt=manhhomienbienthuy height=262 src=https://manhhomienbienthuy.github.io/meow.webp width=262><p class="mb-10 text-center">Đây là thế giới của manhhomienbienthuy (naa). Chào mừng đến với thế giới của tôi!<h2 class="mb-2 font-semibold text-slate-900 uppercase dark:text-slate-100 after:block after:h-px after:w-8 after:mb-4 after:bg-slate-900 after:shadow-heading dark:after:bg-slate-100 dark:after:shadow-heading-dark">Bài viết liên quan</h2><div class="mb-10 divide-y divide-slate-100 dark:divide-slate-700"><div class="flex items-center gap-2 py-6"><a class="shrink-0 size-16 shadow-sm" href=https://manhhomienbienthuy.github.io/2016/03/08/python-class-decorator.html> <img alt="Python class decorator" class="size-full p-1 object-cover" src="https://images.unsplash.com/photo-1613564190017-da7d7521b591?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640" decoding=async height=64 loading=lazy width=64> </a><a href=https://manhhomienbienthuy.github.io/2016/03/08/python-class-decorator.html> Python class decorator </a></div><div class="flex items-center gap-2 py-6"><a class="shrink-0 size-16 shadow-sm" href=https://manhhomienbienthuy.github.io/2025/05/14/hieu-ve-meta-programming.html> <img alt="Hiểu về meta programming" class="size-full p-1 object-cover" src="https://images.unsplash.com/photo-1541701494587-cb58502866ab?ixlib=rb-4.1.0&q=85&fm=webp&crop=entropy&cs=srgb&w=640" decoding=async height=64 loading=lazy width=64> </a><a href=https://manhhomienbienthuy.github.io/2025/05/14/hieu-ve-meta-programming.html> Hiểu về meta programming </a></div><div class="flex items-center gap-2 py-6"><a class="shrink-0 size-16 shadow-sm" href=https://manhhomienbienthuy.github.io/2023/11/30/lambda-trong-python.html> <img alt="Lambda trong Python" class="size-full p-1 object-cover" src="https://images.unsplash.com/photo-1597589827703-f4b68eafa0ce?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640" decoding=async height=64 loading=lazy width=64> </a><a href=https://manhhomienbienthuy.github.io/2023/11/30/lambda-trong-python.html> Lambda trong Python </a></div><div class="flex items-center gap-2 py-6"><a class="shrink-0 size-16 shadow-sm" href=https://manhhomienbienthuy.github.io/2019/09/20/python-args-kwargs.html> <img alt="Python: *args & **kwargs" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://cdn.pixabay.com/photo/2022/05/15/17/44/code-7198654_640.jpg width=64> </a><a href=https://manhhomienbienthuy.github.io/2019/09/20/python-args-kwargs.html> Python: *args & **kwargs </a></div><div class="flex items-center gap-2 py-6"><a class="shrink-0 size-16 shadow-sm" href=https://manhhomienbienthuy.github.io/2017/07/24/mot-vai-trick-python-ban-nhat-dinh-phai-biet-tren-con-duong-go-pro.html> <img alt="Một vài trick Python bạn nhất định phải biết trên con đường go-pro" class="size-full p-1 object-cover" src="https://images.unsplash.com/photo-1523540939399-141cbff6a8d7?ixlib=rb-4.0.3&w=640&q=80&fm=webp&crop=entropy&cs=tinysrgb" decoding=async height=64 loading=lazy width=64> </a><a href=https://manhhomienbienthuy.github.io/2017/07/24/mot-vai-trick-python-ban-nhat-dinh-phai-biet-tren-con-duong-go-pro.html> Một vài trick Python bạn nhất định phải biết trên con đường go-pro </a></div></div><h2 class="mb-2 font-semibold text-slate-900 uppercase dark:text-slate-100 after:block after:h-px after:w-8 after:mb-4 after:bg-slate-900 after:shadow-heading dark:after:bg-slate-100 dark:after:shadow-heading-dark">Bài viết mới</h2><div class="mb-10 divide-y divide-slate-100 dark:divide-slate-700"><div class="flex items-center gap-2 py-6"><a class="shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2025/10/06/hieu-sau-ve-rag-retrieval-augmented-generation-giai-phap-ai-tien-tien-cho-doanh-nghiep.html> <img alt="Hiểu sâu về RAG (Retrieval-Augmented Generation): Giải pháp AI tiên tiến cho doanh nghiệp" class="size-full p-1 object-cover" src="https://images.unsplash.com/photo-1591696331111-ef9586a5b17a?ixlib=rb-4.1.0&q=85&fm=webp&crop=entropy&cs=srgb&w=640" decoding=async height=64 loading=lazy width=64> </a><a href=https://manhhomienbienthuy.github.io/2025/10/06/hieu-sau-ve-rag-retrieval-augmented-generation-giai-phap-ai-tien-tien-cho-doanh-nghiep.html> Hiểu sâu về RAG (Retrieval-Augmented Generation): Giải pháp AI tiên tiến cho doanh nghiệp </a></div><div class="flex items-center gap-2 py-6"><a class="shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2025/09/11/design-pattern-co-that-su-than-thanh.html> <img alt="Design pattern có thật sự thần thánh?" class="size-full p-1 object-cover" src="https://images.unsplash.com/photo-1702588209799-5ea7217b7321?ixlib=rb-4.1.0&q=85&fm=webp&crop=entropy&cs=srgb&w=640" decoding=async height=64 loading=lazy width=64> </a><a href=https://manhhomienbienthuy.github.io/2025/09/11/design-pattern-co-that-su-than-thanh.html> Design pattern có thật sự thần thánh? </a></div><div class="flex items-center gap-2 py-6"><a class="shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2025/07/07/mo-hinh-ngon-ngu-lon-llm-dot-pha-trong-generative-ai.html> <img alt="Mô hình ngôn ngữ lớn (LLM): đột phá trong Generative AI" class="size-full p-1 object-cover" src="https://images.unsplash.com/photo-1697577418970-95d99b5a55cf?ixlib=rb-4.1.0&q=85&fm=webp&crop=entropy&cs=srgb&w=640" decoding=async height=64 loading=lazy width=64> </a><a href=https://manhhomienbienthuy.github.io/2025/07/07/mo-hinh-ngon-ngu-lon-llm-dot-pha-trong-generative-ai.html> Mô hình ngôn ngữ lớn (LLM): đột phá trong Generative AI </a></div><div class="flex items-center gap-2 py-6"><a class="shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2025/06/10/domain-driven-design-ddd-khai-niem-nguyen-tac-va-ung-dung.html> <img alt="Domain-Driven Design (DDD): khái niệm, nguyên tắc và ứng dụng" class="size-full p-1 object-cover" src="https://images.unsplash.com/photo-1576595580361-90a855b84b20?ixlib=rb-4.1.0&q=85&fm=webp&crop=entropy&cs=srgb&w=640" decoding=async height=64 loading=lazy width=64> </a><a href=https://manhhomienbienthuy.github.io/2025/06/10/domain-driven-design-ddd-khai-niem-nguyen-tac-va-ung-dung.html> Domain-Driven Design (DDD): khái niệm, nguyên tắc và ứng dụng </a></div><div class="flex items-center gap-2 py-6"><a class="shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2025/05/14/hieu-ve-meta-programming.html> <img alt="Hiểu về meta programming" class="size-full p-1 object-cover" src="https://images.unsplash.com/photo-1541701494587-cb58502866ab?ixlib=rb-4.1.0&q=85&fm=webp&crop=entropy&cs=srgb&w=640" decoding=async height=64 loading=lazy width=64> </a><a href=https://manhhomienbienthuy.github.io/2025/05/14/hieu-ve-meta-programming.html> Hiểu về meta programming </a></div></div><h2 class="mb-2 font-semibold text-slate-900 uppercase dark:text-slate-100 after:block after:h-px after:w-8 after:mb-4 after:bg-slate-900 after:shadow-heading dark:after:bg-slate-100 dark:after:shadow-heading-dark">Chuyên mục</h2><div class="flex flex-wrap gap-2 mb-10 text-xs dark:border-slate-100"><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/cuoc-song.html> Cuộc sống </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/du-lich.html> Du lịch </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/lap-trinh.html> Lập trình </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/tong-hop.html> Tổng hợp </a></div><h2 class="mb-2 font-semibold text-slate-900 uppercase dark:text-slate-100 after:block after:h-px after:w-8 after:mb-4 after:bg-slate-900 after:shadow-heading dark:after:bg-slate-100 dark:after:shadow-heading-dark">Lưu trữ theo năm</h2><div class="flex flex-wrap gap-[0.57rem] mb-10 text-xs"><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2025/> 2025 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2024/> 2024 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2023/> 2023 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2022/> 2022 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2021/> 2021 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2020/> 2020 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2019/> 2019 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2018/> 2018 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2017/> 2017 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2016/> 2016 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2015/> 2015 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2014/> 2014 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2013/> 2013 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2012/> 2012 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2011/> 2011 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2010/> 2010 </a></div><h2 class="mb-2 font-semibold text-slate-900 uppercase dark:text-slate-100 after:block after:h-px after:w-8 after:mb-4 after:bg-slate-900 after:shadow-heading dark:after:bg-slate-100 dark:after:shadow-heading-dark">Thông tin liên hệ</h2><p class="mb-8 text-justify">Cảm ơn bạn đã quan tâm blog của tôi. Nếu có bất điều gì muốn nói, bạn có thể liên hệ với tôi qua các mạng xã hội, tạo discussion hoặc report issue trên Github.<div class="flex justify-between mb-8 text-slate-900 dark:text-slate-100"><a rel="noopener noreferrer" href=https://x.com/_naa_4f target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>X</title><path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"/></svg> </a><a rel="noopener noreferrer" href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg> </a><a rel="noopener noreferrer" href=https://www.facebook.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank> <svg viewbox="0 0 24 24" class=size-6 fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><title>Discussion</title><path d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Issue</title><path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/></svg> </a></div></div></div></main><footer class="mt-8 text-white"><div class=bg-slate-800><div class="grid grid-cols-1 md:grid-cols-3 md:gap-8 container mx-auto px-4 leading-loose text-justify"><div class=py-8><a href=https://manhhomienbienthuy.github.io title=manhhomienbienthuy> <svg class="w-full h-auto text-white" viewbox="0 0 1000 165" fill=currentColor height=165 version=1.0 width=1000 xmlns=http://www.w3.org/2000/svg><path d="M651.5 14.7c-10.4 1-11.6 1.4-11 3.3.9 2.9-1.2 7-17.6 34.2-8.4 13.9-17.6 30.2-20.4 36.3-3.5 7.4-6.7 12.4-9.6 15.4-6.1 6.1-13.9 9.2-13.9 5.6 0-2.6 4.7-11 12.7-22.8C600.3 74 602 70.5 602 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C500.2 71 505.5 60.6 504.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.2-3.6 4.8-2 6.7-19.5 35.4-25 41.1-5.1 5.1-8.7 6.6-9.8 3.8-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8c13.2-20.9 20.3-29.9 25.2-31.7 7-2.7 5.7 3-5 21-7.7 12.9-11.6 21.6-11.6 25.8 0 2 5.5 7.2 7.7 7.2 3.9 0 9.5-2.2 13.8-5.5 2.5-1.9 4.7-3.5 5-3.5s.5 1.3.5 2.8c0 1.7 1 3.8 2.5 5.2 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-5 7.7-10 15.9-11.2 18.2-2.7 5.4-2.9 11.8-.4 14.6 4.4 4.8 16.5 1.1 25.6-8l4.8-4.8.6 3.8c1.3 8.3 8.3 12.4 17.3 10.2 18.5-4.6 39.3-28 39.3-44.3 0-14-8.6-18.8-20-11.1-5.5 3.7-5.5 3.7-3.6.8 5.6-8.5 23.6-41 24.1-43.6.8-3.7 0-4.6-4-4.2zM542.6 62.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zm101 3c1.9 7.8-15.7 39.6-25.6 46.3-2.2 1.4-4.6 2.2-6.5 2-2.6-.3-3-.7-3.3-3.6-.8-8.1 8.8-27.5 19.7-39.5 7-7.8 14.4-10.2 15.7-5.2zM821 16c-1.1 1.1-2 2.7-2 3.5 0 2.1-5.3 12.5-9.7 19.2l-3.6 5.3h-5.8c-5.6 0-5.9.1-5.9 2.4 0 2.2.5 2.5 4.4 2.8l4.4.3-11 18c-6 9.9-13 22-15.4 27-4.7 9.9-7.3 13-12.1 15.1-4.2 1.8-6.3 1.8-6.3-.1 0-2.6 4.7-11 12.7-22.8C779.3 74 781 70.5 781 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C679.2 71 684.5 60.6 683.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.3-3.6 4.9-.7 2.2-4.9 10-9.3 17.3-10.4 17-12.9 22.7-12.9 28.8 0 3.8.5 5.2 2.5 7.1 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 10.4 11 11.4 23.4 2l3.5-2.7.8 3c2.1 8.2 12.3 8.2 22.8 0 4.4-3.5 5.6-3.7 3.5-.7-3.1 4.4-2.2 5.8 3.7 5.8 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-9.8 15.5-12.8 21.7-12.8 26.5 0 4.4 3.3 7.9 7.6 7.9 4.5 0 12.6-4.5 18.6-10.3l5.4-5.2-.4 5.2c-.5 6.3 1.3 9.8 5.7 10.8s9.5-1.7 17.1-9.1l6.9-6.6-.2 5.5c-.2 4.2.3 6 1.7 7.6 2.8 3.1 8.3 2.8 13.2-.7l3.9-2.8 2 3c1.1 1.6 3.1 3.3 4.5 3.6 3.8 1 11.1-1.5 15.8-5.5 2.3-2 4.2-3.4 4.2-3.1 0 1.2-10.4 19.3-13.5 23.6-4.7 6.4-14.3 15.4-19.3 17.9-4.7 2.4-10.9 2.7-13.7.8-1.6-1.2-1.6-1.8-.7-4.7 1.6-4.4 1.5-5.6-.4-7.4-3.8-3.8-10.4.2-10.4 6.3 0 11 18.9 13.3 36.9 4.5 11.2-5.5 20.6-15.4 29.7-31.4 3.9-6.9 10.6-18.4 14.9-25.5 16.8-28.2 19.1-32.6 18-34.5-.4-.6-3.5-1-7.1-1-5.3 0-6.6.3-7 1.7-.8 2.9-12.5 25.4-16.1 31.2-6.9 10.8-18.9 21.2-22.8 19.7-2.8-1 1.4-11 11-26.7 7.3-11.8 12.7-22.8 12.1-24.5-.6-1.5-4.4-1.8-9.5-.8-2.7.6-3.6 1.5-5.5 5.8-1.3 2.8-5.8 10.6-10 17.4-7.7 12.2-12.6 21.5-12.6 23.9 0 1.7-4.6 4.6-6 3.8-3.2-2 .2-11 10.4-27.8 7.7-12.8 11.5-20.1 11.6-22.5 0-.8-1.4-1.2-4.2-1.1-9.3.3-9.7.6-13.8 10.2-6.6 15.4-24.1 39.3-30.4 41.7-2.9 1-4.6.2-4.6-2.4 0-1.2 3.9-8.7 8.6-16.7C900 63.4 901.8 58 894.5 58c-6.7 0-9.5 1.1-10 3.9-2.4 12.1-24.9 42.1-34.6 46.1-7.4 3.1-5.5-3.2 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-1-1.2-2.4-1.5-6.1-1-6.7.9-7.5 1.4-8.3 4.4-.3 1.5-2.3 5.6-4.5 9.2-2.1 3.6-7.5 13-12 21-28.3 50.1-35.9 60.5-43.8 59.8-5-.4-5.2-2.6-1.2-12.1 3.3-8.1 16.2-30.6 24.2-42.5l4.9-7.2h5.4c5.2 0 5.5-.1 5.5-2.5 0-2.3-.4-2.5-4-2.5-2.2 0-4-.2-4-.6 0-.3 1.8-3.2 4-6.4 5-7.4 11-18.9 11-21.3 0-2.7-12.2-2.5-15 .3zm-99.4 46.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zM271.5 16.5c-.5.2-2.2.6-3.7.9-1.6.4-2.8 1.2-2.8 1.9 0 1.7-2.4 6.2-12.9 24.7-18.8 33.1-33.6 57.7-36.5 60.9-4.7 5.1-12.6 8-12.6 4.6 0-2.6 4.7-11 12.7-22.8C224.3 74 226 70.5 226 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 5.5-20.8 38.1-29.4 46-4.8 4.4-7 5.2-7.9 2.8-1-2.5 1-7.5 7.2-18 8.4-14.3 18.1-31.8 18.1-32.8 0-.4-2.9-.8-6.5-.8s-6.5.4-6.5.8c0 .5-.6 1.6-1.3 2.6-1.3 1.8-1.5 1.7-4.1-.9-2.4-2.4-3.4-2.7-7-2.3-13.6 1.6-31.1 16.8-39.7 34.5-5.8 11.8-16.5 21-18.5 15.9-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8C79.6 74.8 86.7 65.8 91.6 64c7-2.7 5.7 3-5 21C78.9 97.9 75 106.6 75 110.8c0 .7 1.4 2.7 3 4.4 2.8 2.7 3.5 3 7.1 2.4 5.4-.9 9.2-2.9 14.4-7.7l4.3-3.9.7 3.6c.3 2.1 2 5 3.6 6.7 2.5 2.5 3.6 2.9 6.4 2.4 3.8-.6 9.8-4.5 16.4-10.6 2.4-2.3 4.5-4.1 4.7-4.1s.4 2.2.4 5c0 6.2 2.7 9.6 6.8 8.5 3.5-.9 8.2-3.1 11.1-5.2 2.4-1.7 2.4-1.7 1.3.4-2.1 3.8-1.5 4.3 5.1 4.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 8.3 7.1 10.9 16.7 6 4.4-2.2 4.7-2.2 4.7-.5 0 1.6.8 1.9 5.3 1.9 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.4 21.3-15.4 27.6-10.3 32.4 4.2 3.9 12 1.6 22.4-6.7l3.5-2.8-2.7 4c-4.2 6.2-3.7 7.5 2.6 7.5 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.3 21.1-15.4 27.6-10.5 32.2 4.5 4.3 12 2 22.5-6.7 5.6-4.7 6.2-5 6.2-2.9 0 3.7 3.4 8.3 7.6 10.3 14.4 7 36.7-6.2 47.5-28 4-8 4.4-9.5 4.4-16.1 0-6.3-.3-7.6-2.4-9.8-8.4-8.9-26.6-4-42.2 11.5-6.3 6.2-8.5 9.2-12.2 17-3.4 7.1-5.7 10.3-9.1 13.1-5.7 4.8-9.3 6.5-10.7 5.1-1.6-1.6 1.6-8.1 10.1-20.8 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-2-2.4-13.9-.7-13.9 2S293.2 74.5 284 88c-5 7.3-16 18.3-20.1 20-7.4 3.1-5.6-3.1 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13-21.5 16.4-28.5 14.8-30.5-1.1-1.4-4.9-1.9-7.5-1zM151.8 62.2c3.2 3.2-.1 12.6-10.1 28.1-8.9 13.8-16.1 20.7-21.6 20.7-2.7 0-4.4-3.4-3.5-7.3 2.3-11.1 21.5-37.5 29.9-41.3 3.7-1.7 3.8-1.7 5.3-.2zm232 0c3.5 3.5-1 17.8-9.8 31.1-10.1 15.4-20.3 22.2-25.5 17-6.8-6.7 12.9-39 29-47.6 3.7-2 4.7-2.1 6.3-.5z"/><path d="M505.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8zM684.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8z"/></svg> </a><div class="flex items-center mb-4 gap-4"><img class="size-16 rounded-full" alt=manhhomienbienthuy height=56 src=https://manhhomienbienthuy.github.io/meow.webp width=56><p>manhhomienbienthuy | naa<br> salaried programmer</div></div><div class=py-8><p class=mb-4>Trang web này được viết bằng tất cả ♥ và tinh thần của tôi, dành tặng cho yunachan – tình yêu của tôi.<p class=mb-4>Mã HTML được built bởi Pelican, sử dụng Python-Markdown, Pygments và nhiều công cụ khác.<p class=mb-4>Nội dung trang web này được cấp phép theo giấy phép <a rel="noopener noreferrer" class=font-bold href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a>. Mã nguồn được cấp phép theo giấy phép <a rel="noopener noreferrer" class=font-bold href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/blob/main/LICENSE target=_blank>MIT License</a>.</div><div class=py-8><p class=mb-4>Nhiều bài viết của tôi được thực hiện từ lâu, nội dung của chúng có thể đã lỗi thời. Suy nghĩ của tôi nhiều khi đã thay đổi và tôi có thể sẽ tiếp cận theo cách khác nếu viết bài vào thời điểm hiện tại. Dù vậy, tôi ít khi sửa lại nội dung bài viết cũ mà chỉ sữa lỗi typo. Nếu nội dung có gì cập nhật, tôi sẽ chú thích trong bài.</div></div></div><div class=bg-slate-900><div class="flex flex-wrap justify-between container mx-auto px-4"><div class="pt-4 md:py-4">Copyright © 2010–2025 <a class=font-bold href=https://manhhomienbienthuy.github.io/pages/gioi-thieu.html> manhhomienbienthuy </a></div><div class="grow py-4 text-right divide-x"><a class="px-2 whitespace-nowrap" href=https://manhhomienbienthuy.github.io> Trang chủ </a><a class="px-2 whitespace-nowrap" href=https://manhhomienbienthuy.github.io/pages/gioi-thieu.html> Giới thiệu </a><a class="px-2 whitespace-nowrap" href=https://manhhomienbienthuy.github.io/pages/computer-info.html> Computer Info </a></div></div></div></footer><script defer src=https://manhhomienbienthuy.github.io/theme/js/app.js></script>