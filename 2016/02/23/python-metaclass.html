<!doctype html><html class="antialiased scroll-smooth scroll-pt-14" lang=vi><meta charset=utf-8><title>Python metaclass | manhhomienbienthuy</title><meta content=width=device-width,initial-scale=1 name=viewport><link href=https://manhhomienbienthuy.github.io/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://manhhomienbienthuy.github.io/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://manhhomienbienthuy.github.io/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=https://manhhomienbienthuy.github.io/site.webmanifest rel=manifest><link color=#5bbad5 href=https://manhhomienbienthuy.github.io/safari-pinned-tab.svg rel=mask-icon><meta content=#da532c name=msapplication-TileColor><meta content=#ffffff name=theme-color><link href=https://manhhomienbienthuy.github.io/2016/02/23/python-metaclass.html rel=canonical><meta content=https://manhhomienbienthuy.github.io/icon-tile.png name=msapplication-TileImage><meta content=on name=twitter:dnt><meta content=manhhomienbienthuy name=Author><meta content=general name=rating><meta content=product name=twitter:card><meta content=@_naa_4f name=twitter:site><meta content=@_naa_4f name=twitter:creator><link title="manhhomienbienthuy Full RSS Feed" href=https://manhhomienbienthuy.github.io/feeds/rss.xml rel=alternate type=application/rss+xml><link title="manhhomienbienthuy Full Atom Feed" href=https://manhhomienbienthuy.github.io/feeds/atom.xml rel=alternate type=application/atom+xml><meta content="Metaclass là một chủ đề khá ít người đề cập của Python. Một phần có lẽ bởi vì nó cũng ít được sử dụng, mà một phần lý do bởi vì Python cũng ít có tài liệu về chủ đề này. Trong bài viết này, tôi sẽ giới thiệu những […]" name=description><meta content="Python metaclass | manhhomienbienthuy" name=twitter:title><meta content="Metaclass là một chủ đề khá ít người đề cập của Python. Một phần có lẽ bởi vì nó cũng ít được sử dụng, mà một phần lý do bởi vì Python cũng ít có tài liệu về chủ đề này. Trong bài viết này, tôi sẽ giới thiệu những […]" name=twitter:description><meta content=https://images.unsplash.com/photo-1610210752279-e19c66c31e9b?ixlib=rb-4.0.3&w=1280&q=80&fm=webp&crop=entropy&cs=tinysrgb name=twitter:image><link href=https://manhhomienbienthuy.github.io/theme/css/syntax.css rel=stylesheet><link href=https://manhhomienbienthuy.github.io/theme/css/app.css rel=stylesheet><script>`dark`===localStorage.theme||!(`theme` in localStorage)&&window.matchMedia(`(prefers-color-scheme: dark)`).matches?document.documentElement.classList.add(`dark`):document.documentElement.classList.remove(`dark`)</script><body class="text-gray-600 bg-gray-100 dark:bg-gray-700 dark:text-gray-300"><header class=mb-8><div class="fixed z-50 top-0 left-0 right-0 text-white bg-gray-900"><div class="relative flex flex-wrap justify-between items-center gap-x-4 max-w-screen-xl mx-auto px-4"><a class="my-2.5 rounded-full" href=https://manhhomienbienthuy.github.io> <img class="size-5 rounded-full" alt=manhhomienbienthuy height=20 src=https://manhhomienbienthuy.github.io/meow.webp width=20> </a><input class="hidden peer" id=menu-toggle type=checkbox><label class="flex-grow flex items-center gap-x-0.5 md:hidden text-xs cursor-pointer" for=menu-toggle><svg viewbox="0 0 24 24" class=size-5 fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M4 6h16M4 12h16M4 18h16" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> <span class=uppercase>Menu</span></label><nav class="hidden peer-[:checked]:block md:block flex-grow order-last md:order-none w-full md:w-auto text-xs uppercase bg-gray-900 divide-y md:divide-y-0"><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io> Trang chủ </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/cuoc-song.html> Cuộc sống </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/du-lich.html> Du lịch </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/lap-trinh.html> Lập trình </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/tong-hop.html> Tổng hợp </a></nav><div><input class="hidden peer" id=theme-toggle type=checkbox><label class="size-5 text-gray-400 dark:text-gray-500 cursor-pointer" for=theme-toggle><span class=dark:hidden> <svg viewbox="0 0 24 24" class=size-5 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/><path d="M12 4v1M17.66 6.344l-.828.828M20.005 12.004h-1M17.66 17.664l-.828-.828M12 20.01V19M6.34 17.664l.835-.836M3.995 12.004h1.01M6 6l.835.836"/></svg> </span> <span class="hidden dark:inline"> <svg viewbox="0 0 24 24" class=size-5 fill=currentColor><path d="m17.715 15.15.95.316a1 1 0 0 0-1.445-1.185l.495.869ZM9 6.035l.846.534a1 1 0 0 0-1.14-1.49L9 6.035Zm8.221 8.246a5.47 5.47 0 0 1-2.72.718v2a7.47 7.47 0 0 0 3.71-.98l-.99-1.738Zm-2.72.718A5.5 5.5 0 0 1 9 9.5H7a7.5 7.5 0 0 0 7.5 7.5v-2ZM9 9.5c0-1.079.31-2.082.845-2.93L8.153 5.5A7.47 7.47 0 0 0 7 9.5h2Zm-4 3.368C5 10.089 6.815 7.75 9.292 6.99L8.706 5.08C5.397 6.094 3 9.201 3 12.867h2Zm6.042 6.136C7.718 19.003 5 16.268 5 12.867H3c0 4.48 3.588 8.136 8.042 8.136v-2Zm5.725-4.17c-.81 2.433-3.074 4.17-5.725 4.17v2c3.552 0 6.553-2.327 7.622-5.537l-1.897-.632Z"/><path d="M17 3a1 1 0 0 1 1 1 2 2 0 0 0 2 2 1 1 0 1 1 0 2 2 2 0 0 0-2 2 1 1 0 1 1-2 0 2 2 0 0 0-2-2 1 1 0 1 1 0-2 2 2 0 0 0 2-2 1 1 0 0 1 1-1Z" clip-rule=evenodd fill-rule=evenodd /></svg> </span></label><ul class="hidden peer-[:checked]:block absolute z-50 top-full right-2 w-36 mt-2 py-1 text-sm font-semibold bg-gray-100 dark:bg-gray-900 text-gray-400 dark:text-gray-500 rounded-lg shadow-lg overflow-hidden cursor-pointer"><li class="py-1 px-2 flex items-center" data-mode=light><svg class="size-6 mr-2" viewbox="0 0 24 24" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/><path d="M12 4v1M17.66 6.344l-.828.828M20.005 12.004h-1M17.66 17.664l-.828-.828M12 20.01V19M6.34 17.664l.835-.836M3.995 12.004h1.01M6 6l.835.836"/></svg> Light<li class="py-1 px-2 flex items-center cursor-pointer" data-mode=dark><svg class="size-6 mr-2" viewbox="0 0 24 24" fill=currentColor><path d="m17.715 15.15.95.316a1 1 0 0 0-1.445-1.185l.495.869ZM9 6.035l.846.534a1 1 0 0 0-1.14-1.49L9 6.035Zm8.221 8.246a5.47 5.47 0 0 1-2.72.718v2a7.47 7.47 0 0 0 3.71-.98l-.99-1.738Zm-2.72.718A5.5 5.5 0 0 1 9 9.5H7a7.5 7.5 0 0 0 7.5 7.5v-2ZM9 9.5c0-1.079.31-2.082.845-2.93L8.153 5.5A7.47 7.47 0 0 0 7 9.5h2Zm-4 3.368C5 10.089 6.815 7.75 9.292 6.99L8.706 5.08C5.397 6.094 3 9.201 3 12.867h2Zm6.042 6.136C7.718 19.003 5 16.268 5 12.867H3c0 4.48 3.588 8.136 8.042 8.136v-2Zm5.725-4.17c-.81 2.433-3.074 4.17-5.725 4.17v2c3.552 0 6.553-2.327 7.622-5.537l-1.897-.632Z"/><path d="M17 3a1 1 0 0 1 1 1 2 2 0 0 0 2 2 1 1 0 1 1 0 2 2 2 0 0 0-2 2 1 1 0 1 1-2 0 2 2 0 0 0-2-2 1 1 0 1 1 0-2 2 2 0 0 0 2-2 1 1 0 0 1 1-1Z" clip-rule=evenodd fill-rule=evenodd /></svg> Dark<li class="py-1 px-2 flex items-center cursor-pointer text-sky-500" data-mode=system><svg class="size-6 mr-2 text-gray-400 dark:text-gray-500" viewbox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" stroke-linecap=round stroke-linejoin=round /><path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke-linecap=round stroke-linejoin=round /></svg> System</ul></div></div></div><div class="pt-10 md:pt-12 bg-white shadow dark:bg-gray-800 dark:text-gray-100"><div class="flex justify-center max-w-screen-xl mx-auto px-6 py-4"><a href=https://manhhomienbienthuy.github.io title=manhhomienbienthuy> <svg class="max-w-full max-h-24 w-auto h-auto text-gray-900 dark:text-gray-100" viewbox="0 0 1000 165" fill=currentColor height=165 version=1.0 width=1000 xmlns=http://www.w3.org/2000/svg><path d="M651.5 14.7c-10.4 1-11.6 1.4-11 3.3.9 2.9-1.2 7-17.6 34.2-8.4 13.9-17.6 30.2-20.4 36.3-3.5 7.4-6.7 12.4-9.6 15.4-6.1 6.1-13.9 9.2-13.9 5.6 0-2.6 4.7-11 12.7-22.8C600.3 74 602 70.5 602 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C500.2 71 505.5 60.6 504.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.2-3.6 4.8-2 6.7-19.5 35.4-25 41.1-5.1 5.1-8.7 6.6-9.8 3.8-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8c13.2-20.9 20.3-29.9 25.2-31.7 7-2.7 5.7 3-5 21-7.7 12.9-11.6 21.6-11.6 25.8 0 2 5.5 7.2 7.7 7.2 3.9 0 9.5-2.2 13.8-5.5 2.5-1.9 4.7-3.5 5-3.5s.5 1.3.5 2.8c0 1.7 1 3.8 2.5 5.2 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-5 7.7-10 15.9-11.2 18.2-2.7 5.4-2.9 11.8-.4 14.6 4.4 4.8 16.5 1.1 25.6-8l4.8-4.8.6 3.8c1.3 8.3 8.3 12.4 17.3 10.2 18.5-4.6 39.3-28 39.3-44.3 0-14-8.6-18.8-20-11.1-5.5 3.7-5.5 3.7-3.6.8 5.6-8.5 23.6-41 24.1-43.6.8-3.7 0-4.6-4-4.2zM542.6 62.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zm101 3c1.9 7.8-15.7 39.6-25.6 46.3-2.2 1.4-4.6 2.2-6.5 2-2.6-.3-3-.7-3.3-3.6-.8-8.1 8.8-27.5 19.7-39.5 7-7.8 14.4-10.2 15.7-5.2zM821 16c-1.1 1.1-2 2.7-2 3.5 0 2.1-5.3 12.5-9.7 19.2l-3.6 5.3h-5.8c-5.6 0-5.9.1-5.9 2.4 0 2.2.5 2.5 4.4 2.8l4.4.3-11 18c-6 9.9-13 22-15.4 27-4.7 9.9-7.3 13-12.1 15.1-4.2 1.8-6.3 1.8-6.3-.1 0-2.6 4.7-11 12.7-22.8C779.3 74 781 70.5 781 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C679.2 71 684.5 60.6 683.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.3-3.6 4.9-.7 2.2-4.9 10-9.3 17.3-10.4 17-12.9 22.7-12.9 28.8 0 3.8.5 5.2 2.5 7.1 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 10.4 11 11.4 23.4 2l3.5-2.7.8 3c2.1 8.2 12.3 8.2 22.8 0 4.4-3.5 5.6-3.7 3.5-.7-3.1 4.4-2.2 5.8 3.7 5.8 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-9.8 15.5-12.8 21.7-12.8 26.5 0 4.4 3.3 7.9 7.6 7.9 4.5 0 12.6-4.5 18.6-10.3l5.4-5.2-.4 5.2c-.5 6.3 1.3 9.8 5.7 10.8s9.5-1.7 17.1-9.1l6.9-6.6-.2 5.5c-.2 4.2.3 6 1.7 7.6 2.8 3.1 8.3 2.8 13.2-.7l3.9-2.8 2 3c1.1 1.6 3.1 3.3 4.5 3.6 3.8 1 11.1-1.5 15.8-5.5 2.3-2 4.2-3.4 4.2-3.1 0 1.2-10.4 19.3-13.5 23.6-4.7 6.4-14.3 15.4-19.3 17.9-4.7 2.4-10.9 2.7-13.7.8-1.6-1.2-1.6-1.8-.7-4.7 1.6-4.4 1.5-5.6-.4-7.4-3.8-3.8-10.4.2-10.4 6.3 0 11 18.9 13.3 36.9 4.5 11.2-5.5 20.6-15.4 29.7-31.4 3.9-6.9 10.6-18.4 14.9-25.5 16.8-28.2 19.1-32.6 18-34.5-.4-.6-3.5-1-7.1-1-5.3 0-6.6.3-7 1.7-.8 2.9-12.5 25.4-16.1 31.2-6.9 10.8-18.9 21.2-22.8 19.7-2.8-1 1.4-11 11-26.7 7.3-11.8 12.7-22.8 12.1-24.5-.6-1.5-4.4-1.8-9.5-.8-2.7.6-3.6 1.5-5.5 5.8-1.3 2.8-5.8 10.6-10 17.4-7.7 12.2-12.6 21.5-12.6 23.9 0 1.7-4.6 4.6-6 3.8-3.2-2 .2-11 10.4-27.8 7.7-12.8 11.5-20.1 11.6-22.5 0-.8-1.4-1.2-4.2-1.1-9.3.3-9.7.6-13.8 10.2-6.6 15.4-24.1 39.3-30.4 41.7-2.9 1-4.6.2-4.6-2.4 0-1.2 3.9-8.7 8.6-16.7C900 63.4 901.8 58 894.5 58c-6.7 0-9.5 1.1-10 3.9-2.4 12.1-24.9 42.1-34.6 46.1-7.4 3.1-5.5-3.2 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-1-1.2-2.4-1.5-6.1-1-6.7.9-7.5 1.4-8.3 4.4-.3 1.5-2.3 5.6-4.5 9.2-2.1 3.6-7.5 13-12 21-28.3 50.1-35.9 60.5-43.8 59.8-5-.4-5.2-2.6-1.2-12.1 3.3-8.1 16.2-30.6 24.2-42.5l4.9-7.2h5.4c5.2 0 5.5-.1 5.5-2.5 0-2.3-.4-2.5-4-2.5-2.2 0-4-.2-4-.6 0-.3 1.8-3.2 4-6.4 5-7.4 11-18.9 11-21.3 0-2.7-12.2-2.5-15 .3zm-99.4 46.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zM271.5 16.5c-.5.2-2.2.6-3.7.9-1.6.4-2.8 1.2-2.8 1.9 0 1.7-2.4 6.2-12.9 24.7-18.8 33.1-33.6 57.7-36.5 60.9-4.7 5.1-12.6 8-12.6 4.6 0-2.6 4.7-11 12.7-22.8C224.3 74 226 70.5 226 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 5.5-20.8 38.1-29.4 46-4.8 4.4-7 5.2-7.9 2.8-1-2.5 1-7.5 7.2-18 8.4-14.3 18.1-31.8 18.1-32.8 0-.4-2.9-.8-6.5-.8s-6.5.4-6.5.8c0 .5-.6 1.6-1.3 2.6-1.3 1.8-1.5 1.7-4.1-.9-2.4-2.4-3.4-2.7-7-2.3-13.6 1.6-31.1 16.8-39.7 34.5-5.8 11.8-16.5 21-18.5 15.9-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8C79.6 74.8 86.7 65.8 91.6 64c7-2.7 5.7 3-5 21C78.9 97.9 75 106.6 75 110.8c0 .7 1.4 2.7 3 4.4 2.8 2.7 3.5 3 7.1 2.4 5.4-.9 9.2-2.9 14.4-7.7l4.3-3.9.7 3.6c.3 2.1 2 5 3.6 6.7 2.5 2.5 3.6 2.9 6.4 2.4 3.8-.6 9.8-4.5 16.4-10.6 2.4-2.3 4.5-4.1 4.7-4.1s.4 2.2.4 5c0 6.2 2.7 9.6 6.8 8.5 3.5-.9 8.2-3.1 11.1-5.2 2.4-1.7 2.4-1.7 1.3.4-2.1 3.8-1.5 4.3 5.1 4.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 8.3 7.1 10.9 16.7 6 4.4-2.2 4.7-2.2 4.7-.5 0 1.6.8 1.9 5.3 1.9 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.4 21.3-15.4 27.6-10.3 32.4 4.2 3.9 12 1.6 22.4-6.7l3.5-2.8-2.7 4c-4.2 6.2-3.7 7.5 2.6 7.5 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.3 21.1-15.4 27.6-10.5 32.2 4.5 4.3 12 2 22.5-6.7 5.6-4.7 6.2-5 6.2-2.9 0 3.7 3.4 8.3 7.6 10.3 14.4 7 36.7-6.2 47.5-28 4-8 4.4-9.5 4.4-16.1 0-6.3-.3-7.6-2.4-9.8-8.4-8.9-26.6-4-42.2 11.5-6.3 6.2-8.5 9.2-12.2 17-3.4 7.1-5.7 10.3-9.1 13.1-5.7 4.8-9.3 6.5-10.7 5.1-1.6-1.6 1.6-8.1 10.1-20.8 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-2-2.4-13.9-.7-13.9 2S293.2 74.5 284 88c-5 7.3-16 18.3-20.1 20-7.4 3.1-5.6-3.1 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13-21.5 16.4-28.5 14.8-30.5-1.1-1.4-4.9-1.9-7.5-1zM151.8 62.2c3.2 3.2-.1 12.6-10.1 28.1-8.9 13.8-16.1 20.7-21.6 20.7-2.7 0-4.4-3.4-3.5-7.3 2.3-11.1 21.5-37.5 29.9-41.3 3.7-1.7 3.8-1.7 5.3-.2zm232 0c3.5 3.5-1 17.8-9.8 31.1-10.1 15.4-20.3 22.2-25.5 17-6.8-6.7 12.9-39 29-47.6 3.7-2 4.7-2.1 6.3-.5z"/><path d="M505.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8zM684.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8z"/></svg> </a></div></div></header><main><div class="grid grid-cols-1 md:grid-cols-7 items-start gap-6 max-w-screen-xl mx-auto px-6"><div class=md:col-span-5><div class="bg-white p-8 shadow-lg dark:bg-gray-800"><h1 class="mb-4 text-3xl leading-relaxed font-bold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Python metaclass</h1><div class="flex flex-wrap gap-x-4 mb-4 py-2 text-sm leading-relaxed text-gray-400"><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" stroke-linecap=round stroke-linejoin=round /></svg><a href=https://manhhomienbienthuy.github.io/category/lap-trinh.html> Lập trình </a></div><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap=round stroke-linejoin=round /></svg><a href=https://manhhomienbienthuy.github.io/2016> 2016-02-23 </a></div><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap=round stroke-linejoin=round /></svg><a href=https://manhhomienbienthuy.github.io/pages/gioi-thieu.html> manhhomienbienthuy </a></div><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" stroke-linecap=round stroke-linejoin=round /></svg> 2023-04-26 05:26:18 (UTC)</div></div><figure class=mb-10><img alt="Python metaclass" class="w-full mb-4" decoding=async height=270 loading=lazy src=https://images.unsplash.com/photo-1610210752279-e19c66c31e9b?ixlib=rb-4.0.3&w=1280&q=80&fm=webp&crop=entropy&cs=tinysrgb width=360><figcaption class="pb-2 text-sm text-gray-400 border-b border-gray-100 dark:border-gray-700">Photo by <a class="text-crimson hover:text-gray-400" rel="noopener noreferrer" href=https://unsplash.com/@seemamiah target=_blank>Seema Miah</a> from <a class="text-crimson hover:text-gray-400" rel="noopener noreferrer" href=https://unsplash.com/photos/DePmol2kYdY target=_blank>Unsplash</a></figcaption></figure><div class="md:text-lg leading-loose md:leading-loose text-justify"><p class=my-4>Metaclass là một chủ đề khá ít người đề cập của Python. Một phần có lẽ bởi vì nó cũng ít được sử dụng, mà một phần lý do bởi vì Python cũng ít có tài liệu về chủ đề này. Trong bài viết này, tôi sẽ giới thiệu những hiểu biết mình đã tổng hợp được từ nhiều nguồn khác nhau, liên qua tới metaclass của Python. Có thể nó ít được sử dụng bởi nó cũng không cần thiết cho lắm, tuy nhiên, hiểu biết cặn kẽ về ngôn ngữ không bao giờ là thừa cả.<blockquote class="my-4 py-1 px-4 bg-gray-100 text-gray-500 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-400"><p class="my-4 mt-2 mb-2">Những code trong bài viết này đề sử dụng Python 3, nên có thể nó sẽ không hoạt động đúng với Python 2.</blockquote><div class="p-2 text-xs leading-relaxed bg-gray-100 whitespace-nowrap overflow-auto dark:bg-gray-900"><span class="font-semibold text-sm text-gray-900 mb-4 dark:text-gray-100">Mục lục</span><ul><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#khai-niem-co-ban>Khái niệm cơ bản</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#class-cung-la-oi-tuong>Class cũng là đối tượng</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#tao-ra-cac-class-ong>Tạo ra các class động</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#su-dung-metaclass-co-ban>Sử dụng metaclass cơ bản</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#tong-ket-the-nao-la-metaclass>Tổng kết: Thế nào là metaclass</a></ul><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#kien-thuc-nang-cao>Kiến thức nâng cao</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#qua-trinh-tao-instance>Quá trình tạo instance</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#qua-trinh-tao-class>Quá trình tạo class</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#metaclass-la-callable>Metaclass là callable</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#class-con-ke-thua-metaclass>Class con kế thừa metaclass</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#han-che-dung-nhieu-metaclass>Hạn chế dùng nhiều metaclass</a></ul><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#magic-method>Magic method</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#slot>Slot</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#tham-chieu-thuoc-tinh-cua-oi-tuong>Tham chiếu thuộc tính của đối tượng</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#tham-chieu-thuoc-tinh-cua-class>Tham chiếu thuộc tính của class</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#tham-chieu-magic-method>Tham chiếu magic method</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#phuong-thuc-__new__>Phương thức __new__</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#phuong-thuc-__prepare__>Phương thức __prepare__</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#chu-ky-cua-phuong-thuc>Chữ ký của phương thức</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#tai-sao-chung-ta-nen-dung-metaclass>Tại sao chúng ta nên dùng metaclass?</a></ul><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#ket-luan>Kết luận</a></ul></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=khai-niem-co-ban><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#khai-niem-co-ban> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Khái niệm cơ bản</h2><p class=my-4>Chúng ta sẽ dần dần tìm hiểu từng khái niệm, từ cơ bản đến nâng cao để có thể hiểu được metaclass của Python.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=class-cung-la-oi-tuong><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#class-cung-la-oi-tuong> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Class cũng là đối tượng</h3><p class=my-4>Trước khi hiểu được metaclass, chúng ta cần hiểu được class của Python trước. Python có những ý tưởng rất bá đạo về việc xây dựng class, lấy cảm hứng từ ngôn ngữ <a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://en.wikipedia.org/wiki/Smalltalk target=_blank>Smalltalk</a>.<p class=my-4>Trong phần lớn ngôn ngữ lập trình, class là phần code miêu tả cách tạo ra các đối tượng. Python cũng tương tự như vậy.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>Foo</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=n>bar</span> <span class=o>=</span> <span class=n>Foo</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>bar</span><span class=p>)</span>
<span class=go><__main__.Foo object at 0x7f9eba142ba8></span>
</code></pre></div><p class=my-4>Nhưng không chỉ có vậy, trong Python, <strong>class cũng là đối tượng</strong>. Ngay khi bạn sử dụng từ khóa <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">class</code>, Python sẽ thực thi nó là tạo ra một đối tượng.<p class=my-4>Ví dụ, khi bạn khai báo class<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>Foo</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
</code></pre></div><p class=my-4>Thì trong bộ nhớ, một đối tượng tên là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Foo</code> sẽ được tạo ra. Tuy nhiên, đây là một đối tượng đặc biệt, đối tượng dùng để tạo ra các đối tượng khác (instance của class). Tuy nhiên, vì là một đối tượng, nên bạn có thể:<ul class="list-revert ml-5"><li>gán chúng cho các biến<li>copy nó<li>thêm thuộc tính cho nó<li>dùng nó làm tham số cho các hàm</ul><p class=my-4>Ví dụ:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Foo</span><span class=p>)</span> <span class=c1># bạn có thể print vì class cũng là đối tượng</span>
<span class=go>&LTclass '__main__.Foo'></span>
<span class=gp>>>> </span><span class=k>def</span> <span class=nf>echo</span><span class=p>(</span><span class=n>o</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>o</span><span class=p>)</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=n>echo</span><span class=p>(</span><span class=n>Foo</span><span class=p>)</span> <span class=c1># bạn có thể truyền class làm tham số cho hàm</span>
<span class=go>&LTclass '__main__.Foo'></span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>hasattr</span><span class=p>(</span><span class=n>Foo</span><span class=p>,</span> <span class=s1>'attribute'</span><span class=p>))</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=n>Foo</span><span class=o>.</span><span class=n>attribute</span> <span class=o>=</span> <span class=s1>'foo'</span> <span class=c1># bạn có thể thêm thuộc tính cho class</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>hasattr</span><span class=p>(</span><span class=n>Foo</span><span class=p>,</span> <span class=s1>'attribute'</span><span class=p>))</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Foo</span><span class=o>.</span><span class=n>attribute</span><span class=p>)</span>
<span class=go>foo</span>
<span class=gp>>>> </span><span class=n>FooCopy</span> <span class=o>=</span> <span class=n>Foo</span> <span class=c1># bạn có thể gán class cho biến</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>FooCopy</span><span class=o>.</span><span class=n>attribute</span><span class=p>)</span>
<span class=go>foo</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>FooCopy</span><span class=p>())</span>
<span class=go><__main__.Foo object at 0x7f9eba142da0></span>
</code></pre></div><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=tao-ra-cac-class-ong><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#tao-ra-cac-class-ong> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Tạo ra các class động</h3><p class=my-4>Bởi vì class cũng là đối tượng, nên chúng ta có thể tạo ra các class động, giống như tất cả các đối tượng khác.<p class=my-4>Trước hết, bạn có thể tạo ra class trong một hàm như sau:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>def</span> <span class=nf>choose_class</span><span class=p>(</span><span class=n>name</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=s1>'foo'</span><span class=p>:</span>
<span class=gp>... </span>        <span class=k>class</span> <span class=nc>Foo</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=gp>... </span>            <span class=k>pass</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=n>Foo</span> <span class=c1># return class chứ không phải instance</span>
<span class=gp>... </span>    <span class=k>else</span><span class=p>:</span>
<span class=gp>... </span>        <span class=k>class</span> <span class=nc>Bar</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=gp>... </span>            <span class=k>pass</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=n>Bar</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=n>MyClass</span> <span class=o>=</span> <span class=n>choose_class</span><span class=p>(</span><span class=s1>'foo'</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>MyClass</span><span class=p>)</span> <span class=c1># in ra class</span>
<span class=go>&LTclass '__main__.choose_class.&LTlocals>.Foo'></span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>MyClass</span><span class=p>())</span> <span class=c1># tạo ra một instance của class</span>
<span class=go><__main__.choose_class.&LTlocals>.Foo object at 0x7f9eba142eb8></span>
</code></pre></div><p class=my-4>Tuy nhiên, như vậy cũng chưa phải là động lắm, bởi vì bạn vẫn cần phải code toàn bộ nội dung của class. Bởi vì class cũng là đối tượng, nó nhất định được tạo ra bởi một thứ gì khác.<p class=my-4>Khi bạn dùng từ khóa <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">class</code>, Python tự động tạo đối tượng đó cho bạn. Tuy nhiên, bạn vẫn có thể làm việc này bằng tay.<p class=my-4>Python có hàm <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code>, cho chúng ta biết loại của đối tượng được truyền vào.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=nb>type</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=go>&LTclass 'int'></span>
<span class=gp>>>> </span><span class=nb>type</span><span class=p>(</span><span class=s2>"1"</span><span class=p>)</span>
<span class=go>&LTclass 'str'></span>
<span class=gp>>>> </span><span class=nb>type</span><span class=p>(</span><span class=n>Foo</span><span class=p>())</span>
<span class=go>&LTclass '__main__.Foo'></span>
<span class=gp>>>> </span><span class=nb>type</span><span class=p>(</span><span class=n>Foo</span><span class=p>)</span>
<span class=go>&LTclass 'type'></span>
</code></pre></div><p class=my-4>Như vậy, hàm type có thể cho chúng ta biến class của đối tượng được truyền vào. Nó cũng tương tự như hàm <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">isinstance</code> vậy. Và bạn có để ý kết quả của ví dụ cuối cùng ở trên không? Class <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Foo</code> là instance của class <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code>.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=nb>isinstance</span><span class=p>(</span><span class=n>bar</span><span class=p>,</span> <span class=n>Foo</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=nb>isinstance</span><span class=p>(</span><span class=n>Foo</span><span class=p>,</span> <span class=nb>type</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div><p class=my-4>Vậy là class cũng là đối tượng, và đối tượng này được tạo bởi một thứ khác. Chúng ta gọi những thứ tạo ra class đó là là metaclass. Và như ví dụ trên, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code> là một metaclass như thế. Chúng ta có thể khái quát mối quan hệ đó bằng sơ đồ dưới đây.<figure class="my-4 text-center"><img class="w-auto mx-auto" alt=relations decoding=async height=270 loading=lazy src=https://i.imgur.com/hbNFgPW.png width=360></figure><p class=my-4>Mọi thứ trong Python, bất kể số, xâu, hàm, phương thức, v.v đều là đối tượng trong Python. Tất cả chúng đều là đối tượng, nên chúng phải được tạo ra bởi một class. Và chúng đều có thuộc tính <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__class__</code> để chúng ta kiểm tra việc này.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=n>age</span> <span class=o>=</span> <span class=mi>25</span>
<span class=gp>>>> </span><span class=n>age</span><span class=o>.</span><span class=vm>__class__</span>
<span class=go>&LTclass 'int'></span>
<span class=gp>>>> </span><span class=n>name</span> <span class=o>=</span> <span class=s2>"AnhTN"</span>
<span class=gp>>>> </span><span class=n>name</span><span class=o>.</span><span class=vm>__class__</span>
<span class=go>&LTclass 'str'></span>
<span class=gp>>>> </span><span class=k>def</span> <span class=nf>foo</span><span class=p>():</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=n>foo</span><span class=o>.</span><span class=vm>__class__</span>
<span class=go>&LTclass 'function'></span>
<span class=gp>>>> </span><span class=k>class</span> <span class=nc>Bar</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=n>bar</span> <span class=o>=</span> <span class=n>Bar</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>bar</span><span class=o>.</span><span class=vm>__class__</span>
<span class=go>&LTclass '__main__.Bar'></span>
</code></pre></div><p class=my-4>Bây giờ, chúng ta sẽ kiểm tra <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__class__</code> của mọi class?<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=n>age</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__class__</span>
<span class=go>&LTclass 'type'></span>
<span class=gp>>>> </span><span class=n>name</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__class__</span>
<span class=go>&LTclass 'type'></span>
<span class=gp>>>> </span><span class=n>foo</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__class__</span>
<span class=go>&LTclass 'type'></span>
<span class=gp>>>> </span><span class=n>bar</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__class__</span>
<span class=go>&LTclass 'type'></span>
</code></pre></div><p class=my-4>Vậy, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code> là một metaclass có sẵn của Python. Và mặc định, các class trong Python đều được tạo ra bởi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code>. Tất nhiên là bạn có thể tạo ra metaclass của riêng mình nếu muốn. Chúng ta sẽ dần dần tìm hiểu trong những phần tiếp theo.<p class=my-4>Bây giờ, chúng ta sẽ tìm hiểu kỹ hơn về quá trình tạo ra một class.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=su-dung-metaclass-co-ban><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#su-dung-metaclass-co-ban> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Sử dụng metaclass cơ bản</h3><p class=my-4>Ở ví dụ trước, chúng ta đã thấy, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code> là một hàm cho chúng ta biết class được dùng để tạo ra đối tượng. Và sau đó, chúng ta lại thấy, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code> còn có khá năng khác nữa. Nó là một metaclass được dùng để tạo ra các class.<blockquote class="my-4 py-1 px-4 bg-gray-100 text-gray-500 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-400"><p class="my-4 mt-2 mb-2">Một hàm và một metaclass có cùng tên nên nhiều khi nó gây hiểu nhầm. Đây là vấn đề liên quan đến tương thích ngược của Python nên vấn đề sẽ còn tồn tại, không biết đến bao giờ.</blockquote><p class=my-4><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code> (metaclass) sẽ nhận đầu vào là những mô tả của class và trả kết quả là một class.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nb>type</span><span class=p>(</span><span class=o><</span><span class=n>name</span> <span class=n>of</span> <span class=n>the</span> <span class=n>class</span><span class=o>></span><span class=p>,</span>
     <span class=o><</span><span class=nb>tuple</span> <span class=n>of</span> <span class=n>the</span> <span class=n>parent</span> <span class=k>class</span> <span class=err>(</span><span class=nc>for</span> <span class=n>inheritance</span><span class=p>,</span> <span class=n>can</span> <span class=n>be</span> <span class=n>empty</span><span class=p>)</span><span class=o>></span><span class=p>,</span>
     <span class=o><</span><span class=n>dictionary</span> <span class=n>containing</span> <span class=n>attributes</span> <span class=n>names</span> <span class=ow>and</span> <span class=n>values</span><span class=p>)</span><span class=o>></span>
</code></pre></div><p class=my-4>Ví dụ:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>Foo</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
</code></pre></div><p class=my-4>Có thể thực hiện bằng tay như sau:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=n>Foo</span> <span class=o>=</span> <span class=nb>type</span><span class=p>(</span><span class=s1>'Foo'</span><span class=p>,</span> <span class=p>(),</span> <span class=p>{})</span> <span class=c1># kết quả trả về là một class</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Foo</span><span class=p>)</span>
<span class=go>&LTclass '__main__.Foo'></span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Foo</span><span class=p>())</span> <span class=c1># tạo một instance của class `Foo`</span>
<span class=go><__main__.Foo object at 0x7f9eba142f98></span>
</code></pre></div><p class=my-4>Trong ví dụ trên, chúng ta sử dụng tên <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Foo</code> làm tên của class và cũng là biến nhận kết quả trả về của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code>. Kết quả trả về này chính là một class tên <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Foo</code>. Tất nhiên là chúng ta có thể dùng một biến với tên khác, nhưng như vậy sẽ khó hiểu hơn kha khá.<p class=my-4><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code> chấp nhận một dictionary định nghĩa các thuộc tính của class đó. Nên:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>Foo</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>bar</span> <span class=o>=</span> <span class=kc>True</span>
<span class=gp>...</span>
</code></pre></div><p class=my-4>Có thể thực hiện bằng<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=n>Foo</span> <span class=o>=</span> <span class=nb>type</span><span class=p>(</span><span class=s1>'Foo'</span><span class=p>,</span> <span class=p>(),</span> <span class=p>{</span><span class=s1>'bar'</span><span class=p>:</span> <span class=kc>True</span><span class=p>})</span>
</code></pre></div><p class=my-4>Và chúng ta có thể sử dụng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Foo</code> như những class bình thường khác.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Foo</span><span class=p>)</span>
<span class=go>&LTclass '__main__.Foo'></span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Foo</span><span class=o>.</span><span class=n>bar</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>foo</span> <span class=o>=</span> <span class=n>Foo</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>foo</span><span class=p>)</span>
<span class=go><__main__.Foo object at 0x7f9eba142f98></span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>foo</span><span class=o>.</span><span class=n>bar</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div><p class=my-4>Chúng ta cũng có thể sử dụng cách này với các class kế thừa nhau. Ví dụ:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>FooChild</span><span class=p>(</span><span class=n>Foo</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
</code></pre></div><p class=my-4>có thể thực hiện bằng:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=n>FooChild</span> <span class=o>=</span> <span class=nb>type</span><span class=p>(</span><span class=s1>'FooChild'</span><span class=p>,</span> <span class=p>(</span><span class=n>Foo</span><span class=p>,),</span> <span class=p>{})</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>FooChild</span><span class=p>)</span>
<span class=go>&LTclass '__main__.FooChild'></span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>FooChild</span><span class=o>.</span><span class=n>bar</span><span class=p>)</span> <span class=c1># thuộc tính `bar` kế thừa từ `Foo`</span>
<span class=go>True</span>
</code></pre></div><p class=my-4>Nếu bạn muốn thêm phương thức cho class của bạn. Rất đơn giản, hãy định nghĩa một hàm với tham số phù hợp (<code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">self</code>) và gán nó như là thuộc tính của class.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>def</span> <span class=nf>echo_bar</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>bar</span><span class=p>)</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=n>FooChild</span> <span class=o>=</span> <span class=nb>type</span><span class=p>(</span><span class=s1>'FooChild'</span><span class=p>,</span> <span class=p>(</span><span class=n>Foo</span><span class=p>,</span> <span class=p>),</span> <span class=p>{</span><span class=s1>'echo_bar'</span><span class=p>:</span> <span class=n>echo_bar</span><span class=p>})</span>
<span class=gp>>>> </span><span class=nb>hasattr</span><span class=p>(</span><span class=n>Foo</span><span class=p>,</span> <span class=s1>'echo_bar'</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=nb>hasattr</span><span class=p>(</span><span class=n>FooChild</span><span class=p>,</span> <span class=s1>'echo_bar'</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>foo_child</span> <span class=o>=</span> <span class=n>FooChild</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>foo_child</span><span class=o>.</span><span class=n>echo_bar</span><span class=p>()</span>
<span class=go>True</span>
</code></pre></div><p class=my-4>Bạn cũng có thể thêm các thuộc tính kể cả khi class đã được định nghĩa rồi, giống như thêm phương thức cho các class thông thường khác.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>def</span> <span class=nf>more_method</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"Another method"</span><span class=p>)</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=n>FooChild</span><span class=o>.</span><span class=n>more_method</span> <span class=o>=</span> <span class=n>more_method</span>
<span class=gp>>>> </span><span class=nb>hasattr</span><span class=p>(</span><span class=n>FooChild</span><span class=p>,</span> <span class=s1>'more_method'</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>foo_child</span><span class=o>.</span><span class=n>more_method</span><span class=p>()</span>
<span class=go>Another method</span>
</code></pre></div><p class=my-4>Bài học rút ra là gì? Đó là class của Python cũng là đối tượng, và chúng ta có thể tạo ra chúng động, tạo ra khi cần và thêm thuộc tính nếu muốn.<p class=my-4>Và class là một đối tượng đặc biệt, nó được tạo ra bởi metaclass. Bản thân lệnh <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">class</code> cũng chứa nhiều bí ẩn phía sau. Đó là thiết lập các thuộc tính <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__qualname__</code>, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__doc__</code>, cũng như gọi phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__prepare__</code>. Chúng ta sẽ tìm hiểu về chúng ở phần sau.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=tong-ket-the-nao-la-metaclass><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#tong-ket-the-nao-la-metaclass> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Tổng kết: Thế nào là metaclass</h3><p class=my-4>Class là công cụ để tạo ra các đối tượng. Bạn định nghĩa class và sau đó dùng class để tạo ra các đối tượng.<p class=my-4>Và bây giờ, chúng ta biết rằng, class của Python cũng là đối tượng (đặc biệt). Và metaclass là công cụ để tạo ra những đối tượng đặc biệt này. Metaclass có thể gọi là class của class.<p class=my-4>Và chúng ta cũng học cách sử dụng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code> để tạo ra các class. Đó là bởi vì <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code> cũng là metaclass. Và thực sự <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code> là metaclass của mọi class trong Python.<p class=my-4>Có khi nào bạn thắc mắc, tại sao class của class (<code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code>) lại chỉ viết thường không? Tại sao không phải là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Type</code>?<p class=my-4>Thực ra tôi cũng không biết, nhưng chắc nó cũng tương tự như trường hợp của các class <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">int</code> (số nguyên), <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">str</code> (xâu ký tự). <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code> cũng là một class để tạo ra các class khác.<h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=kien-thuc-nang-cao><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#kien-thuc-nang-cao> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Kiến thức nâng cao</h2><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=qua-trinh-tao-instance><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#qua-trinh-tao-instance> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Quá trình tạo instance</h3><p class=my-4>Sơ đồ dưới đây minh hoạt quá trình tạo ra một instance:<figure class="my-4 text-center"><img alt="instance creation workflow" class="w-auto mx-auto" decoding=async height=270 loading=lazy src=https://i.imgur.com/TGx1s0r.png width=360></figure><p class=my-4>Sơ đồ trên có thể hiểu như sau:<ul class="list-revert ml-5"><li>Khi tạo một instance <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__call__</code> sẽ gọi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__new__</code>.<li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__new__</code> sẽ trả về một instance của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class</code>.<li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__call__</code> sẽ trả về bất cứ thứ gì mà <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__new__</code> trả về. Nếu một instance của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class</code> được trả về thì nó sẽ gọi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__init__</code>.</ul><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=qua-trinh-tao-class><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#qua-trinh-tao-class> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Quá trình tạo class</h3><p class=my-4>Việc tạo ra class, thực ra là tạo một instance của metaclass, nên cũng tương tự như vậy:<figure class="my-4 text-center"><img alt="class creation workflow" class="w-auto mx-auto" decoding=async height=270 loading=lazy src=https://i.imgur.com/LIe9mTX.png width=360></figure><p class=my-4>Một số lưu ý:<ul class="list-revert ml-5"><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__prepare__</code> trả về một đối tượng làm namespace.<li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__new__</code> trả về đối tượng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class</code>.<li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">MetaMetaclass.__call__</code> trả về bất cứ thứ gì <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__new__</code> trả về. Nếu nó trả về một instance của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass</code> thì nó cũng gọi phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__init__</code>.</ul><p class=my-4>Các phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__prepare__</code>, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__new__</code>, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__init__</code> được gọi là magic method. Và chúng ta sẽ tìm hiểu về chúng kỹ hơn ở phần sau.<p class=my-4>Như vậy, metaclass cho phép chúng ta thay đổi hầu hết các bước trong vòng đời của một đối tượng.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=metaclass-la-callable><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#metaclass-la-callable> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Metaclass là callable</h3><p class=my-4>Nhìn vào sơ đồ trên, bạn sẽ để ý rằng, việc tạo ra một instance phải đi qua <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__call__</code>. Điều đó có nghĩa là bạn có thể dùng bất cứ callable nào làm metaclass.<blockquote class="my-4 py-1 px-4 bg-gray-100 text-gray-500 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-400"><p class="my-4 mt-2">Callable là bất cứ thứ gì có thể gọi và thực thi được. Một đối tượng là callable nếu:<ul class="list-revert ml-5"><li>là một instance của class có phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__call__</code><li>một loại dữ liệu có thuộc tính <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">tp_call</code> (struct của C)</ul><p class="my-4 mb-2">Phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__call__</code> được gọi khi instance được gọi như một hàm.</blockquote><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>Foo</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=nb>print</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=go>..</span>
<span class=go>Foo () {'__module__': '__main__', '__qualname__': 'Foo'}</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Foo</span><span class=p>)</span>
<span class=go>None</span>
</code></pre></div><p class=my-4>Nếu bạn sử dụng <strong>hàm</strong> làm metaclass, thì các class sẽ không kế thừa thừ metaclass của hàm đó, mà nó sử dụng bất cứ thứ gì mà hàm đó trả về.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=class-con-ke-thua-metaclass><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#class-con-ke-thua-metaclass> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Class con kế thừa metaclass</h3><p class=my-4>Một lợi ích so sánh với các class decorator là class con kế thừa metaclass.<p class=my-4>Đây là kết quả của việc <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__call__</code> trả kết quả là một đối tượng có <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__class__</code> là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass</code>.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=han-che-dung-nhieu-metaclass><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#han-che-dung-nhieu-metaclass> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Hạn chế dùng nhiều metaclass</h3><p class=my-4>Python cho phép bạn định nghĩa một class kế thừa từ nhiều class khác nhau. Python cũng cho phép chúng ta định nghĩa nhiều metaclass khác nhau. Tuy nhiên, có một yêu cầu bắt buộc, đó là mọi thứ phải tuyến tính – cây kế thừa chỉ có 1 lá duy nhất.<p class=my-4>Trong ví dụ dưới đây, việc kế thừa không được phép vì đang tồn tại hai lá (<code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Meta1</code> và <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Meta2</code>)<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>Meta1</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=k>class</span> <span class=nc>Meta2</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=k>class</span> <span class=nc>Base1</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>Meta1</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=k>class</span> <span class=nc>Base2</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>Meta2</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=k>class</span> <span class=nc>FooBar</span><span class=p>(</span><span class=n>Base1</span><span class=p>,</span> <span class=n>Base2</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gt>Traceback (most recent call last):</span>
  File <span class=nb>"&LTstdin>"</span>, line <span class=m>1</span>, in <span class=n>&LTmodule></span>
<span class=gr>TypeError</span>: <span class=n>metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases</span>
</code></pre></div><p class=my-4>Nhưng ví dụ dưới đây lại hoạt động bình thường (metaclass là lá trong cây kế thừa)<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>Meta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=k>class</span> <span class=nc>SubMeta</span><span class=p>(</span><span class=n>Meta</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=k>class</span> <span class=nc>Base1</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>Meta</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=k>class</span> <span class=nc>Base2</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>SubMeta</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=k>class</span> <span class=nc>FooBar</span><span class=p>(</span><span class=n>Base1</span><span class=p>,</span> <span class=n>Base2</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=nb>type</span><span class=p>(</span><span class=n>FooBar</span><span class=p>)</span>
<span class=go>&LTclass '__main__.SubMeta'></span>
</code></pre></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=magic-method><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#magic-method> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Magic method</h2><p class=my-4>Một tính năng rất đặc trưng của Python mà <strong>magic method</strong>: nó cho phép lập trình viên có thể thay đổi hoạt động của các phép toán và cả các đối tượng. Bạn có thể làm nó như ví dụ dưới đây:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>FooBar</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=gp>... </span>        <span class=nb>print</span><span class=p>(</span><span class=s2>"Class works like a function"</span><span class=p>)</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=n>f</span> <span class=o>=</span> <span class=n>FooBar</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>f</span><span class=p>()</span>
<span class=go>Class works like a function</span>
</code></pre></div><p class=my-4>Metaclass hoạt động dựa vào rất nhiều magic method khác nhau, nên việc tìm hiểu chúng khá cần thiết.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=slot><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#slot> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Slot</h3><p class=my-4>Khi bạn định nghĩa một magic method trong class của bạn, hàm đó sẽ hoạt động giống như một pointer trong <a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://docs.python.org/3/c-api/typeobj.html target=_blank><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">struct</code> dùng để mô tả class</a>. Hơn nữa, nó còn là một phần trong <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__dict__</code>. Struct đó có các trường cho mỗi magic method, vì nhiều lý do mà các trường này được gọi là <strong>type slot</strong>, mỗi magic method sẽ có một type slot tương ứng.<p class=my-4>Và chúng ta biết thêm một tính năng nữa. Đó là cài đặt thuộc tính thông qua thuộc tính <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__slots__</code>. Ví dụ như sau:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>FooBar</span><span class=p>:</span>
<span class=gp>... </span>    <span class=vm>__slots__</span> <span class=o>=</span> <span class=s2>"foo"</span><span class=p>,</span> <span class=s2>"bar"</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=n>foobar</span> <span class=o>=</span> <span class=n>FooBar</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>foobar</span><span class=o>.</span><span class=n>foo</span> <span class=o>=</span> <span class=mi>1</span>
<span class=gp>>>> </span><span class=n>foobar</span><span class=o>.</span><span class=n>bar</span> <span class=o>=</span> <span class=mi>2</span>
</code></pre></div><p class=my-4>Một class có thuộc tính <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__slots__</code> sẽ tạo ra các instance không có thuộc tính <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__dict__</code> (và do đó, sẽ dùng ít bộ nhớ hơn).<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=n>foobar</span><span class=o>.</span><span class=vm>__dict__</span>
<span class=gt>Traceback (most recent call last):</span>
  File <span class=nb>"&LTstdin>"</span>, line <span class=m>1</span>, in <span class=n>&LTmodule></span>
<span class=gr>AttributeError</span>: <span class=n>'FooBar' object has no attribute '__dict__'</span>
</code></pre></div><p class=my-4>Một hệ quả của việc này là instance của chúng ta không thể thêm bất cứ thuộc tính nào ngoài những thuộc tính đã được định nghĩa từ trước. Nếu cố cho thêm thuộc tính mới, bạn sẽ nhận được <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">AttributeError</code>:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=n>foobar</span><span class=o>.</span><span class=n>more_attr</span> <span class=o>=</span> <span class=mi>3</span>
<span class=gt>Traceback (most recent call last):</span>
  File <span class=nb>"&LTstdin>"</span>, line <span class=m>1</span>, in <span class=n>&LTmodule></span>
<span class=gr>AttributeError</span>: <span class=n>'FooBar' object has no attribute 'more_attr'</span>
</code></pre></div><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=tham-chieu-thuoc-tinh-cua-oi-tuong><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#tham-chieu-thuoc-tinh-cua-oi-tuong> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Tham chiếu thuộc tính của đối tượng</h3><p class=my-4>Những điều dưới đây có thể gây nhầm lần bởi nó hơi khác một chút so với Python 2.<p class=my-4>Giả sử <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class</code> là một class có instance là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">instance</code>. Nếu chúng ta cần gọi đến thuộc tính <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">instance.foobar</code>, quá trình sẽ diễn ra như sau:<ul class="list-revert ml-5"><li>Mặc định sẽ là gọi type slot cho <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__getattribute__
  (tp_getattro)</code>.<ul class="list-revert ml-5"><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">foobar</code> có phải là một data descriptor trong <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__dict__</code> hay không?<ul class="list-revert ml-5"><li>Nếu có, trả về kết quả của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__dict__['foobar'].__get__(instance, Class)</code>.</ul><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">foobar</code> có phải là một phần tử của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">instance.__dict__</code> hay không?<ul class="list-revert ml-5"><li>Nếu có, trả về kết quả <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">instance.__dict__['foobar']</code>.</ul><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">foobar</code> là một phần tử trong <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__dict__</code> nhưng không phải là data descriptor?<ul class="list-revert ml-5"><li>Nếu đúng, trả về kết quả của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__dict__['foobar'].__get__(instance, klass)</code>.</ul></ul><li>Nếu thuộc tính vẫn không được tìm thấy, nếu có tồn tại <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__getattr__</code> thì gọi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__getattr__('foobar')</code>.</ul><blockquote class="my-4 py-1 px-4 bg-gray-100 text-gray-500 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-400"><p class="my-4 mt-2 mb-2">Data descriptor là một đối tượng có cả phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__get__</code> và phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__set__</code>. <a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://docs.python.org/3/reference/datamodel.html#invoking-descriptors target=_blank>Tham khảo</a>.</blockquote><p class=my-4>Sơ đồ sau sẽ minh họa cho quá trình này.<figure class="my-4 text-center"><img alt="objects attribute lookup" class="w-auto mx-auto" decoding=async height=270 loading=lazy src=https://i.imgur.com/e2bZfqf.png width=360></figure><blockquote class="my-4 py-1 px-4 bg-gray-100 text-gray-500 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-400"><p class="my-4 mt-2 mb-2">Trong sơ đồ trên, dấu <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">:</code> được dùng thay cho dấu <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">.</code> để tránh những hiểu nhầm đáng tiếc.</blockquote><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=tham-chieu-thuoc-tinh-cua-class><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#tham-chieu-thuoc-tinh-cua-class> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Tham chiếu thuộc tính của class</h3><p class=my-4>Bởi vì class còn phải hỗ trợ các phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">classmethod</code> và <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">staticmethod</code> nên quá trình tham chiếu có phức tạp hơn một chút. Nếu bạn gọi phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.foobar</code> quá trình này tương đối khác với việc tham chiếu <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">instance.foobar</code>.<p class=my-4>Giả sử <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class</code> có metaclass là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass</code>, quá trình tham chiếu <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.foobar</code> sẽ diễn ra như sau:<ul class="list-revert ml-5"><li>Mặc định là sẽ gọi type slot cho <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__getattribute__(tp_getattro)</code>.<ul class="list-revert ml-5"><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">foobar</code> là data descriptor trong <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__dict__</code>?<ul class="list-revert ml-5"><li>Nếu đúng, trả về kết quả của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__dict__['foobar'].__get__(Class, Metaclass)</code>.</ul><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">foobar</code> tồn tại bên trong <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__dict__</code> và có thể là bất kỳ descriptor nào?<ul class="list-revert ml-5"><li>Nếu đúng, trả về kết quả của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__dict__['foobar'].__get__(None, Class)</code>.</ul><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__dict__</code> có chứa <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">foobar</code>?<ul class="list-revert ml-5"><li>Nếu đúng, trả về <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class.__dict__['foobar']</code>.</ul><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">foobar</code> tồn tại trong <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__dict__</code> nhưng không phải descriptor?<ul class="list-revert ml-5"><li>Nếu đúng, trả về kết quả <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__dict__['foobar'].__get__(Class, Metaclass)</code>.</ul><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__dict__</code> có chứa <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">foobar</code>?<ul class="list-revert ml-5"><li>Nếu đúng, trả về <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__dict__['foobar']</code>.</ul></ul><li>Nếu thuộc tính vẫn không tìm thấy, nếu tồn tại <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__getattr__</code>, thì gọi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__getattr__('foobar')</code>.</ul><p class=my-4>Toàn bộ quá trình được minh họa bằng sơ đồ dưới đây.<figure class="my-4 text-center"><img alt="classes attribute lookup" class="w-auto mx-auto" decoding=async height=270 loading=lazy src=https://i.imgur.com/qRyONTI.png width=360></figure><blockquote class="my-4 py-1 px-4 bg-gray-100 text-gray-500 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-400"><p class="my-4 mt-2 mb-2">Cũng tương tự như trên, sơ đồ này sử dụng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">:</code> thay cho <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">.</code></blockquote><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=tham-chieu-magic-method><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#tham-chieu-magic-method> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Tham chiếu magic method</h3><p class=my-4>Với magic method, việc tham chiếu được thực hiện này trong class, trực tiếp trong struct với type slot.<ul class="list-revert ml-5"><li>Class của đối tượng có slot cho magic method hay không (được gọi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">object->ob_type->tp_&LTmagicmethod></code> trong code C)? Nếu đúng, sử dụng type slot đó, nếu không, thao tác này không được hỗ trợ.</ul><blockquote class="my-4 py-1 px-4 bg-gray-100 text-gray-500 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-400"><p class="my-4 mt-2">Theo diễn giải thông thường của ngôn ngữ C:<ul class="list-revert ml-5 mb-2"><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">object->ob_type</code> là class của đối tượng.<li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">ob_type->tp_&LTmagicmethod></code> là type slot.</ul></blockquote><p class=my-4>Việc tham chiếu có vẻ đơn giản hơn, tuy nhiên type slot được bao bọc bởi hàm của bạn, nên các data descriptor hoạt động tốt.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>FooBar</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nd>@property</span>
<span class=gp>... </span>    <span class=k>def</span> <span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=gp>... </span>        <span class=k>def</span> <span class=nf>inner</span><span class=p>():</span>
<span class=gp>... </span>            <span class=k>return</span> <span class=s2>"FooBar"</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=n>inner</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=nb>repr</span><span class=p>(</span><span class=n>FooBar</span><span class=p>())</span>
<span class=go>'FooBar'</span>
</code></pre></div><p class=my-4>Quá trình tham chiếu ở trên, tôi nói là <strong>mặc định</strong>. Vậy có cách nào thay đổi được quá trình tham chiếu mặc định này hay không? Câu trả lời là có và chúng ta sẽ tìm hiểu trong phần tiếp sau đây.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=phuong-thuc-__new__><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#phuong-thuc-__new__> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__new__</code></h3><p class=my-4>Một điểm dễ gây nhầm lần giữa class và metaclass chính là phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__new__</code>. Nó có một số quy ước rất đặc biệt.<p class=my-4>Phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__new__</code> là <strong>constructor</strong> (tạo đối tượng, kết quả trả về của nó là đối tượng mới), trong khi phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__init__</code> là <strong>initializer</strong> (khởi tạo giá trị ban đầu cho đối tượng, khi phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__init__</code> được gọi, đối tượng đã tồn tại rồi).<p class=my-4>Giả sử chúng ta có class như dưới dây.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=k>class</span> <span class=nc>Foobar</span><span class=p>:</span>
    <span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
</code></pre></div><p class=my-4>Nếu bạn xem lại những phần trước, có thể bạn sẽ cho rằng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__new__</code> sẽ được tham chiếu ở metaclass. Nhưng không, nó được tham chiếu theo phương pháp <strong>tĩnh</strong>.<p class=my-4>Khi class <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">FooBar</code> cần gọi magic phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__new__</code>, nó sẽ được tham chiếu trong chính đối tượng (class) đó, chứ không tham chiếu đến các class ở tầng cao hơn. Điều này rất quan trọng, bởi cả class mà metaclass có thể định nghĩa phương thức này.<ul class="list-revert ml-5"><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">FooBar.__new__</code> được dùng để tạo ra các instance của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">FooBar</code>.<li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type.__new__</code> được dùng để tạo ra class <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">FooBar</code> (một instance của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code>)</ul><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=phuong-thuc-__prepare__><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#phuong-thuc-__prepare__> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__prepare__</code></h3><p class=my-4>Đây là phương thức của metaclass, nó sẽ được gọi trước khi code của class được thực thi, và phương thức bắt buộc phải trả về kết quả là một dict (hoặc tương tự một dict), kết quả này sau này sẽ được dùng làm namespace cho tất cả code của class. Phương thức này mới được thêm vào từ Python 3.0, bạn có thể tham khảo thêm ở <a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://www.python.org/dev/peps/pep-3115/ target=_blank>PEP-3115</a>.<p class=my-4>Nếu phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__prepare__</code> trả về một đối tượng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">x</code> và chúng ta có một class:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=k>class</span> <span class=nc>Class</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>Meta</span><span class=p>):</span>
    <span class=n>a</span> <span class=o>=</span> <span class=mi>1</span>
    <span class=n>b</span> <span class=o>=</span> <span class=mi>2</span>
    <span class=n>c</span> <span class=o>=</span> <span class=mi>3</span>
</code></pre></div><p class=my-4>Thì <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">x</code> sẽ được thay đổi như sau:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=n>x</span><span class=p>[</span><span class=s1>'a'</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
<span class=n>x</span><span class=p>[</span><span class=s1>'b'</span><span class=p>]</span> <span class=o>=</span> <span class=mi>2</span>
<span class=n>x</span><span class=p>[</span><span class=s1>'c'</span><span class=p>]</span> <span class=o>=</span> <span class=mi>3</span>
</code></pre></div><p class=my-4>Đối tượng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">x</code> này cần phải là một dict. Lưu ý rằng, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">x</code> sẽ là được dùng làm một tham số của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Metaclass.__new__</code> và nếu như nó không phải một instance của dict thì bạn nên convert nó trước khi gọi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">super().__new__</code>.<p class=my-4>Một điều thú vị là phương thức không tham chiếu đến phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__new__</code>. Nó xuất hiện không hề có type slot và nó được tham chiếu thông qua tham chiếu thuộc tính của class.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=chu-ky-cua-phuong-thuc><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#chu-ky-cua-phuong-thuc> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Chữ ký của phương thức</h3><blockquote class="my-4 py-1 px-4 bg-gray-100 text-gray-500 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-400"><p class="my-4 mt-2 mb-2">Trong lập trình, nhất là lập trình hướng đối tượng, các phương thức được định danh bằng chữ ký của phương thức. Chữ ký này là duy nhất cho mỗi phương thức và thường bao gồm tên, số lượng, kiểu dữ liệu và thứ tự của các tham số.</blockquote><p class=my-4>Có nhiều điều quan trọng mà chúng ta chưa nhắc tới. Chữ ký của phương thức là một trong số chúng. Hãy xem xét các class mà metaclass với những công cụ được cài đặt sẵn.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>Meta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nd>@classmethod</span>
<span class=gp>... </span>    <span class=k>def</span> <span class=fm>__prepare__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=gp>... </span>        <span class=nb>print</span><span class=p>(</span><span class=s1>'Meta.__prepare__(mcs=</span><span class=si>%s</span><span class=s1>, name=</span><span class=si>%r</span><span class=s1>, bases=</span><span class=si>%s</span><span class=s1>, **</span><span class=si>%s</span><span class=s1>)'</span> <span class=o>%</span> <span class=p>(</span>
<span class=gp>... </span>            <span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>kwargs</span><span class=p>))</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=p>{}</span>
</code></pre></div><p class=my-4>Như giải thích ở trên, phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__prepare__</code> có thể trả kết quả không phải là một instance của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">dict</code>, vì vậy bạn cần cài đặt phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__new__</code> để xử lý.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=go>...     def __new__(mcs, name, bases, attrs, **kwargs):</span>
<span class=go>...         print('Meta.__new__(mcs=%s, name=%r, bases=%s, attrs=[%s], **%s)' % (</span>
<span class=go>...             mcs, name, bases, ', '.join(attrs), kwargs))</span>
<span class=go>...         return super().__new__(mcs, name, bases, attrs)</span>
</code></pre></div><p class=my-4>Thông thường, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__init__</code> ít khi được cài đặt trong metaclass bởi vì không cần thiết – class đã được tạo ra trong bộ nhớ khi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__init__</code> được gọi. Nó gần tương đương với việc có một class decorator với khác biệt là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__init__</code> sẽ chạy khi tạo ra class con, trong khi class decorator không được gọi cho class con.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=go>...     def __init__(cls, name, bases, attrs, **kwargs):</span>
<span class=go>...         print('Meta.__init__(cls=%s, name=%r, bases=%s, attrs=[%s], **%s)' % (</span>
<span class=go>...             cls, name, bases, ', '.join(attrs), kwargs))</span>
<span class=go>...         return super().__init__(name, bases, attrs)</span>
</code></pre></div><p class=my-4>Phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__call__</code> được gọi khi tạo instance của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class</code>.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=go>...     def __call__(cls, *args, **kwargs):</span>
<span class=go>...         print('Meta.__call__(cls=%s, args=%s, kwargs=%s)' % (</span>
<span class=go>...             cls, args, kwargs))</span>
<span class=go>...         return super().__call__(*args, **kwargs)</span>
<span class=go>...</span>
</code></pre></div><p class=my-4>Sử dụng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Meta</code>, đánh dấu <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">extra=1</code>:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>Class</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>Meta</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>myarg</span><span class=p>):</span>
<span class=gp>... </span>        <span class=nb>print</span><span class=p>(</span><span class=s1>'Class.__new__(cls=</span><span class=si>%s</span><span class=s1>, myarg=</span><span class=si>%s</span><span class=s1>)'</span> <span class=o>%</span> <span class=p>(</span>
<span class=gp>... </span>            <span class=bp>cls</span><span class=p>,</span> <span class=n>myarg</span><span class=p>))</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
<span class=gp>... </span>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>myarg</span><span class=p>):</span>
<span class=gp>... </span>        <span class=nb>print</span><span class=p>(</span><span class=s1>'Class.__init__(self=</span><span class=si>%s</span><span class=s1>, myarg=</span><span class=si>%s</span><span class=s1>)'</span> <span class=o>%</span> <span class=p>(</span>
<span class=gp>... </span>            <span class=bp>self</span><span class=p>,</span> <span class=n>myarg</span><span class=p>))</span>
<span class=gp>... </span>        <span class=bp>self</span><span class=o>.</span><span class=n>myarg</span> <span class=o>=</span> <span class=n>myarg</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
<span class=gp>... </span>    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=s2>"&LTinstance of Class; myargs=</span><span class=si>%s</span><span class=s2>>"</span> <span class=o>%</span> <span class=p>(</span>
<span class=gp>... </span>            <span class=nb>getattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s1>'myarg'</span><span class=p>,</span> <span class=s1>'MISSING'</span><span class=p>),)</span>
<span class=gp>...</span>
<span class=go>Meta.__prepare__(mcs=&LTclass '__main__.Meta'>, name='Class', bases=(), **{'extra': 1})</span>
<span class=go>Meta.__new__(mcs=&LTclass '__main__.Meta'>, name='Class', bases=(), attrs=[__str__, __module__, __qualname__, __new__, __init__], **{'extra': 1})</span>
<span class=go>Meta.__init__(cls=&LTclass '__main__.Class'>, name='Class', bases=(), attrs=[__str__, __module__, __qualname__, __new__, __init__], **{'extra': 1})</span>
</code></pre></div><p class=my-4>Lưu ý <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Meta.__call__</code> được gọi khi tạo instance của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Class</code>:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=n>Class</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=go>Meta.__call__(cls=&LTclass '__main__.Class'>, args=(1,), kwargs={})</span>
<span class=go>Class.__new__(cls=&LTclass '__main__.Class'>, myarg=1)</span>
<span class=go>Class.__init__(self=&LTinstance of Class; myargs=MISSING>, myarg=1)</span>
<span class=go><__main__.Class object at 0x7fd71e85a198></span>
</code></pre></div><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=tai-sao-chung-ta-nen-dung-metaclass><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#tai-sao-chung-ta-nen-dung-metaclass> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Tại sao chúng ta nên dùng metaclass?</h3><p class=my-4>Sau tất cả những kiến thứ trên, câu hỏi lớn bây giờ là: Tại sao chúng ta lại cần dùng metaclass?<p class=my-4>Thực ra, rất ít khi chúng ta dùng đến chúng:<blockquote class="my-4 py-1 px-4 bg-gray-100 text-gray-500 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-400"><p class="my-4 mt-2">Metaclasses are deeper magic that 99% of users should never worry about. If you wonder whether you need them, you don’t (the people who actually need them know with certainty that the need them, and don’t need an explanation about why).<p class="my-4 mb-2">– Python Guru Tim Peters –</blockquote><p class=my-4>Mục đích chính của metaclass là tạo ra các API. Một ví dụ điển hình cho việc này là Django ORM.<p class=my-4>Bạn có thể định nghĩa model trong Django như bên dưới:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=k>class</span> <span class=nc>Person</span><span class=p>(</span><span class=n>models</span><span class=o>.</span><span class=n>Model</span><span class=p>):</span>
    <span class=n>name</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>CharField</span><span class=p>(</span><span class=n>max_length</span><span class=o>=</span><span class=mi>30</span><span class=p>)</span>
    <span class=n>age</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>IntegerField</span><span class=p>()</span>
</code></pre></div><p class=my-4>Nhưng nếu bạn tạo ra một đối tượng:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=n>someone</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s1>'AnhTN'</span><span class=p>,</span> <span class=n>age</span><span class=o>=</span><span class=s1>'25'</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>someone</span><span class=o>.</span><span class=n>age</span><span class=p>)</span>
</code></pre></div><p class=my-4>Lệnh <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">print</code> ở trên không in ra một đối tượng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">IntegerField</code>. Nó in ra một số nguyên, là dữ liệu được lấy ra từ cơ sở dữ liệu.<p class=my-4>Chúng ta có thể làm việc này vì <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">models.Model</code> định nghĩa <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">__metaclass__</code> và nó một số xử lý bên trong và kết quả là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Person</code> có thể định nghĩa rất đơn giản trong khi thực tế nó thao tác rất phức tạp với cơ sở dữ liệu.<p class=my-4>Django làm mọi thứ trở nên đơn giản hơn bằng cách xây dựng các API và sử dụng metaclass. Mọi thao tác sẽ được thực hiện bởi API và trong suốt với người dùng.<h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=ket-luan><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#ket-luan> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Kết luận</h2><p class=my-4>Class là những đối tượng để tạo ra các instance. Đến lượt nó, class cũng là instance của metaclass.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=gp>>>> </span><span class=k>class</span> <span class=nc>FooBar</span><span class=p>():</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>...</span>
<span class=gp>>>> </span><span class=nb>id</span><span class=p>(</span><span class=n>FooBar</span><span class=p>)</span>
<span class=go>32902216</span>
</code></pre></div><p class=my-4>Mọi thứ đều là đối tượng trong Python, và có thể nó là instance của một class hoặc một metaclass, ngoại trừ <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code>.<p class=my-4><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">type</code> là metaclass của chính nó. Và nó không phải là thứ bạn có thể dễ dàng thay đổi bằng code Python. Nếu muốn làm gì, có lẽ bạn phải xem lại mã nguồn của ngôn ngữ.<p class=my-4>Ngoài ra, metaclass rất phức tạp, và bạn không cần thiết phải sử dụng nó. Bạn có thể thay đổi hành vi của một class bằng một trong hai cách sau, đơn giản hơn nhiều:<ul class="list-revert ml-5"><li><a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://en.wikipedia.org/wiki/Monkey_patch target=_blank>monkey patching</a><li>class decorator</ul><p class=my-4>Đây là những gì tôi đã tìm hiểu được. Nó có rất nhiều thứ và thực sự, metaclass quá phức tạp. Có thể tôi sẽ trở lại với chủ đề này trong tương lai, vì tôi cũng cảm thấy hình như còn thiếu gì đó!!</div><div class="mt-8 text-sm leading-relaxed"><svg class="inline size-4" viewbox="0 0 24 24" fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg><a class="text-crimson hover:text-gray-600 cursor-pointer dark:hover:text-gray-300" href=https://manhhomienbienthuy.github.io/tag/python.html> #Python </a><a class="text-crimson hover:text-gray-600 cursor-pointer dark:hover:text-gray-300" href=https://manhhomienbienthuy.github.io/tag/metaclass.html> #metaclass </a><a class="text-crimson hover:text-gray-600 cursor-pointer dark:hover:text-gray-300" href=https://manhhomienbienthuy.github.io/tag/fundamental.html> #fundamental </a></div></div><div class="flex justify-between items-center my-10 text-sm"><div class="flex-grow text-left"><a class="p-2 text-white bg-crimson" href=https://manhhomienbienthuy.github.io/2016/03/08/python-class-decorator.html> <svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M10 19l-7-7m0 0l7-7m-7 7h18" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> Bài viết sau </a></div><div class="flex-grow text-right"><a class="p-2 text-white bg-crimson" href=https://manhhomienbienthuy.github.io/2016/02/18/vai-tip-cai-thien-hieu-suat-trang-web.html> Bài viết trước <svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M14 5l7 7m0 0l-7 7m7-7H3" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> </a></div></div><div class="mb-8 p-8 text-justify bg-white shadow-lg dark:bg-gray-800"><p class="mb-2 italic leading-relaxed">Tôi xin lỗi nếu bài viết có bất kỳ typo nào. Nếu bạn nhận thấy điều gì bất thường, xin hãy cho tôi biết.<p class="mb-8 leading-relaxed">Nếu có bất điều gì muốn nói, bạn có thể liên hệ với tôi qua các mạng xã hội, tạo discussion hoặc report issue trên Github.<div class="flex justify-between mb-4 text-gray-900 dark:text-gray-100"><a rel="noopener noreferrer" href=https://x.com/_naa_4f target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>X</title><path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"/></svg> </a><a rel="noopener noreferrer" href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg> </a><a rel="noopener noreferrer" href=https://www.facebook.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank> <svg viewbox="0 0 24 24" class=size-6 fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><title>Discussion</title><path d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Issue</title><path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/></svg> </a></div></div></div><div class="md:col-span-2 flex-shrink-0 p-6 bg-white text-sm leading-relaxed shadow-[0_2px_20px_-10px_#000] dark:bg-gray-800"><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Welcome</h2><img class="w-3/4 mx-auto mb-4 rounded-full" alt=manhhomienbienthuy height=262 src=https://manhhomienbienthuy.github.io/meow.webp width=262><p class="mb-10 text-center">Đây là thế giới của manhhomienbienthuy (naa). Chào mừng đến với thế giới của tôi!<h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Bài viết liên quan</h2><div class="mb-10 divide-y"><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow" href=https://manhhomienbienthuy.github.io/2023/11/30/lambda-trong-python.html> <img alt="Lambda trong Python" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1597589827703-f4b68eafa0ce?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2023/11/30/lambda-trong-python.html> Lambda trong Python </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow" href=https://manhhomienbienthuy.github.io/2019/09/20/python-args-kwargs.html> <img alt="Python: *args & **kwargs" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://cdn.pixabay.com/photo/2022/05/15/17/44/code-7198654_640.jpg width=64> </a><a href=https://manhhomienbienthuy.github.io/2019/09/20/python-args-kwargs.html> Python: *args & **kwargs </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow" href=https://manhhomienbienthuy.github.io/2017/07/24/mot-vai-trick-python-ban-nhat-dinh-phai-biet-tren-con-duong-go-pro.html> <img alt="Một vài trick Python bạn nhất định phải biết trên con đường go-pro" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1523540939399-141cbff6a8d7?ixlib=rb-4.0.3&w=640&q=80&fm=webp&crop=entropy&cs=tinysrgb width=64> </a><a href=https://manhhomienbienthuy.github.io/2017/07/24/mot-vai-trick-python-ban-nhat-dinh-phai-biet-tren-con-duong-go-pro.html> Một vài trick Python bạn nhất định phải biết trên con đường go-pro </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow" href=https://manhhomienbienthuy.github.io/2017/05/12/python-context-managers.html> <img alt="Python context managers" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1618335829737-2228915674e0?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2017/05/12/python-context-managers.html> Python context managers </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow" href=https://manhhomienbienthuy.github.io/2016/03/08/python-class-decorator.html> <img alt="Python class decorator" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1613564190017-da7d7521b591?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2016/03/08/python-class-decorator.html> Python class decorator </a></div></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Bài viết mới</h2><div class="divide-y mb-10"><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2024/06/18/tinh-toan-song-song-trong-nodejs.html> <img alt="Tính toán song song trong Node.js" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1613490900233-141c5560d75d?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2024/06/18/tinh-toan-song-song-trong-nodejs.html> Tính toán song song trong Node.js </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2024/05/31/gioi-thieu-service-worker.html> <img alt="Giới thiệu service worker" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1614213951697-a45781262acf?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2024/05/31/gioi-thieu-service-worker.html> Giới thiệu service worker </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2024/02/02/so-sanh-kien-truc-stateful-vs-stateless.html> <img alt="So sánh: kiến trúc stateful vs stateless" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1484278786775-527ac0d0b608?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2024/02/02/so-sanh-kien-truc-stateful-vs-stateless.html> So sánh: kiến trúc stateful vs stateless </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2024/01/28/macos-co-phai-unix-hay-khong.html> <img alt="macOS có phải UNIX hay không?" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1639506060149-af767c78bf23?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2024/01/28/macos-co-phai-unix-hay-khong.html> macOS có phải UNIX hay không? </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2024/01/18/so-sanh-css-in-js-vs-css-module.html> <img alt="So sánh: CSS-in-JS vs CSS module" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1522826657326-0466ba28c41f?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2024/01/18/so-sanh-css-in-js-vs-css-module.html> So sánh: CSS-in-JS vs CSS module </a></div></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Chuyên mục</h2><div class="flex flex-wrap gap-2 mb-10 text-xs dark:border-gray-100"><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/cuoc-song.html> Cuộc sống </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/du-lich.html> Du lịch </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/lap-trinh.html> Lập trình </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/tong-hop.html> Tổng hợp </a></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Lưu trữ theo năm</h2><div class="flex flex-wrap gap-[0.57rem] mb-10 text-xs"><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2024/> 2024 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2023/> 2023 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2022/> 2022 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2021/> 2021 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2020/> 2020 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2019/> 2019 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2018/> 2018 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2017/> 2017 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2016/> 2016 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2015/> 2015 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2014/> 2014 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2013/> 2013 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2012/> 2012 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2011/> 2011 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2010/> 2010 </a></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Thông tin liên hệ</h2><p class="mb-8 text-justify">Cảm ơn bạn đã quan tâm blog của tôi. Nếu có bất điều gì muốn nói, bạn có thể liên hệ với tôi qua các mạng xã hội, tạo discussion hoặc report issue trên Github.<div class="flex justify-between mb-8 text-gray-900 dark:text-gray-100"><a rel="noopener noreferrer" href=https://x.com/_naa_4f target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>X</title><path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"/></svg> </a><a rel="noopener noreferrer" href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg> </a><a rel="noopener noreferrer" href=https://www.facebook.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank> <svg viewbox="0 0 24 24" class=size-6 fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><title>Discussion</title><path d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Issue</title><path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/></svg> </a></div></div></div></main><footer class="mt-8 text-white"><div class=bg-gray-800><div class="grid grid-cols-1 md:grid-cols-3 md:gap-8 max-w-screen-xl mx-auto px-4 leading-loose text-justify"><div class=py-8><a href=https://manhhomienbienthuy.github.io title=manhhomienbienthuy> <svg class="w-full h-auto text-white" viewbox="0 0 1000 165" fill=currentColor height=165 version=1.0 width=1000 xmlns=http://www.w3.org/2000/svg><path d="M651.5 14.7c-10.4 1-11.6 1.4-11 3.3.9 2.9-1.2 7-17.6 34.2-8.4 13.9-17.6 30.2-20.4 36.3-3.5 7.4-6.7 12.4-9.6 15.4-6.1 6.1-13.9 9.2-13.9 5.6 0-2.6 4.7-11 12.7-22.8C600.3 74 602 70.5 602 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C500.2 71 505.5 60.6 504.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.2-3.6 4.8-2 6.7-19.5 35.4-25 41.1-5.1 5.1-8.7 6.6-9.8 3.8-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8c13.2-20.9 20.3-29.9 25.2-31.7 7-2.7 5.7 3-5 21-7.7 12.9-11.6 21.6-11.6 25.8 0 2 5.5 7.2 7.7 7.2 3.9 0 9.5-2.2 13.8-5.5 2.5-1.9 4.7-3.5 5-3.5s.5 1.3.5 2.8c0 1.7 1 3.8 2.5 5.2 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-5 7.7-10 15.9-11.2 18.2-2.7 5.4-2.9 11.8-.4 14.6 4.4 4.8 16.5 1.1 25.6-8l4.8-4.8.6 3.8c1.3 8.3 8.3 12.4 17.3 10.2 18.5-4.6 39.3-28 39.3-44.3 0-14-8.6-18.8-20-11.1-5.5 3.7-5.5 3.7-3.6.8 5.6-8.5 23.6-41 24.1-43.6.8-3.7 0-4.6-4-4.2zM542.6 62.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zm101 3c1.9 7.8-15.7 39.6-25.6 46.3-2.2 1.4-4.6 2.2-6.5 2-2.6-.3-3-.7-3.3-3.6-.8-8.1 8.8-27.5 19.7-39.5 7-7.8 14.4-10.2 15.7-5.2zM821 16c-1.1 1.1-2 2.7-2 3.5 0 2.1-5.3 12.5-9.7 19.2l-3.6 5.3h-5.8c-5.6 0-5.9.1-5.9 2.4 0 2.2.5 2.5 4.4 2.8l4.4.3-11 18c-6 9.9-13 22-15.4 27-4.7 9.9-7.3 13-12.1 15.1-4.2 1.8-6.3 1.8-6.3-.1 0-2.6 4.7-11 12.7-22.8C779.3 74 781 70.5 781 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C679.2 71 684.5 60.6 683.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.3-3.6 4.9-.7 2.2-4.9 10-9.3 17.3-10.4 17-12.9 22.7-12.9 28.8 0 3.8.5 5.2 2.5 7.1 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 10.4 11 11.4 23.4 2l3.5-2.7.8 3c2.1 8.2 12.3 8.2 22.8 0 4.4-3.5 5.6-3.7 3.5-.7-3.1 4.4-2.2 5.8 3.7 5.8 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-9.8 15.5-12.8 21.7-12.8 26.5 0 4.4 3.3 7.9 7.6 7.9 4.5 0 12.6-4.5 18.6-10.3l5.4-5.2-.4 5.2c-.5 6.3 1.3 9.8 5.7 10.8s9.5-1.7 17.1-9.1l6.9-6.6-.2 5.5c-.2 4.2.3 6 1.7 7.6 2.8 3.1 8.3 2.8 13.2-.7l3.9-2.8 2 3c1.1 1.6 3.1 3.3 4.5 3.6 3.8 1 11.1-1.5 15.8-5.5 2.3-2 4.2-3.4 4.2-3.1 0 1.2-10.4 19.3-13.5 23.6-4.7 6.4-14.3 15.4-19.3 17.9-4.7 2.4-10.9 2.7-13.7.8-1.6-1.2-1.6-1.8-.7-4.7 1.6-4.4 1.5-5.6-.4-7.4-3.8-3.8-10.4.2-10.4 6.3 0 11 18.9 13.3 36.9 4.5 11.2-5.5 20.6-15.4 29.7-31.4 3.9-6.9 10.6-18.4 14.9-25.5 16.8-28.2 19.1-32.6 18-34.5-.4-.6-3.5-1-7.1-1-5.3 0-6.6.3-7 1.7-.8 2.9-12.5 25.4-16.1 31.2-6.9 10.8-18.9 21.2-22.8 19.7-2.8-1 1.4-11 11-26.7 7.3-11.8 12.7-22.8 12.1-24.5-.6-1.5-4.4-1.8-9.5-.8-2.7.6-3.6 1.5-5.5 5.8-1.3 2.8-5.8 10.6-10 17.4-7.7 12.2-12.6 21.5-12.6 23.9 0 1.7-4.6 4.6-6 3.8-3.2-2 .2-11 10.4-27.8 7.7-12.8 11.5-20.1 11.6-22.5 0-.8-1.4-1.2-4.2-1.1-9.3.3-9.7.6-13.8 10.2-6.6 15.4-24.1 39.3-30.4 41.7-2.9 1-4.6.2-4.6-2.4 0-1.2 3.9-8.7 8.6-16.7C900 63.4 901.8 58 894.5 58c-6.7 0-9.5 1.1-10 3.9-2.4 12.1-24.9 42.1-34.6 46.1-7.4 3.1-5.5-3.2 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-1-1.2-2.4-1.5-6.1-1-6.7.9-7.5 1.4-8.3 4.4-.3 1.5-2.3 5.6-4.5 9.2-2.1 3.6-7.5 13-12 21-28.3 50.1-35.9 60.5-43.8 59.8-5-.4-5.2-2.6-1.2-12.1 3.3-8.1 16.2-30.6 24.2-42.5l4.9-7.2h5.4c5.2 0 5.5-.1 5.5-2.5 0-2.3-.4-2.5-4-2.5-2.2 0-4-.2-4-.6 0-.3 1.8-3.2 4-6.4 5-7.4 11-18.9 11-21.3 0-2.7-12.2-2.5-15 .3zm-99.4 46.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zM271.5 16.5c-.5.2-2.2.6-3.7.9-1.6.4-2.8 1.2-2.8 1.9 0 1.7-2.4 6.2-12.9 24.7-18.8 33.1-33.6 57.7-36.5 60.9-4.7 5.1-12.6 8-12.6 4.6 0-2.6 4.7-11 12.7-22.8C224.3 74 226 70.5 226 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 5.5-20.8 38.1-29.4 46-4.8 4.4-7 5.2-7.9 2.8-1-2.5 1-7.5 7.2-18 8.4-14.3 18.1-31.8 18.1-32.8 0-.4-2.9-.8-6.5-.8s-6.5.4-6.5.8c0 .5-.6 1.6-1.3 2.6-1.3 1.8-1.5 1.7-4.1-.9-2.4-2.4-3.4-2.7-7-2.3-13.6 1.6-31.1 16.8-39.7 34.5-5.8 11.8-16.5 21-18.5 15.9-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8C79.6 74.8 86.7 65.8 91.6 64c7-2.7 5.7 3-5 21C78.9 97.9 75 106.6 75 110.8c0 .7 1.4 2.7 3 4.4 2.8 2.7 3.5 3 7.1 2.4 5.4-.9 9.2-2.9 14.4-7.7l4.3-3.9.7 3.6c.3 2.1 2 5 3.6 6.7 2.5 2.5 3.6 2.9 6.4 2.4 3.8-.6 9.8-4.5 16.4-10.6 2.4-2.3 4.5-4.1 4.7-4.1s.4 2.2.4 5c0 6.2 2.7 9.6 6.8 8.5 3.5-.9 8.2-3.1 11.1-5.2 2.4-1.7 2.4-1.7 1.3.4-2.1 3.8-1.5 4.3 5.1 4.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 8.3 7.1 10.9 16.7 6 4.4-2.2 4.7-2.2 4.7-.5 0 1.6.8 1.9 5.3 1.9 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.4 21.3-15.4 27.6-10.3 32.4 4.2 3.9 12 1.6 22.4-6.7l3.5-2.8-2.7 4c-4.2 6.2-3.7 7.5 2.6 7.5 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.3 21.1-15.4 27.6-10.5 32.2 4.5 4.3 12 2 22.5-6.7 5.6-4.7 6.2-5 6.2-2.9 0 3.7 3.4 8.3 7.6 10.3 14.4 7 36.7-6.2 47.5-28 4-8 4.4-9.5 4.4-16.1 0-6.3-.3-7.6-2.4-9.8-8.4-8.9-26.6-4-42.2 11.5-6.3 6.2-8.5 9.2-12.2 17-3.4 7.1-5.7 10.3-9.1 13.1-5.7 4.8-9.3 6.5-10.7 5.1-1.6-1.6 1.6-8.1 10.1-20.8 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-2-2.4-13.9-.7-13.9 2S293.2 74.5 284 88c-5 7.3-16 18.3-20.1 20-7.4 3.1-5.6-3.1 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13-21.5 16.4-28.5 14.8-30.5-1.1-1.4-4.9-1.9-7.5-1zM151.8 62.2c3.2 3.2-.1 12.6-10.1 28.1-8.9 13.8-16.1 20.7-21.6 20.7-2.7 0-4.4-3.4-3.5-7.3 2.3-11.1 21.5-37.5 29.9-41.3 3.7-1.7 3.8-1.7 5.3-.2zm232 0c3.5 3.5-1 17.8-9.8 31.1-10.1 15.4-20.3 22.2-25.5 17-6.8-6.7 12.9-39 29-47.6 3.7-2 4.7-2.1 6.3-.5z"/><path d="M505.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8zM684.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8z"/></svg> </a><div class="flex items-center mb-4 gap-4"><img class="size-16 rounded-full" alt=manhhomienbienthuy height=56 src=https://manhhomienbienthuy.github.io/meow.webp width=56><p>manhhomienbienthuy | naa<br> salaried coder</div></div><div class=py-8><p class=mb-4>Trang web này được viết bằng tất cả ♥ và tinh thần của tôi, dành tặng cho yunachan – tình yêu của tôi.<p class=mb-4>Mã HTML được built bởi Pelican, sử dụng Python-Markdown, Pygments và nhiều công cụ khác.<p class=mb-4>Nội dung trang web này được cấp phép theo giấy phép <a rel="noopener noreferrer" class=font-bold href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a>. Mã nguồn được cấp phép theo giấy phép <a rel="noopener noreferrer" class=font-bold href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/blob/main/LICENSE target=_blank>MIT License</a>.</div><div class=py-8><p class=mb-4>Nhiều bài viết của tôi được thực hiện từ lâu, nội dung của chúng có thể đã lỗi thời. Suy nghĩ của tôi nhiều khi đã thay đổi và tôi có thể sẽ tiếp cận theo cách khác nếu viết bài vào thời điểm hiện tại. Dù vậy, tôi ít khi sửa lại nội dung bài viết cũ mà chỉ sữa lỗi typo. Nếu nội dung có gì cập nhật, tôi sẽ chú thích trong bài.</div></div></div><div class=bg-gray-900><div class="flex flex-wrap justify-between max-w-screen-xl mx-auto px-4"><div class="pt-4 md:py-4">Copyright © 2010–2024 <a class=font-bold href=https://manhhomienbienthuy.github.io/pages/gioi-thieu.html> manhhomienbienthuy </a></div><div class="flex-grow py-4 text-right divide-x divide-solid"><a class=px-2 href=https://manhhomienbienthuy.github.io> Trang chủ </a><a class=px-2 href=https://manhhomienbienthuy.github.io/pages/gioi-thieu.html> Giới thiệu </a><a class=px-2 href=https://manhhomienbienthuy.github.io/pages/computer-info.html> Computer Info </a></div></div></div></footer><script defer src=https://manhhomienbienthuy.github.io/theme/js/app.js></script>