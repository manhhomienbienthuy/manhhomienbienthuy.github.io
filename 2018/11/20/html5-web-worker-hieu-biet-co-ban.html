<!doctype html><html class="antialiased scroll-smooth scroll-pt-14" lang=vi><meta charset=utf-8><title>HTML5 web worker: hiểu biết cơ bản | manhhomienbienthuy</title><meta content=width=device-width,initial-scale=1 name=viewport><link href=https://manhhomienbienthuy.github.io/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://manhhomienbienthuy.github.io/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://manhhomienbienthuy.github.io/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=https://manhhomienbienthuy.github.io/site.webmanifest rel=manifest><link color=#5bbad5 href=https://manhhomienbienthuy.github.io/safari-pinned-tab.svg rel=mask-icon><meta content=#da532c name=msapplication-TileColor><meta content=#ffffff name=theme-color><link href=https://manhhomienbienthuy.github.io/2018/11/20/html5-web-worker-hieu-biet-co-ban.html rel=canonical><meta content=https://manhhomienbienthuy.github.io/icon-tile.png name=msapplication-TileImage><meta content=on name=twitter:dnt><meta content=manhhomienbienthuy name=Author><meta content=general name=rating><meta content=product name=twitter:card><meta content=@_naa_4f name=twitter:site><meta content=@_naa_4f name=twitter:creator><link title="manhhomienbienthuy Full RSS Feed" href=https://manhhomienbienthuy.github.io/feeds/rss.xml rel=alternate type=application/rss+xml><link title="manhhomienbienthuy Full Atom Feed" href=https://manhhomienbienthuy.github.io/feeds/atom.xml rel=alternate type=application/atom+xml><meta content="Web worker (còn tên gọi khác là worker) là một phương thức đơn giản cho phép website chạy các script ngầm. Tiến trình của worker có thể được thực thi mà không có bất cứ tương tác nào với giao diện người dùng. Trong bài viết này, chúng ta sẽ […]" name=description><meta content="HTML5 web worker: hiểu biết cơ bản | manhhomienbienthuy" name=twitter:title><meta content="Web worker (còn tên gọi khác là worker) là một phương thức đơn giản cho phép website chạy các script ngầm. Tiến trình của worker có thể được thực thi mà không có bất cứ tương tác nào với giao diện người dùng. Trong bài viết này, chúng ta sẽ […]" name=twitter:description><meta content=https://images.unsplash.com/photo-1589939705384-5185137a7f0f?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=1280 name=twitter:image><link href=https://manhhomienbienthuy.github.io/theme/css/syntax.css rel=stylesheet><link href=https://manhhomienbienthuy.github.io/theme/css/app.css rel=stylesheet><script>`dark`===localStorage.theme||!(`theme` in localStorage)&&window.matchMedia(`(prefers-color-scheme: dark)`).matches?document.documentElement.classList.add(`dark`):document.documentElement.classList.remove(`dark`)</script><body class="text-gray-600 bg-gray-100 dark:bg-gray-700 dark:text-gray-300"><header class=mb-8><div class="fixed z-50 top-0 left-0 right-0 text-white bg-gray-900"><div class="relative flex flex-wrap justify-between items-center gap-x-4 max-w-screen-xl mx-auto px-4"><a class="my-2.5 rounded-full" href=https://manhhomienbienthuy.github.io> <img class="size-5 rounded-full" alt=manhhomienbienthuy height=20 src=https://manhhomienbienthuy.github.io/meow.webp width=20> </a><input class="hidden peer" id=menu-toggle type=checkbox><label class="flex-grow flex items-center gap-x-0.5 md:hidden text-xs cursor-pointer" for=menu-toggle><svg viewbox="0 0 24 24" class=size-5 fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M4 6h16M4 12h16M4 18h16" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> <span class=uppercase>Menu</span></label><nav class="hidden peer-[:checked]:block md:block flex-grow order-last md:order-none w-full md:w-auto text-xs uppercase bg-gray-900 divide-y md:divide-y-0"><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io> Trang chủ </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/cuoc-song.html> Cuộc sống </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/du-lich.html> Du lịch </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/lap-trinh.html> Lập trình </a><a class="block md:inline p-4" href=https://manhhomienbienthuy.github.io/category/tong-hop.html> Tổng hợp </a></nav><div><input class="hidden peer" id=theme-toggle type=checkbox><label class="size-5 text-gray-400 dark:text-gray-500 cursor-pointer" for=theme-toggle><span class=dark:hidden> <svg viewbox="0 0 24 24" class=size-5 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/><path d="M12 4v1M17.66 6.344l-.828.828M20.005 12.004h-1M17.66 17.664l-.828-.828M12 20.01V19M6.34 17.664l.835-.836M3.995 12.004h1.01M6 6l.835.836"/></svg> </span> <span class="hidden dark:inline"> <svg viewbox="0 0 24 24" class=size-5 fill=currentColor><path d="m17.715 15.15.95.316a1 1 0 0 0-1.445-1.185l.495.869ZM9 6.035l.846.534a1 1 0 0 0-1.14-1.49L9 6.035Zm8.221 8.246a5.47 5.47 0 0 1-2.72.718v2a7.47 7.47 0 0 0 3.71-.98l-.99-1.738Zm-2.72.718A5.5 5.5 0 0 1 9 9.5H7a7.5 7.5 0 0 0 7.5 7.5v-2ZM9 9.5c0-1.079.31-2.082.845-2.93L8.153 5.5A7.47 7.47 0 0 0 7 9.5h2Zm-4 3.368C5 10.089 6.815 7.75 9.292 6.99L8.706 5.08C5.397 6.094 3 9.201 3 12.867h2Zm6.042 6.136C7.718 19.003 5 16.268 5 12.867H3c0 4.48 3.588 8.136 8.042 8.136v-2Zm5.725-4.17c-.81 2.433-3.074 4.17-5.725 4.17v2c3.552 0 6.553-2.327 7.622-5.537l-1.897-.632Z"/><path d="M17 3a1 1 0 0 1 1 1 2 2 0 0 0 2 2 1 1 0 1 1 0 2 2 2 0 0 0-2 2 1 1 0 1 1-2 0 2 2 0 0 0-2-2 1 1 0 1 1 0-2 2 2 0 0 0 2-2 1 1 0 0 1 1-1Z" clip-rule=evenodd fill-rule=evenodd /></svg> </span></label><ul class="hidden peer-[:checked]:block absolute z-50 top-full right-2 w-36 mt-2 py-1 text-sm font-semibold bg-gray-100 dark:bg-gray-900 text-gray-400 dark:text-gray-500 rounded-lg shadow-lg overflow-hidden cursor-pointer"><li class="py-1 px-2 flex items-center" data-mode=light><svg class="size-6 mr-2" viewbox="0 0 24 24" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/><path d="M12 4v1M17.66 6.344l-.828.828M20.005 12.004h-1M17.66 17.664l-.828-.828M12 20.01V19M6.34 17.664l.835-.836M3.995 12.004h1.01M6 6l.835.836"/></svg> Light<li class="py-1 px-2 flex items-center cursor-pointer" data-mode=dark><svg class="size-6 mr-2" viewbox="0 0 24 24" fill=currentColor><path d="m17.715 15.15.95.316a1 1 0 0 0-1.445-1.185l.495.869ZM9 6.035l.846.534a1 1 0 0 0-1.14-1.49L9 6.035Zm8.221 8.246a5.47 5.47 0 0 1-2.72.718v2a7.47 7.47 0 0 0 3.71-.98l-.99-1.738Zm-2.72.718A5.5 5.5 0 0 1 9 9.5H7a7.5 7.5 0 0 0 7.5 7.5v-2ZM9 9.5c0-1.079.31-2.082.845-2.93L8.153 5.5A7.47 7.47 0 0 0 7 9.5h2Zm-4 3.368C5 10.089 6.815 7.75 9.292 6.99L8.706 5.08C5.397 6.094 3 9.201 3 12.867h2Zm6.042 6.136C7.718 19.003 5 16.268 5 12.867H3c0 4.48 3.588 8.136 8.042 8.136v-2Zm5.725-4.17c-.81 2.433-3.074 4.17-5.725 4.17v2c3.552 0 6.553-2.327 7.622-5.537l-1.897-.632Z"/><path d="M17 3a1 1 0 0 1 1 1 2 2 0 0 0 2 2 1 1 0 1 1 0 2 2 2 0 0 0-2 2 1 1 0 1 1-2 0 2 2 0 0 0-2-2 1 1 0 1 1 0-2 2 2 0 0 0 2-2 1 1 0 0 1 1-1Z" clip-rule=evenodd fill-rule=evenodd /></svg> Dark<li class="py-1 px-2 flex items-center cursor-pointer text-sky-500" data-mode=system><svg class="size-6 mr-2 text-gray-400 dark:text-gray-500" viewbox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" stroke-linecap=round stroke-linejoin=round /><path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke-linecap=round stroke-linejoin=round /></svg> System</ul></div></div></div><div class="pt-10 md:pt-12 bg-white shadow dark:bg-gray-800 dark:text-gray-100"><div class="flex justify-center max-w-screen-xl mx-auto px-6 py-4"><a href=https://manhhomienbienthuy.github.io title=manhhomienbienthuy> <svg class="max-w-full max-h-24 w-auto h-auto text-gray-900 dark:text-gray-100" viewbox="0 0 1000 165" fill=currentColor height=165 version=1.0 width=1000 xmlns=http://www.w3.org/2000/svg><path d="M651.5 14.7c-10.4 1-11.6 1.4-11 3.3.9 2.9-1.2 7-17.6 34.2-8.4 13.9-17.6 30.2-20.4 36.3-3.5 7.4-6.7 12.4-9.6 15.4-6.1 6.1-13.9 9.2-13.9 5.6 0-2.6 4.7-11 12.7-22.8C600.3 74 602 70.5 602 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C500.2 71 505.5 60.6 504.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.2-3.6 4.8-2 6.7-19.5 35.4-25 41.1-5.1 5.1-8.7 6.6-9.8 3.8-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8c13.2-20.9 20.3-29.9 25.2-31.7 7-2.7 5.7 3-5 21-7.7 12.9-11.6 21.6-11.6 25.8 0 2 5.5 7.2 7.7 7.2 3.9 0 9.5-2.2 13.8-5.5 2.5-1.9 4.7-3.5 5-3.5s.5 1.3.5 2.8c0 1.7 1 3.8 2.5 5.2 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-5 7.7-10 15.9-11.2 18.2-2.7 5.4-2.9 11.8-.4 14.6 4.4 4.8 16.5 1.1 25.6-8l4.8-4.8.6 3.8c1.3 8.3 8.3 12.4 17.3 10.2 18.5-4.6 39.3-28 39.3-44.3 0-14-8.6-18.8-20-11.1-5.5 3.7-5.5 3.7-3.6.8 5.6-8.5 23.6-41 24.1-43.6.8-3.7 0-4.6-4-4.2zM542.6 62.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zm101 3c1.9 7.8-15.7 39.6-25.6 46.3-2.2 1.4-4.6 2.2-6.5 2-2.6-.3-3-.7-3.3-3.6-.8-8.1 8.8-27.5 19.7-39.5 7-7.8 14.4-10.2 15.7-5.2zM821 16c-1.1 1.1-2 2.7-2 3.5 0 2.1-5.3 12.5-9.7 19.2l-3.6 5.3h-5.8c-5.6 0-5.9.1-5.9 2.4 0 2.2.5 2.5 4.4 2.8l4.4.3-11 18c-6 9.9-13 22-15.4 27-4.7 9.9-7.3 13-12.1 15.1-4.2 1.8-6.3 1.8-6.3-.1 0-2.6 4.7-11 12.7-22.8C779.3 74 781 70.5 781 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C679.2 71 684.5 60.6 683.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.3-3.6 4.9-.7 2.2-4.9 10-9.3 17.3-10.4 17-12.9 22.7-12.9 28.8 0 3.8.5 5.2 2.5 7.1 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 10.4 11 11.4 23.4 2l3.5-2.7.8 3c2.1 8.2 12.3 8.2 22.8 0 4.4-3.5 5.6-3.7 3.5-.7-3.1 4.4-2.2 5.8 3.7 5.8 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-9.8 15.5-12.8 21.7-12.8 26.5 0 4.4 3.3 7.9 7.6 7.9 4.5 0 12.6-4.5 18.6-10.3l5.4-5.2-.4 5.2c-.5 6.3 1.3 9.8 5.7 10.8s9.5-1.7 17.1-9.1l6.9-6.6-.2 5.5c-.2 4.2.3 6 1.7 7.6 2.8 3.1 8.3 2.8 13.2-.7l3.9-2.8 2 3c1.1 1.6 3.1 3.3 4.5 3.6 3.8 1 11.1-1.5 15.8-5.5 2.3-2 4.2-3.4 4.2-3.1 0 1.2-10.4 19.3-13.5 23.6-4.7 6.4-14.3 15.4-19.3 17.9-4.7 2.4-10.9 2.7-13.7.8-1.6-1.2-1.6-1.8-.7-4.7 1.6-4.4 1.5-5.6-.4-7.4-3.8-3.8-10.4.2-10.4 6.3 0 11 18.9 13.3 36.9 4.5 11.2-5.5 20.6-15.4 29.7-31.4 3.9-6.9 10.6-18.4 14.9-25.5 16.8-28.2 19.1-32.6 18-34.5-.4-.6-3.5-1-7.1-1-5.3 0-6.6.3-7 1.7-.8 2.9-12.5 25.4-16.1 31.2-6.9 10.8-18.9 21.2-22.8 19.7-2.8-1 1.4-11 11-26.7 7.3-11.8 12.7-22.8 12.1-24.5-.6-1.5-4.4-1.8-9.5-.8-2.7.6-3.6 1.5-5.5 5.8-1.3 2.8-5.8 10.6-10 17.4-7.7 12.2-12.6 21.5-12.6 23.9 0 1.7-4.6 4.6-6 3.8-3.2-2 .2-11 10.4-27.8 7.7-12.8 11.5-20.1 11.6-22.5 0-.8-1.4-1.2-4.2-1.1-9.3.3-9.7.6-13.8 10.2-6.6 15.4-24.1 39.3-30.4 41.7-2.9 1-4.6.2-4.6-2.4 0-1.2 3.9-8.7 8.6-16.7C900 63.4 901.8 58 894.5 58c-6.7 0-9.5 1.1-10 3.9-2.4 12.1-24.9 42.1-34.6 46.1-7.4 3.1-5.5-3.2 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-1-1.2-2.4-1.5-6.1-1-6.7.9-7.5 1.4-8.3 4.4-.3 1.5-2.3 5.6-4.5 9.2-2.1 3.6-7.5 13-12 21-28.3 50.1-35.9 60.5-43.8 59.8-5-.4-5.2-2.6-1.2-12.1 3.3-8.1 16.2-30.6 24.2-42.5l4.9-7.2h5.4c5.2 0 5.5-.1 5.5-2.5 0-2.3-.4-2.5-4-2.5-2.2 0-4-.2-4-.6 0-.3 1.8-3.2 4-6.4 5-7.4 11-18.9 11-21.3 0-2.7-12.2-2.5-15 .3zm-99.4 46.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zM271.5 16.5c-.5.2-2.2.6-3.7.9-1.6.4-2.8 1.2-2.8 1.9 0 1.7-2.4 6.2-12.9 24.7-18.8 33.1-33.6 57.7-36.5 60.9-4.7 5.1-12.6 8-12.6 4.6 0-2.6 4.7-11 12.7-22.8C224.3 74 226 70.5 226 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 5.5-20.8 38.1-29.4 46-4.8 4.4-7 5.2-7.9 2.8-1-2.5 1-7.5 7.2-18 8.4-14.3 18.1-31.8 18.1-32.8 0-.4-2.9-.8-6.5-.8s-6.5.4-6.5.8c0 .5-.6 1.6-1.3 2.6-1.3 1.8-1.5 1.7-4.1-.9-2.4-2.4-3.4-2.7-7-2.3-13.6 1.6-31.1 16.8-39.7 34.5-5.8 11.8-16.5 21-18.5 15.9-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8C79.6 74.8 86.7 65.8 91.6 64c7-2.7 5.7 3-5 21C78.9 97.9 75 106.6 75 110.8c0 .7 1.4 2.7 3 4.4 2.8 2.7 3.5 3 7.1 2.4 5.4-.9 9.2-2.9 14.4-7.7l4.3-3.9.7 3.6c.3 2.1 2 5 3.6 6.7 2.5 2.5 3.6 2.9 6.4 2.4 3.8-.6 9.8-4.5 16.4-10.6 2.4-2.3 4.5-4.1 4.7-4.1s.4 2.2.4 5c0 6.2 2.7 9.6 6.8 8.5 3.5-.9 8.2-3.1 11.1-5.2 2.4-1.7 2.4-1.7 1.3.4-2.1 3.8-1.5 4.3 5.1 4.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 8.3 7.1 10.9 16.7 6 4.4-2.2 4.7-2.2 4.7-.5 0 1.6.8 1.9 5.3 1.9 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.4 21.3-15.4 27.6-10.3 32.4 4.2 3.9 12 1.6 22.4-6.7l3.5-2.8-2.7 4c-4.2 6.2-3.7 7.5 2.6 7.5 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.3 21.1-15.4 27.6-10.5 32.2 4.5 4.3 12 2 22.5-6.7 5.6-4.7 6.2-5 6.2-2.9 0 3.7 3.4 8.3 7.6 10.3 14.4 7 36.7-6.2 47.5-28 4-8 4.4-9.5 4.4-16.1 0-6.3-.3-7.6-2.4-9.8-8.4-8.9-26.6-4-42.2 11.5-6.3 6.2-8.5 9.2-12.2 17-3.4 7.1-5.7 10.3-9.1 13.1-5.7 4.8-9.3 6.5-10.7 5.1-1.6-1.6 1.6-8.1 10.1-20.8 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-2-2.4-13.9-.7-13.9 2S293.2 74.5 284 88c-5 7.3-16 18.3-20.1 20-7.4 3.1-5.6-3.1 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13-21.5 16.4-28.5 14.8-30.5-1.1-1.4-4.9-1.9-7.5-1zM151.8 62.2c3.2 3.2-.1 12.6-10.1 28.1-8.9 13.8-16.1 20.7-21.6 20.7-2.7 0-4.4-3.4-3.5-7.3 2.3-11.1 21.5-37.5 29.9-41.3 3.7-1.7 3.8-1.7 5.3-.2zm232 0c3.5 3.5-1 17.8-9.8 31.1-10.1 15.4-20.3 22.2-25.5 17-6.8-6.7 12.9-39 29-47.6 3.7-2 4.7-2.1 6.3-.5z"/><path d="M505.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8zM684.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8z"/></svg> </a></div></div></header><main><div class="grid grid-cols-1 md:grid-cols-7 items-start gap-6 max-w-screen-xl mx-auto px-6"><div class=md:col-span-5><div class="bg-white p-8 shadow-lg dark:bg-gray-800"><h1 class="mb-4 text-3xl leading-relaxed font-bold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">HTML5 web worker: hiểu biết cơ bản</h1><div class="flex flex-wrap gap-x-4 mb-4 py-2 text-sm leading-relaxed text-gray-400"><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" stroke-linecap=round stroke-linejoin=round /></svg><a href=https://manhhomienbienthuy.github.io/category/lap-trinh.html> Lập trình </a></div><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap=round stroke-linejoin=round /></svg><a href=https://manhhomienbienthuy.github.io/2018> 2018-11-20 </a></div><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap=round stroke-linejoin=round /></svg><a href=https://manhhomienbienthuy.github.io/pages/gioi-thieu.html> manhhomienbienthuy </a></div><div><svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" stroke-linecap=round stroke-linejoin=round /></svg> 2023-11-21 00:46:56 (UTC)</div></div><figure class=mb-10><img alt="HTML5 web worker: hiểu biết cơ bản" class="w-full mb-4" decoding=async height=270 loading=lazy src=https://images.unsplash.com/photo-1589939705384-5185137a7f0f?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=1280 width=360><figcaption class="pb-2 text-sm text-gray-400 border-b border-gray-100 dark:border-gray-700">Photo by <a class="text-crimson hover:text-gray-400" rel="noopener noreferrer" href=https://unsplash.com/@jeriden94 target=_blank>Jeriden Villegas</a> from <a class="text-crimson hover:text-gray-400" rel="noopener noreferrer" href=https://unsplash.com/photos/man-in-orange-and-black-vest-wearing-white-helmet-holding-yellow-and-black-power-tool-VLPUm5wP5Z0 target=_blank>Unsplash</a></figcaption></figure><div class="md:text-lg leading-loose md:leading-loose text-justify"><p class=my-4>Web worker (còn tên gọi khác là worker) là một phương thức đơn giản cho phép website chạy các script ngầm. Tiến trình của worker có thể được thực thi mà không có bất cứ tương tác nào với giao diện người dùng. Trong bài viết này, chúng ta sẽ tìm hiểu một số cách sử dụng cơ bản của web worker.<div class="p-2 text-xs leading-relaxed bg-gray-100 whitespace-nowrap overflow-auto dark:bg-gray-900"><span class="font-semibold text-sm text-gray-900 mb-4 dark:text-gray-100">Mục lục</span><ul><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#van-e-tinh-toan-song-song-cua-javascript>Vấn đề: Tính toán song song của JavaScript</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#web-worker-thread-cho-javascript>Web worker: thread cho JavaScript</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#su-dung-web-worker>Sử dụng web worker</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#dedicated-worker>Dedicated worker</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#kiem-tra-worker-co-uoc-ho-tro-khong>Kiểm tra worker có được hỗ trợ không</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#sinh-mot-dedicated-worker>Sinh một dedicated worker</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#gui-message-en-worker>Gửi message đến worker</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#ngung-worker-ang-chay>Ngừng worker đang chạy</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#xu-ly-loi>Xử lý lỗi</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#sinh-ra-cac-worker-con>Sinh ra các worker con</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#import-cac-script-khac>Import các script khác</a></ul><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#shared-worker>Shared worker</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#sinh-mot-shared-worker>Sinh một shared worker</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#gui-nha-nhan-message-tu-shared-worker>Gửi nhà nhận message từ shared worker</a></ul><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#inline-worker>Inline worker</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#worker-scope>Worker scope</a></ul><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#khi-nao-thi-nen-su-dung-web-worker>Khi nào thì nên sử dụng web worker</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#mot-vai-van-e-khac>Một vài vấn đề khác</a><li><a class="text-crimson hover:text-gray-600 dark:hover:text-gray-300" href=#ket-luan>Kết luận</a></ul></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=van-e-tinh-toan-song-song-cua-javascript><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#van-e-tinh-toan-song-song-cua-javascript> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Vấn đề: Tính toán song song của JavaScript</h2><p class=my-4>Có rất nhiều vấn đề với khiến một ứng dụng có thể gặp phải “tắc cổ chai”, khiến cho một ứng dụng web cho tốt tới mức nào cũng rất khó tiếp cận người dùng do hiệu suất thấp. Những vấn đề này có thể đến từ phía server (xử lý nhiều, tối ưu kém) hoặc ngay ở JavaScript của phía client.<p class=my-4>Trong bài viết này, chúng ta sẽ tạm thời chỉ bàn về vấn đề của JavaScript, những vấn đề đó có thể bao gồm việc tương thích với các trình duyệt, hiệu suất của JavaScript engine. Rất may là những vấn đề này ngày nay hầu như không còn nữa do CPU đã mạnh hơn rất nhiều, đồng thời các trình duyệt hiện đại cũng nâng cao hiệu suất của JavaScript engine rất nhiều rồi. Thậm chí kể cả nỗi kinh hoàng đối với các developer là trình duyệt của Microsoft cũng đã chuyển mình.<p class=my-4>Chỉ còn một vấn đề duy nhất vẫn còn tồn tại của JavaScript là chính bản thân ngôn ngữ. JavaScript là một ngôn ngữ đơn luồng, có nghĩa là code JavaScript gần như không thể chạy song song.<p class=my-4>Hãy tưởng tượng rằng một website cần phải thực thi rất nhiều thứ trên client bằng JavaScript: Xử lý các event trên giao diện, truy vấn và xử lý các phản hồi từ API, thay đổi giao diện tuỳ theo thao tác của người dùng, v.v… Đây là những công việc hết sức phổ thông của một ứng dụng web. Thế nhưng, thật không may, những điều trên không thể được thực hiện đồng thời vì hạn chế của chính ngôn ngữ JavaScript. Việc thực thi script phải tuần tự trong một tiến trình duy nhất.<p class=my-4>Các developer thường sử dụng một số kỹ thuật để “giả lập” tính toán song song trong JavaScript như sử dụng <a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://www.w3schools.com/jsref/met_win_settimeout.asp target=_blank><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">setTimeout</code></a>, <a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://www.w3schools.com/jsref/met_win_setinterval.asp target=_blank><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">setInterval</code></a>, <a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://www.w3schools.com/xml/xml_http.asp target=_blank><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">XMLHttpRequest</code></a> và <a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://www.w3schools.com/js/js_events.asp target=_blank>event trigger</a>. Vâng, tất cả những thứ trên đều được chạy “bất đồng bộ” và trông “có vẻ như” việc thực thi code là song song. Thế nhưng “bất đồng bộ” không hoàn toàn là “song song”, bởi vì các hoạt động bất đồng bộ chỉ được thực hiện sau khi code đồng bộ được thực thi xong.<p class=my-4>Rất may là HTML 5 đã cung cấp cho chúng ta một phương thức mới giúp cho việc tính toán song song dễ dàng hơn rất nhiều.<h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=web-worker-thread-cho-javascript><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#web-worker-thread-cho-javascript> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Web worker: thread cho JavaScript</h2><p class=my-4>Web worker (còn được gọi ngắn là worker) cung cấp cho chúng ta một số API để sinh các tiểu trình để chạy ngầm. Web worker cho phép chúng ta có thể thực thi một số tác vụ như khởi tạo script chạy ngầm để thực hiện các thao tác nâng cao, nhưng không làm gián đoạn bất cứ thao tác nào trên UI cũng như các script khác ảnh hưởng đến trải nghiệm người dùng. Nó sẽ giúp các website tránh được tình trạng “unresponsive script” vẫn thỉnh thoảng xuất hiện khi JavaScript thực hiện tính toán quá lớn.<figure class="my-4 text-center"><img class="w-auto mx-auto" alt=unresponsive decoding=async height=270 loading=lazy src=https://cdn-images-1.medium.com/max/1600/0*w2rEwv9mE9xVPhRy.png width=360></figure><p class=my-4>Worker với cơ chế hoạt động multithread cho phép chúng ta thực hiện tính toán song song. Nó là phương án tốt nhất để giữ UI hoạt động trong khi các tác vụ nặng vẫn được thực thi.<p class=my-4>Có nhiều phương thức cho phép chúng ta làm việc này như web worker, service worker, v.v… Trong bài viết này, chúng ta chỉ đề cập đến một loại duy nhất, đó là web worker (có thể gọi tắt là worker). Các loại worker khác, xin dành cho các bài viết sau.<h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=su-dung-web-worker><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#su-dung-web-worker> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Sử dụng web worker</h2><p class=my-4>Web worker là một phương thức đơn giản cho phép chúng ta thực thi script ngầm bằng thread. Lưu ý rằng, web worker không tương tác trực tiếp với DOM mà việc tương tác phải thực hiện thông qua <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">postMessage</code>.<p class=my-4>Một worker là một object được tạo ra từ class <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Worker</code> (hoặc <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">SharedWorker</code>), nó sẽ thực thi một file JavaScript. File JavaScript sẽ chứa toàn bộ code chạy trong thread của worker, thread được thực thi trong ngữ cảnh hoàn khác với ngữ cảnh hiện tại. Vì vậy, nếu sử dụng biến <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">window</code> để truy cập đến các biến, hằng của ngữ cảnh hiện tại từ worker sẽ gặp lỗi.<p class=my-4>Ngữ cảnh của worker được đặt trong object <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">DedicatedWorkerGlobalScope</code> (trong trường hợp sử dụng dedicated worker) hoặc <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">SharedWorkerGlobalScope</code> (nếu sử dụng shared worker). Dedicated worker là worker chỉ tương tác từ một script duy nhất, nó chỉ có thể tương tác với script mà nó được sinh ra, trong khi shared worker có thể tương tác từ nhiều script khác nhau.<p class=my-4>Một worker có thể thực thi bất cứ code JavaScript nào (có một số ít ngoại lệ). Ví dụ, worker không thể tương tác với DOM, hoặc một số phương thức cũng như thuộc tính của <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">window</code> không thể truy cập được. Nhưng chúng ta có thể sử dụng một lượng lớn các cơ chế khác như Web socket, các cơ chế lưu trữ dữ liệu như IndexedDB, Data Store API (chỉ có ở Firefox).<p class=my-4>Dữ liệu được gửi và nhận giữa worker và thread chính của trình duyệt thông qua message. Cả hai phía đều gửi message thông qua phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">postMessage</code> và xử lý khi nhận message này thông qua event <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">onmessage</code>.<p class=my-4>Một worker có thể sinh ra một worker khác, miễn là các worker này đều có chung nguồn gốc với cha gốc của chúng. Ngoài ra, worker có thể sử dụng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">XMLHttpRequest</code> để thực thi các tác vụ liên quan đến truy vấn mạng. Tuy nhiên, khi đó <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">responseXML</code> và <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">channel</code> của request luôn luôn trống.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=dedicated-worker><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#dedicated-worker> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Dedicated worker</h3><p class=my-4>Dedicated worker (worker dành riêng), đúng như tên gọi của nó, là worker chỉ có tương tác bởi script đầu tiên đã sinh ra nó. Trong phần này, chúng ta sẽ tập trung tìm hiển về dedicated worker (tất nhiên là chỉ ở mức cơ bản).<p class=my-4>Chúng ta sẽ tìm hiểu dedicated worker thông qua một ví dụ như sau: Nhập vào hai số, các số này sẽ được gửi tới dedicated worker, thực hiện phép nhân chúng với nhau sau đó kết quả sẽ được gửi lại thread chính và hiển thị.<p class=my-4>Bạn có thể xem một demo của ví dụ này <a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://manhhomienbienthuy.github.io/web-worker-sample/dedicated/ target=_blank>ở đây</a>.<p class=my-4>Ví dụ này khá cơ bản, và có vẻ không thực tế lắm (chỉ nhân thì không cần đến worker chạy multithread làm gì cả). Thế nhưng nó là một ví dụ tốt để chúng ta tìm hiểu worker, không quá phức tạp và cũng dễ code.<h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=kiem-tra-worker-co-uoc-ho-tro-khong><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#kiem-tra-worker-co-uoc-ho-tro-khong> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Kiểm tra worker có được hỗ trợ không</h4><p class=my-4>Để dễ dàng hơn trong việc chạy thử trên website riêng, các bạn nên viết script thành các file riêng, và những code trong phần này nên để trong một file.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!!</span><span class=nb>window</span><span class=p>.</span><span class=nx>Worker</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=p>...</span>
<span class=p>}</span>
</code></pre></div><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=sinh-mot-dedicated-worker><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#sinh-mot-dedicated-worker> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Sinh một dedicated worker</h4><p class=my-4>Tạo một worker mới, mọi việc chúng ta cần làm là gọi class <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Worker</code> với URI chỉ vào file JavaScript để thực hiện tác dụng trong worker đó:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=kd>const</span><span class=w> </span><span class=nx>myWorker</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nx>Worker</span><span class=p>(</span><span class=s2>"worker.js"</span><span class=p>);</span>
</code></pre></div><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=gui-message-en-worker><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#gui-message-en-worker> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Gửi message đến worker</h4><p class=my-4>Mọi tương tác của worker đến thread chính đều thực hiện thông qua phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">postMessage</code> và event <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">onmessage</code>. Nếu muốn gửi dữ liệu đến worker, chúng ta phải thực hiện như sau:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nx>first</span><span class=p>.</span><span class=nx>onchange</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=></span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>myWorker</span><span class=p>.</span><span class=nx>postMessage</span><span class=p>([</span><span class=nx>first</span><span class=p>.</span><span class=nx>value</span><span class=p>,</span><span class=nx>second</span><span class=p>.</span><span class=nx>value</span><span class=p>]);</span>
<span class=w>    </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'Main (first.onchange): Message posted to worker'</span><span class=p>);</span>
<span class=p>}</span>

<span class=nx>second</span><span class=p>.</span><span class=nx>onchange</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=></span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>myWorker</span><span class=p>.</span><span class=nx>postMessage</span><span class=p>([</span><span class=nx>first</span><span class=p>.</span><span class=nx>value</span><span class=p>,</span><span class=nx>second</span><span class=p>.</span><span class=nx>value</span><span class=p>]);</span>
<span class=w>    </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'Main (second.onchange): Message posted to worker'</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p class=my-4>Ở đây chúng ta có hai thẻ <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">input</code> được đại diện bởi hai biến <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">first</code> và <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">second</code>. Khi giá trị của chúng thay đổi, phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">postMessage</code> sẽ được gọi để gửi những dữ liệu đó đến worker. Thực tế, chúng ta có thể gửi bất cứ dữ liệu gì trong message này.<p class=my-4>Trong worker, chúng ta sẽ xử lý những dữ liệu thu được thông qua event <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">onmessage</code>:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nx>onmessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=></span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'Worker: Message received from main script'</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>workerResult</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'Result: '</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mf>0</span><span class=p>]</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mf>1</span><span class=p>]);</span>
<span class=w>    </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'Worker: Posting message back to main script'</span><span class=p>);</span>
<span class=w>    </span><span class=nx>postMessage</span><span class=p>(</span><span class=nx>workerResult</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p class=my-4>Event <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">onmessage</code> cho phép chúng ta thực thi code của worker bất cứ khi nào nhận được message. Trong ví dụ của chúng ta, chúng ta chỉ đơn giản là nhân hai số nhận được từ message và gửi kết quả trở lại thread chính.<p class=my-4>Trong thread chính, chúng ta cũng sử dụng event <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">onmessage</code> để xử lý những dữ liệu nhận được từ worker:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nx>myWorker</span><span class=p>.</span><span class=nx>onmessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=></span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>result</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>;</span>
<span class=w>    </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'Main (myWorker.onmessage): Message received from worker'</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p class=my-4>Trong trường hợp cụ thể của chúng ta, chúng ta chỉ đơn giản là lấy dữ liệu này ra và hiển thị kết quả cho người dùng. Khi đó, người dùng có thể nhìn thấy kết quả tính toán một cách nhanh chóng.<p class=my-4>Lưu ý rằng, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">onmessage</code> và <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">postMessage</code> ở thread chính (dùng để sinh ra worker) cần phải được gọi kèm với worker tương ứng, nhưng ở trong worker thì không cần làm như vậy. Lý do rất đơn giản, thread chính có thể có nhiều worker, còn trong một worker thì đương nhiên chỉ có một thread của worker đó mà thôi.<p class=my-4>Một lưu ý nữa là message được gửi và nhận giữa worker và thread chính không sử dụng chung object. Có nghĩa là dữ liệu được gửi và nhận sẽ được “copy” chứ không phải cứ thế truyền đi luôn.<h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=ngung-worker-ang-chay><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#ngung-worker-ang-chay> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Ngừng worker đang chạy</h4><p class=my-4>Nếu muốn ngừng ngay lập tức một worker đang chạy từ thread chính, chúng ta có thể sử dụng phương thức sau:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nx>myWorker</span><span class=p>.</span><span class=nx>terminate</span><span class=p>();</span>
</code></pre></div><p class=my-4>Thread của worker sẽ ngay lập tức bị kill mà không cần đợi các tác vụ của nó được thực thi xong.<p class=my-4>Bên trong worker, nó cũng có thể tự kill mình bằng phương thức sau:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nx>close</span><span class=p>();</span>
</code></pre></div><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=xu-ly-loi><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#xu-ly-loi> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Xử lý lỗi</h4><p class=my-4>Khi có lỗi xảy ra trong quá trình thực thi của worker, chúng ta có thể sử dụng event <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">onerror</code> để bắt lỗi và xử lý. Bằng cách đó, chúng ta sẽ bắt một event là error (thuộc class <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">ErrorEvent</code>).<p class=my-4>Event lỗi này không thể cancel (<code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">cancelable = false</code>), nhưng worker có thể sử dụng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">preventDefault</code>. Phương thức này sẽ ngăn cản việc error đó ảnh hưởng đến bên ngoài.<p class=my-4>Event error có các thuộc tính sau mà chúng ta nên để ý:<ul class="list-revert ml-5"><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">message</code>: Đây là thông báo lỗi dễ hiểu cho người dùng.<li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">filename</code>: Tên file script đã gặp lỗi.<li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">lineno</code>: số dòng của script đã gặp lỗi.</ul><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=sinh-ra-cac-worker-con><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#sinh-ra-cac-worker-con> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Sinh ra các worker con</h4><p class=my-4>Worker có thể sinh ra các worker khác muốn. Những worker con đó phải có chung nguồn gốc với cha của chúng. Ngoài ra, URI của script được thực thi bởi worker con (sub-worker) sẽ được coi là đường dẫn tương đối tính từ worker cha của nó chứ không phải tính từ website. Điều đó giúp cho các worker dễ dàng theo dõi các con của nó hơn.<h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=import-cac-script-khac><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#import-cac-script-khac> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Import các script khác</h4><p class=my-4>Worker có thể sử dụng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">importScript</code> để import các script khác. Nó có thể không có tham số (không import gì) hoặc các URI là các script cần import. Tất cả các <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">importScript</code> sau đều hợp lệ:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nx>importScripts</span><span class=p>();</span><span class=w>                         </span><span class=cm>/* không import gì */</span>
<span class=nx>importScripts</span><span class=p>(</span><span class=s1>'foo.js'</span><span class=p>);</span><span class=w>                 </span><span class=cm>/* imports 1 script "foo.js" */</span>
<span class=nx>importScripts</span><span class=p>(</span><span class=s1>'foo.js'</span><span class=p>,</span><span class=w> </span><span class=s1>'bar.js'</span><span class=p>);</span><span class=w>       </span><span class=cm>/* imports 2 scripts */</span>
<span class=nx>importScripts</span><span class=p>(</span><span class=s1>'//example.com/hello.js'</span><span class=p>);</span><span class=w> </span><span class=cm>/* You can import scripts từ bên ngoài */</span>
</code></pre></div><p class=my-4>Trình duyệt sẽ load các script trong tham số và thực thi chúng. Tất cả các biến, hàm, v.v… của các script đó đều có thể truy cập được từ worker. Nếu script không thể load được, thì một exception là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">NETWORK_ERROR</code> sẽ được bắn ra, và các code tiếp theo nó sẽ bị dừng lại.<p class=my-4>Việc load các script được import này sẽ được thực hiện lần lượt, và thực hiện đồng bộ. Nghĩa là các script được load trước sẽ được thực thi trước, sau đó mới load tiếp các script khác. Nhờ vậy, các hàm, biến được định nghĩa ở script trước có thể được truy cập ở script sau.<p class=my-4>Lưu ý rằng, việc download các file từ URI có thể được thực hiện song song, nhưng việc thực thi code từ các file script đó chắc chắn sẽ là tuần tự. Hàm <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">importScript</code> sẽ chỉ return (tức là đã thực thi xong) nếu các script trong tham số của nó được thực thi xong.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=shared-worker><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#shared-worker> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Shared worker</h3><p class=my-4>Shared worker là worker có thể truy cập từ nhiều script khác nhau, thậm chí có thể truy cập được từ cửa sổ khác, iframe hoặc các worker khác. Trong phần này, chúng ta sẽ tìm hiểu một vài điểm cơ bản của shared worker.<p class=my-4>Cũng như phần trước, chúng ta sẽ tìm hiểu thông qua một ví dụ tương tự như phần trước, sử dụng worker để thực hiện phép nhân, mở thông thêm một chút là sử dụng luôn worker đó để thực hiện phép bình thường (là phép nhân một số với chính nó).<p class=my-4>Demo của ví dụ này có thể được xem <a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://manhhomienbienthuy.github.io/web-worker-sample/shared/ target=_blank>ở đây</a><p class=my-4>Lưu ý rằng, dù shared worker có thể truy cập từ nhiều script khác nhau, nhưng yêu cầu là những script này phải có chung nguồn gốc (cùng protocol, host, port).<h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=sinh-mot-shared-worker><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#sinh-mot-shared-worker> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Sinh một shared worker</h4><p class=my-4>Sinh một shared worker mới cũng đơn giản như sinh một dedicated worker vậy, sự khác biệt duy nhất là ở class của chúng:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=kd>const</span><span class=w> </span><span class=nx>myWorker</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nx>SharedWorker</span><span class=p>(</span><span class=s2>"worker.js"</span><span class=p>);</span>
</code></pre></div><p class=my-4>Một sự khác biệt rất lớn của shared worker đó là việc giao tiếp giữa worker và các script khác phải thông qua một object port – đây là cổng được mở để script có thể tương tác với worker. Không giống như dedicated worker, cổng này cũng được mở nhưng hoàn toàn trong suốt với lập trình viên.<p class=my-4>Việc kết nối thông qua port này có thể được thực hiện tự động thông qua event <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">onmessage</code> hoặc gọi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">start</code> cho tường minh. Nếu gọi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">start</code> thì việc này phải được thực hiện trước khi gửi và nhận message.<h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=gui-nha-nhan-message-tu-shared-worker><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#gui-nha-nhan-message-tu-shared-worker> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Gửi nhà nhận message từ shared worker</h4><p class=my-4>Việc gửi message từ shared worker cũng tương tự như dedicated worker, nhưng phương thức <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">postMessage</code> phải được gọi thông qua object <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">port</code>.<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nx>squareNumber</span><span class=p>.</span><span class=nx>onchange</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=></span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>myWorker</span><span class=p>.</span><span class=nx>port</span><span class=p>.</span><span class=nx>postMessage</span><span class=p>([</span><span class=nx>squareNumber</span><span class=p>.</span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>squareNumber</span><span class=p>.</span><span class=nx>value</span><span class=p>]);</span>
<span class=w>    </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'Message posted to worker'</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p class=my-4>Giờ đây, với shared worker, ở trong chính bản thân worker, việc xử lý kết nối sẽ phức tạp hơn một chút:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nx>onconnect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=></span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>port</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>e</span><span class=p>.</span><span class=nx>ports</span><span class=p>[</span><span class=mf>0</span><span class=p>];</span>

<span class=w>    </span><span class=nx>port</span><span class=p>.</span><span class=nx>onmessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=></span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>var</span><span class=w> </span><span class=nx>workerResult</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'Result: '</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mf>0</span><span class=p>]</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mf>1</span><span class=p>]);</span>
<span class=w>        </span><span class=nx>port</span><span class=p>.</span><span class=nx>postMessage</span><span class=p>(</span><span class=nx>workerResult</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p class=my-4>Trước tiên, chúng ta gọi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">onconnect</code> event để xử lý khi có kết nối đến <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">port</code> (event này sẽ được trigger khi thread cha của nó gọi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">onmessage</code> hoặc <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">start</code>). Sau đó, chúng ta phải sử dụng thuộc tính <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">port</code> của event để xử lý đúng kết nối đến worker.<p class=my-4>Sau đó, việc tính toán và xử lý tương tự như ví dụ với dedicated server. Quay trở lại với script chính, chúng ta cũng cần thực hiện việc nhận message từ worker:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nx>myWorker</span><span class=p>.</span><span class=nx>port</span><span class=p>.</span><span class=nx>onmessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=></span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>result2</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>;</span>
<span class=w>    </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'Message received from worker'</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p class=my-4>Lưu ý rằng, ở đây, chúng ta tạo worker thực hiện cùng một tác vụ (được định nghĩa trong <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">worker.js</code>), nếu không sử dụng shared worker, thì không thể làm được việc này. Bởi vì dedicated worker chỉ cho phép kết nối với script đầu tiên đã tạo ra nó, những script sau đó dù có sinh worker cũng không thể gửi và nhận message được.<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=inline-worker><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#inline-worker> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Inline worker</h3><p class=my-4>Có một số trường hợp, chúng ta muốn tạo ra worker một cách “động” mà không muốn viết script cho worker đó ra file riêng. Khi đó, chúng ta cần một phương thức nào đó để có thể cấp phát động một vùng nhớ để lưu trữ script đó.<p class=my-4>Rất may, một số thủ thuật với JavaScript có thể giúp chúng ta thực hiện việc đó khá dễ dàng. Lấy luôn ví dụ với worker thực hiện phép nhân của chúng ta, chúng ta có thể tạo ra inline worker như sau:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=kd>const</span><span class=w> </span><span class=nx>blob</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nx>Blob</span><span class=p>([</span>
<span class=w>    </span><span class=sb>`onmessage = (e) => {</span>
<span class=sb>        console.log('Worker: Message received from main script');</span>
<span class=sb>        const workerResult = 'Result: ' + (e.data[0] * e.data[1]);</span>
<span class=sb>        console.log('Worker: Posting message back to main script');</span>
<span class=sb>        postMessage(workerResult);</span>
<span class=sb>    }`</span>
<span class=p>]);</span>
<span class=kd>const</span><span class=w> </span><span class=nx>blobURL</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>window</span><span class=p>.</span><span class=nx>URL</span><span class=p>.</span><span class=nx>createObjectURL</span><span class=p>(</span><span class=nx>blob</span><span class=p>);</span>
<span class=kd>const</span><span class=w> </span><span class=nx>myWorker</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nx>Worker</span><span class=p>(</span><span class=nx>blobURL</span><span class=p>);</span>
</code></pre></div><p class=my-4>Demo của cách làm này, mời các bạn xem <a class="text-crimson border-b border-dotted border-crimson hover:text-gray-600 hover:border-gray-600 dark:hover:text-gray-300 dark:hover:border-gray-300" rel="noopener noreferrer" href=https://manhhomienbienthuy.github.io/web-worker-sample/inline/ target=_blank>ở đây</a>.<p class=my-4>Mấu chốt vấn đề ở đây đến từ <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Blob</code> và <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">BlobURL</code>, được tạo ra bởi <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">window.URL.createObjectURL</code>. Phương thức này sẽ tạo ra một URL để truy cập đến dữ liệu được lưu trong <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">DOM File</code> hoặc <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">Blob</code>:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code>blob:http://localhost/b8fce994-9a2e-48ea-9f51-c926960e8571
</code></pre></div><p class=my-4>Blob URL là duy nhất và sẽ tồn tại theo thời gian của website (nó chỉ mất đi nếu <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">document</code> unload).<h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=worker-scope><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#worker-scope> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Worker scope</h3><p class=my-4>Trong worker, ngữ cảnh của nó tương đối bị thu hẹp. Trong đó, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">self</code> và <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">this</code> tham chiếu đến chính worker đó, và là các biến global trong toàn bộ code của worker. Do đó, code của worker như sau:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nx>onmessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=></span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>workerResult</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'Result: '</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mf>0</span><span class=p>]</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mf>1</span><span class=p>]);</span>
<span class=w>    </span><span class=nx>postMessage</span><span class=p>(</span><span class=nx>workerResult</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p class=my-4>cũng tương đương với:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=nx>self</span><span class=p>.</span><span class=nx>onmessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=></span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>workerResult</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'Result: '</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mf>0</span><span class=p>]</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mf>1</span><span class=p>]);</span>
<span class=w>    </span><span class=nx>self</span><span class=p>.</span><span class=nx>postMessage</span><span class=p>(</span><span class=nx>workerResult</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p class=my-4>và tương đương luôn:<div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto"><pre class=text-sm><code><span class=k>this</span><span class=p>.</span><span class=nx>onmessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=></span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>workerResult</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'Result: '</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mf>0</span><span class=p>]</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>e</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mf>1</span><span class=p>]);</span>
<span class=w>    </span><span class=k>this</span><span class=p>.</span><span class=nx>postMessage</span><span class=p>(</span><span class=nx>workerResult</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p class=my-4>Ngoài ra, vì hoạt động của worker là multithread, nó chỉ có thể truy cập đến một phần nhỏ các biến cũng như hàm toàn cục của JavaScript như:<ul class="list-revert ml-5"><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">navigator</code><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">location</code> (read only)<li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">XMLHttpRequest</code><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">setTimeout</code>, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">clearTimeout</code><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">setInterval</code>, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">clearInterval</code></ul><p class=my-4>Worker <strong>không thể</strong> truy cập được đến:<ul class="list-revert ml-5"><li>DOM<li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">window</code><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">document</code><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">parent</code></ul><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=khi-nao-thi-nen-su-dung-web-worker><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#khi-nao-thi-nen-su-dung-web-worker> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Khi nào thì nên sử dụng web worker</h2><p class=my-4>Web worker rất cool và cực kỳ hữu ích với các ứng dụng web. Dưới đây là một số tình huống chúng ta có thể sử dụng web worker trong ứng dụng web của mình:<ul class="list-revert ml-5"><li>Tải trước dữ liệu nhưng không dùng ngay mà để sau này mới dùng đến.<li>Các thao tác định dang văn bản real-time (ví dụ code highlight hay preview với các editor trên nền web).<li>Kiểm tra chính tả, kiểm tra ngữ pháp của văn bản nhập vào.<li>Xử lý, phân tích dữ liệu hình ảnh, âm thanh.<li>Các thao tác truyền, nhận dữ liệu qua long polling.<li>Xử lý một khối lượng dữ liệu JSON rất lớn.<li>v.v…</ul><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=mot-vai-van-e-khac><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#mot-vai-van-e-khac> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Một vài vấn đề khác</h2><p class=my-4>Trình duyệt Google Chrome có một số giới hạn liên quan đến bảo mật, nên worker không thể chạy được từ file tĩnh (load bằng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">file:///</code>, tất nhiên là có thể thay đổi settings này). Một số trình duyệt dẫn xuất từ Chromium cũng gặp phải vấn đề này (ví dụ Opera).<p class=my-4>Ngoài ra, việc load script cho worker yêu cầu phải chung nguồn gốc với website hiện tại, do đó, không thể load script từ <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">data:</code> hoặc <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-[90%]">javascript:</code>. Đồng thời trang web sử dụng HTTPS cũng không thể load script cho worker sử dụng HTTP.<p class=my-4>Worker thật sự sinh ra một thread trong bộ nhớ máy tính, nhiều người có thể lo lắng rằng nó sẽ gây ra các tác dụng phụ với hệ thống. Tuy nhiên, web worker được quản lý rất cẩn thận trong việc tương tác với các thread khác, nên thường nó rất khó gây ra các lỗi cho hệ thống. Nó không được truy cập DOM cũng như các object không thread-safe khác, do đó, rất khó để gặp vấn đề với worker.<h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=ket-luan><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" title="Permanent link" href=#ket-luan> <svg class="size-4 inline-block" viewbox="0 0 24 24" fill=none height=16 stroke=currentColor width=16 xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg> </a>Kết luận</h2><p class=my-4>Worker thực sự là một giải pháp cho phép chúng ta thực hiện multithread với JavaScript rất hay. Hy vọng bài viết giúp ích cho các bạn trong công việc, trong các bài viết sau, chúng ta sẽ dành thời gian tìm hiểu các loại worker khác.</div><div class="mt-8 text-sm leading-relaxed"><svg class="inline size-4" viewbox="0 0 24 24" fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg><a class="text-crimson hover:text-gray-600 cursor-pointer dark:hover:text-gray-300" href=https://manhhomienbienthuy.github.io/tag/javascript.html> #JavaScript </a><a class="text-crimson hover:text-gray-600 cursor-pointer dark:hover:text-gray-300" href=https://manhhomienbienthuy.github.io/tag/fundamental.html> #Fundamental </a><a class="text-crimson hover:text-gray-600 cursor-pointer dark:hover:text-gray-300" href=https://manhhomienbienthuy.github.io/tag/web-worker.html> #Web worker </a><a class="text-crimson hover:text-gray-600 cursor-pointer dark:hover:text-gray-300" href=https://manhhomienbienthuy.github.io/tag/multithread.html> #multithread </a></div></div><div class="flex justify-between items-center my-10 text-sm"><div class="flex-grow text-left"><a class="p-2 text-white bg-crimson" href=https://manhhomienbienthuy.github.io/2018/11/25/review-mot-so-markdown-editor-toi-da-dung.html> <svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M10 19l-7-7m0 0l7-7m-7 7h18" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> Bài viết sau </a></div><div class="flex-grow text-right"><a class="p-2 text-white bg-crimson" href=https://manhhomienbienthuy.github.io/2018/11/09/ro-ri-thong-tin-ca-nhan.html> Bài viết trước <svg class="inline size-4" viewbox="0 2 24 24" fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><path d="M14 5l7 7m0 0l-7 7m7-7H3" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> </a></div></div><div class="mb-8 p-8 text-justify bg-white shadow-lg dark:bg-gray-800"><p class="mb-2 italic leading-relaxed">Tôi xin lỗi nếu bài viết có bất kỳ typo nào. Nếu bạn nhận thấy điều gì bất thường, xin hãy cho tôi biết.<p class="mb-8 leading-relaxed">Nếu có bất điều gì muốn nói, bạn có thể liên hệ với tôi qua các mạng xã hội, tạo discussion hoặc report issue trên Github.<div class="flex justify-between mb-4 text-gray-900 dark:text-gray-100"><a rel="noopener noreferrer" href=https://x.com/_naa_4f target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>X</title><path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"/></svg> </a><a rel="noopener noreferrer" href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg> </a><a rel="noopener noreferrer" href=https://www.facebook.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank> <svg viewbox="0 0 24 24" class=size-6 fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><title>Discussion</title><path d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Issue</title><path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/></svg> </a></div></div></div><div class="md:col-span-2 flex-shrink-0 p-6 bg-white text-sm leading-relaxed shadow-[0_2px_20px_-10px_#000] dark:bg-gray-800"><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Welcome</h2><img class="w-3/4 mx-auto mb-4 rounded-full" alt=manhhomienbienthuy height=262 src=https://manhhomienbienthuy.github.io/meow.webp width=262><p class="mb-10 text-center">Đây là thế giới của manhhomienbienthuy (naa). Chào mừng đến với thế giới của tôi!<h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Bài viết liên quan</h2><div class="mb-10 divide-y"><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow" href=https://manhhomienbienthuy.github.io/2018/12/20/html5-web-worker-truyen-du-lieu.html> <img alt="HTML5 web worker: truyền dữ liệu" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1609619385076-36a873425636?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2018/12/20/html5-web-worker-truyen-du-lieu.html> HTML5 web worker: truyền dữ liệu </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow" href=https://manhhomienbienthuy.github.io/2023/02/02/gioi-thieu-deno-mot-lua-chon-thay-the-cho-nodejs.html> <img alt="Giới thiệu Deno – một lựa chọn thay thế cho Node.js" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://cdn.pixabay.com/photo/2016/01/05/17/22/good-1122969_640.jpg width=64> </a><a href=https://manhhomienbienthuy.github.io/2023/02/02/gioi-thieu-deno-mot-lua-chon-thay-the-cho-nodejs.html> Giới thiệu Deno – một lựa chọn thay thế cho Node.js </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow" href=https://manhhomienbienthuy.github.io/2016/03/28/hieu-va-master-tu-khoa-this-cua-javascript.html> <img alt="Hiểu và master từ khoá “this” của JavaScript" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1516116216624-53e697fedbea?ixlib=rb-4.0.3&w=640&q=80&fm=webp&crop=entropy&cs=tinysrgb width=64> </a><a href=https://manhhomienbienthuy.github.io/2016/03/28/hieu-va-master-tu-khoa-this-cua-javascript.html> Hiểu và master từ khoá “this” của JavaScript </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow" href=https://manhhomienbienthuy.github.io/2024/01/18/so-sanh-css-in-js-vs-css-module.html> <img alt="So sánh: CSS-in-JS vs CSS module" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1522826657326-0466ba28c41f?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2024/01/18/so-sanh-css-in-js-vs-css-module.html> So sánh: CSS-in-JS vs CSS module </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow" href=https://manhhomienbienthuy.github.io/2023/10/10/nodejs-patterns-best-practices.html> <img alt="Node.js: Patterns & best practices" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1561883088-039e53143d73?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2023/10/10/nodejs-patterns-best-practices.html> Node.js: Patterns & best practices </a></div></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Bài viết mới</h2><div class="divide-y mb-10"><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2024/02/02/so-sanh-kien-truc-stateful-vs-stateless.html> <img alt="So sánh: kiến trúc stateful vs stateless" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1484278786775-527ac0d0b608?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2024/02/02/so-sanh-kien-truc-stateful-vs-stateless.html> So sánh: kiến trúc stateful vs stateless </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2024/01/28/macos-co-phai-unix-hay-khong.html> <img alt="macOS có phải UNIX hay không?" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1639506060149-af767c78bf23?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2024/01/28/macos-co-phai-unix-hay-khong.html> macOS có phải UNIX hay không? </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2024/01/18/so-sanh-css-in-js-vs-css-module.html> <img alt="So sánh: CSS-in-JS vs CSS module" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1522826657326-0466ba28c41f?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2024/01/18/so-sanh-css-in-js-vs-css-module.html> So sánh: CSS-in-JS vs CSS module </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2023/12/12/bi-an-layout-qwerty.html> <img alt="Bí ẩn layout QWERTY" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://cdn.pixabay.com/photo/2016/03/10/09/24/typewriter-1248088_640.jpg width=64> </a><a href=https://manhhomienbienthuy.github.io/2023/12/12/bi-an-layout-qwerty.html> Bí ẩn layout QWERTY </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 size-16 shadow-[0_0_10px_-5px_#000]" href=https://manhhomienbienthuy.github.io/2023/11/30/lambda-trong-python.html> <img alt="Lambda trong Python" class="size-full p-1 object-cover" decoding=async height=64 loading=lazy src=https://images.unsplash.com/photo-1597589827703-f4b68eafa0ce?ixlib=rb-4.0.3&q=85&fm=webp&crop=entropy&cs=srgb&w=640 width=64> </a><a href=https://manhhomienbienthuy.github.io/2023/11/30/lambda-trong-python.html> Lambda trong Python </a></div></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Chuyên mục</h2><div class="flex flex-wrap gap-2 mb-10 text-xs dark:border-gray-100"><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/cuoc-song.html> Cuộc sống </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/du-lich.html> Du lịch </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/lap-trinh.html> Lập trình </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=https://manhhomienbienthuy.github.io/category/tong-hop.html> Tổng hợp </a></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Lưu trữ theo năm</h2><div class="flex flex-wrap gap-[0.57rem] mb-10 text-xs"><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2024/> 2024 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2023/> 2023 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2022/> 2022 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2021/> 2021 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2020/> 2020 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2019/> 2019 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2018/> 2018 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2017/> 2017 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2016/> 2016 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2015/> 2015 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2014/> 2014 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2013/> 2013 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2012/> 2012 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2011/> 2011 </a><a class="py-1 w-10 text-white text-center bg-crimson" href=https://manhhomienbienthuy.github.io/2010/> 2010 </a></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100 after:block after:h-px after:w-8 after:mb-4 after:bg-gray-900 after:shadow-heading dark:after:bg-gray-100 dark:after:shadow-heading-dark">Thông tin liên hệ</h2><p class="mb-8 text-justify">Cảm ơn bạn đã quan tâm blog của tôi. Nếu có bất điều gì muốn nói, bạn có thể liên hệ với tôi qua các mạng xã hội, tạo discussion hoặc report issue trên Github.<div class="flex justify-between mb-8 text-gray-900 dark:text-gray-100"><a rel="noopener noreferrer" href=https://x.com/_naa_4f target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>X</title><path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"/></svg> </a><a rel="noopener noreferrer" href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg> </a><a rel="noopener noreferrer" href=https://www.facebook.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank> <svg viewbox="0 0 24 24" class=size-6 fill=none stroke=currentColor xmlns=http://www.w3.org/2000/svg><title>Discussion</title><path d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> </a><a rel="noopener noreferrer" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank> <svg viewbox="0 0 16 16" class=size-6 fill=currentColor xmlns=http://www.w3.org/2000/svg><title>Issue</title><path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/></svg> </a></div></div></div></main><footer class="mt-8 text-white"><div class=bg-gray-800><div class="grid grid-cols-1 md:grid-cols-3 md:gap-8 max-w-screen-xl mx-auto px-4 leading-loose text-justify"><div class=py-8><a href=https://manhhomienbienthuy.github.io title=manhhomienbienthuy> <svg class="w-full h-auto text-white" viewbox="0 0 1000 165" fill=currentColor height=165 version=1.0 width=1000 xmlns=http://www.w3.org/2000/svg><path d="M651.5 14.7c-10.4 1-11.6 1.4-11 3.3.9 2.9-1.2 7-17.6 34.2-8.4 13.9-17.6 30.2-20.4 36.3-3.5 7.4-6.7 12.4-9.6 15.4-6.1 6.1-13.9 9.2-13.9 5.6 0-2.6 4.7-11 12.7-22.8C600.3 74 602 70.5 602 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C500.2 71 505.5 60.6 504.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.2-3.6 4.8-2 6.7-19.5 35.4-25 41.1-5.1 5.1-8.7 6.6-9.8 3.8-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8c13.2-20.9 20.3-29.9 25.2-31.7 7-2.7 5.7 3-5 21-7.7 12.9-11.6 21.6-11.6 25.8 0 2 5.5 7.2 7.7 7.2 3.9 0 9.5-2.2 13.8-5.5 2.5-1.9 4.7-3.5 5-3.5s.5 1.3.5 2.8c0 1.7 1 3.8 2.5 5.2 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-5 7.7-10 15.9-11.2 18.2-2.7 5.4-2.9 11.8-.4 14.6 4.4 4.8 16.5 1.1 25.6-8l4.8-4.8.6 3.8c1.3 8.3 8.3 12.4 17.3 10.2 18.5-4.6 39.3-28 39.3-44.3 0-14-8.6-18.8-20-11.1-5.5 3.7-5.5 3.7-3.6.8 5.6-8.5 23.6-41 24.1-43.6.8-3.7 0-4.6-4-4.2zM542.6 62.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zm101 3c1.9 7.8-15.7 39.6-25.6 46.3-2.2 1.4-4.6 2.2-6.5 2-2.6-.3-3-.7-3.3-3.6-.8-8.1 8.8-27.5 19.7-39.5 7-7.8 14.4-10.2 15.7-5.2zM821 16c-1.1 1.1-2 2.7-2 3.5 0 2.1-5.3 12.5-9.7 19.2l-3.6 5.3h-5.8c-5.6 0-5.9.1-5.9 2.4 0 2.2.5 2.5 4.4 2.8l4.4.3-11 18c-6 9.9-13 22-15.4 27-4.7 9.9-7.3 13-12.1 15.1-4.2 1.8-6.3 1.8-6.3-.1 0-2.6 4.7-11 12.7-22.8C779.3 74 781 70.5 781 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C679.2 71 684.5 60.6 683.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.3-3.6 4.9-.7 2.2-4.9 10-9.3 17.3-10.4 17-12.9 22.7-12.9 28.8 0 3.8.5 5.2 2.5 7.1 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 10.4 11 11.4 23.4 2l3.5-2.7.8 3c2.1 8.2 12.3 8.2 22.8 0 4.4-3.5 5.6-3.7 3.5-.7-3.1 4.4-2.2 5.8 3.7 5.8 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-9.8 15.5-12.8 21.7-12.8 26.5 0 4.4 3.3 7.9 7.6 7.9 4.5 0 12.6-4.5 18.6-10.3l5.4-5.2-.4 5.2c-.5 6.3 1.3 9.8 5.7 10.8s9.5-1.7 17.1-9.1l6.9-6.6-.2 5.5c-.2 4.2.3 6 1.7 7.6 2.8 3.1 8.3 2.8 13.2-.7l3.9-2.8 2 3c1.1 1.6 3.1 3.3 4.5 3.6 3.8 1 11.1-1.5 15.8-5.5 2.3-2 4.2-3.4 4.2-3.1 0 1.2-10.4 19.3-13.5 23.6-4.7 6.4-14.3 15.4-19.3 17.9-4.7 2.4-10.9 2.7-13.7.8-1.6-1.2-1.6-1.8-.7-4.7 1.6-4.4 1.5-5.6-.4-7.4-3.8-3.8-10.4.2-10.4 6.3 0 11 18.9 13.3 36.9 4.5 11.2-5.5 20.6-15.4 29.7-31.4 3.9-6.9 10.6-18.4 14.9-25.5 16.8-28.2 19.1-32.6 18-34.5-.4-.6-3.5-1-7.1-1-5.3 0-6.6.3-7 1.7-.8 2.9-12.5 25.4-16.1 31.2-6.9 10.8-18.9 21.2-22.8 19.7-2.8-1 1.4-11 11-26.7 7.3-11.8 12.7-22.8 12.1-24.5-.6-1.5-4.4-1.8-9.5-.8-2.7.6-3.6 1.5-5.5 5.8-1.3 2.8-5.8 10.6-10 17.4-7.7 12.2-12.6 21.5-12.6 23.9 0 1.7-4.6 4.6-6 3.8-3.2-2 .2-11 10.4-27.8 7.7-12.8 11.5-20.1 11.6-22.5 0-.8-1.4-1.2-4.2-1.1-9.3.3-9.7.6-13.8 10.2-6.6 15.4-24.1 39.3-30.4 41.7-2.9 1-4.6.2-4.6-2.4 0-1.2 3.9-8.7 8.6-16.7C900 63.4 901.8 58 894.5 58c-6.7 0-9.5 1.1-10 3.9-2.4 12.1-24.9 42.1-34.6 46.1-7.4 3.1-5.5-3.2 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-1-1.2-2.4-1.5-6.1-1-6.7.9-7.5 1.4-8.3 4.4-.3 1.5-2.3 5.6-4.5 9.2-2.1 3.6-7.5 13-12 21-28.3 50.1-35.9 60.5-43.8 59.8-5-.4-5.2-2.6-1.2-12.1 3.3-8.1 16.2-30.6 24.2-42.5l4.9-7.2h5.4c5.2 0 5.5-.1 5.5-2.5 0-2.3-.4-2.5-4-2.5-2.2 0-4-.2-4-.6 0-.3 1.8-3.2 4-6.4 5-7.4 11-18.9 11-21.3 0-2.7-12.2-2.5-15 .3zm-99.4 46.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zM271.5 16.5c-.5.2-2.2.6-3.7.9-1.6.4-2.8 1.2-2.8 1.9 0 1.7-2.4 6.2-12.9 24.7-18.8 33.1-33.6 57.7-36.5 60.9-4.7 5.1-12.6 8-12.6 4.6 0-2.6 4.7-11 12.7-22.8C224.3 74 226 70.5 226 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 5.5-20.8 38.1-29.4 46-4.8 4.4-7 5.2-7.9 2.8-1-2.5 1-7.5 7.2-18 8.4-14.3 18.1-31.8 18.1-32.8 0-.4-2.9-.8-6.5-.8s-6.5.4-6.5.8c0 .5-.6 1.6-1.3 2.6-1.3 1.8-1.5 1.7-4.1-.9-2.4-2.4-3.4-2.7-7-2.3-13.6 1.6-31.1 16.8-39.7 34.5-5.8 11.8-16.5 21-18.5 15.9-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8C79.6 74.8 86.7 65.8 91.6 64c7-2.7 5.7 3-5 21C78.9 97.9 75 106.6 75 110.8c0 .7 1.4 2.7 3 4.4 2.8 2.7 3.5 3 7.1 2.4 5.4-.9 9.2-2.9 14.4-7.7l4.3-3.9.7 3.6c.3 2.1 2 5 3.6 6.7 2.5 2.5 3.6 2.9 6.4 2.4 3.8-.6 9.8-4.5 16.4-10.6 2.4-2.3 4.5-4.1 4.7-4.1s.4 2.2.4 5c0 6.2 2.7 9.6 6.8 8.5 3.5-.9 8.2-3.1 11.1-5.2 2.4-1.7 2.4-1.7 1.3.4-2.1 3.8-1.5 4.3 5.1 4.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 8.3 7.1 10.9 16.7 6 4.4-2.2 4.7-2.2 4.7-.5 0 1.6.8 1.9 5.3 1.9 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.4 21.3-15.4 27.6-10.3 32.4 4.2 3.9 12 1.6 22.4-6.7l3.5-2.8-2.7 4c-4.2 6.2-3.7 7.5 2.6 7.5 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.3 21.1-15.4 27.6-10.5 32.2 4.5 4.3 12 2 22.5-6.7 5.6-4.7 6.2-5 6.2-2.9 0 3.7 3.4 8.3 7.6 10.3 14.4 7 36.7-6.2 47.5-28 4-8 4.4-9.5 4.4-16.1 0-6.3-.3-7.6-2.4-9.8-8.4-8.9-26.6-4-42.2 11.5-6.3 6.2-8.5 9.2-12.2 17-3.4 7.1-5.7 10.3-9.1 13.1-5.7 4.8-9.3 6.5-10.7 5.1-1.6-1.6 1.6-8.1 10.1-20.8 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-2-2.4-13.9-.7-13.9 2S293.2 74.5 284 88c-5 7.3-16 18.3-20.1 20-7.4 3.1-5.6-3.1 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13-21.5 16.4-28.5 14.8-30.5-1.1-1.4-4.9-1.9-7.5-1zM151.8 62.2c3.2 3.2-.1 12.6-10.1 28.1-8.9 13.8-16.1 20.7-21.6 20.7-2.7 0-4.4-3.4-3.5-7.3 2.3-11.1 21.5-37.5 29.9-41.3 3.7-1.7 3.8-1.7 5.3-.2zm232 0c3.5 3.5-1 17.8-9.8 31.1-10.1 15.4-20.3 22.2-25.5 17-6.8-6.7 12.9-39 29-47.6 3.7-2 4.7-2.1 6.3-.5z"/><path d="M505.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8zM684.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8z"/></svg> </a><div class="flex items-center mb-4 gap-4"><img class="size-16 rounded-full" alt=manhhomienbienthuy height=56 src=https://manhhomienbienthuy.github.io/meow.webp width=56><p>manhhomienbienthuy | naa<br> salaried coder</div></div><div class=py-8><p class=mb-4>Trang web này được viết bằng tất cả ♥ và tinh thần của tôi, dành tặng cho yunachan – tình yêu của tôi.<p class=mb-4>Mã HTML được built bởi Pelican, sử dụng Python-Markdown, Pygments và nhiều công cụ khác.<p class=mb-4>Nội dung trang web này được cấp phép theo giấy phép <a rel="noopener noreferrer" class=font-bold href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a>. Mã nguồn được cấp phép theo giấy phép <a rel="noopener noreferrer" class=font-bold href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/blob/main/LICENSE target=_blank>MIT License</a>.</div><div class=py-8><p class=mb-4>Nhiều bài viết của tôi được thực hiện từ lâu, nội dung của chúng có thể đã lỗi thời. Suy nghĩ của tôi nhiều khi đã thay đổi và tôi có thể sẽ tiếp cận theo cách khác nếu viết bài vào thời điểm hiện tại. Dù vậy, tôi ít khi sửa lại nội dung bài viết cũ mà chỉ sữa lỗi typo. Nếu nội dung có gì cập nhật, tôi sẽ chú thích trong bài.</div></div></div><div class=bg-gray-900><div class="flex flex-wrap justify-between max-w-screen-xl mx-auto px-4"><div class="pt-4 md:py-4">Copyright © 2010–2024 <a class=font-bold href=https://manhhomienbienthuy.github.io/pages/gioi-thieu.html> manhhomienbienthuy </a></div><div class="flex-grow py-4 text-right divide-x divide-solid"><a class=px-2 href=https://manhhomienbienthuy.github.io> Trang chủ </a><a class=px-2 href=https://manhhomienbienthuy.github.io/pages/gioi-thieu.html> Giới thiệu </a><a class=px-2 href=https://manhhomienbienthuy.github.io/pages/computer-info.html> Computer Info </a></div></div></div></footer><script defer src=https://manhhomienbienthuy.github.io/theme/js/app.js></script>